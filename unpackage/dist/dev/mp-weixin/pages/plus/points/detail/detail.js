(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/plus/points/detail/detail"],{397:function(t,e,n){"use strict";(function(t,e){var i=n(4);n(26);i(n(25));var a=i(n(398));t.__webpack_require_UNI_MP_PLUGIN__=n,e(a.default)}).call(this,n(1)["default"],n(2)["createPage"])},398:function(t,e,n){"use strict";n.r(e);var i=n(399),a=n(401);for(var r in a)["default"].indexOf(r)<0&&function(t){n.d(e,t,(function(){return a[t]}))}(r);n(403);var o,s=n(34),c=Object(s["default"])(a["default"],i["render"],i["staticRenderFns"],!1,null,null,null,!1,i["components"],o);c.options.__file="pages/plus/points/detail/detail.vue",e["default"]=c.exports},399:function(t,e,n){"use strict";n.r(e);var i=n(400);n.d(e,"render",(function(){return i["render"]})),n.d(e,"staticRenderFns",(function(){return i["staticRenderFns"]})),n.d(e,"recyclableRender",(function(){return i["recyclableRender"]})),n.d(e,"components",(function(){return i["components"]}))},400:function(t,e,n){"use strict";var i;n.r(e),n.d(e,"render",(function(){return a})),n.d(e,"staticRenderFns",(function(){return o})),n.d(e,"recyclableRender",(function(){return r})),n.d(e,"components",(function(){return i}));var a=function(){var t=this,e=t.$createElement,n=(t._self._c,t.loadding?null:t.points_name());t.$mp.data=Object.assign({},{$root:{m0:n}})},r=!1,o=[];a._withStripped=!0},401:function(t,e,n){"use strict";n.r(e);var i=n(402),a=n.n(i);for(var r in i)["default"].indexOf(r)<0&&function(t){n.d(e,t,(function(){return i[t]}))}(r);e["default"]=a.a},402:function(t,e,n){"use strict";(function(t){var i=n(4);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var a=i(n(30)),r=function(){Promise.all([n.e("common/vendor"),n.e("pages/plus/points/detail/popup/Spec")]).then(function(){return resolve(n(1056))}.bind(null,n)).catch(n.oe)},o=function(){n.e("components/mpservice/Mpservice").then(function(){return resolve(n(986))}.bind(null,n)).catch(n.oe)},s=function(){n.e("components/guarantee").then(function(){return resolve(n(965))}.bind(null,n)).catch(n.oe)},c={components:{Spec:r,Mpservice:o,guarantee:s},data:function(){return{phoneHeight:0,scrollviewHigh:0,loadding:!0,indicatorDots:!0,autoplay:!0,interval:2e3,duration:500,point_product_id:null,imagList:[],alreadyChioce:"",detail:{product_sku:{},show_sku:{product_price:"",product_sku_id:0,line_price:"",stock_num:0,sku_image:""},show_point_sku:{}},isPopup:!1,specData:null,productModel:{},productSku:[],isMpservice:!1,serverList:"",isguarantee:!1,shop_info:{},store_open:1}},onReady:function(){t.setNavigationBarTitle({title:this.points_name()+"商品"})},onLoad:function(t){this.point_product_id=t.point_product_id},mounted:function(){this.getData()},methods:{getData:function(){var e=this,n=e.point_product_id;t.showLoading({title:"加载中"}),e._get("plus.points.product/detail",{point_product_id:n},(function(n){n.data.detail.product.content=a.default.format_content(n.data.detail.product.content),20==n.data.detail.product.spec_type&&e.initSpecData(n.data.detail.sku,n.data.specData),e.store_open=n.data.store_open,e.detail=n.data.detail,e.shop_info=n.data.detail.supplier,e.getServer(),e.loadding=!1,t.hideLoading()}))},getServer:function(){var t=this,e=[];t.detail.server&&(t.detail.server.forEach((function(t,n){e.push(t.name)})),t.serverList=e.join("·"))},closeGuarantee:function(){this.isguarantee=!1},showGuarantee:function(){this.isguarantee=!0},initSpecData:function(t,e){for(var n=this,i=0;i<t.length;i++){var a=t[i];if(a.productSku){var r=a.productSku.spec_sku_id.split("_").map(Number);this.productSku.push(r)}}for(var o in e.spec_attr)for(var s=0;s<e.spec_attr[o].spec_items.length;s++){var c=e.spec_attr[o].spec_items[s];this.hasSpec(c.item_id,o)?(c.checked=!1,c.disabled=!1):(e.spec_attr[o].spec_items.splice(s,1),s--)}this.specData=e,this.specData.spec_attr&&(this.specData.spec_attr.forEach((function(t){n.alreadyChioce+=t.group_name,n.alreadyChioce+=" / "})),this.alreadyChioce=this.alreadyChioce.replace(/(\s\/\s)$/gi,""))},hasSpec:function(t,e){for(var n=!1,i=0;i<this.productSku.length;i++){var a=this.productSku[i];if(a[e]==t){n=!0;break}}return n},openPopup:function(t){var e={specData:this.specData,detail:this.detail,productSpecArr:null!=this.specData?new Array(this.specData.spec_attr.length):[],show_sku:{sku_image:"",seckill_price:0,product_sku_id:0,line_price:0,seckill_stock:0,seckill_product_sku_id:0,sum:1},productSku:this.productSku,type:t};this.productModel=e,this.isPopup=!0},closePopup:function(t,e){if(this.isPopup=!1,console.log(t),t&&t.spec_attr){this.alreadyChioce="";var n="已选：",i="";t.spec_attr.forEach((function(t){if(t.spec_items){for(var e="",a=0;a<t.spec_items.length;a++){var r=t.spec_items[a];if(r.checked){e=r.spec_value+" / ";break}}""!=e?n+=e:i+=t.group_name}})),""!=i?this.alreadyChioce=i:(n=n.replace(/(\s\/\s)$/gi,""),this.alreadyChioce=n)}e&&(this.cart_total_num=e)},openMaservice:function(){this.isMpservice=!0},closeMpservice:function(){this.isMpservice=!1},goto_shop:function(){var t=this;t.gotoPage("/pages/shop/shop?shop_supplier_id="+t.detail.supplier.shop_supplier_id)}}};e.default=c}).call(this,n(2)["default"])},403:function(t,e,n){"use strict";n.r(e);var i=n(404),a=n.n(i);for(var r in i)["default"].indexOf(r)<0&&function(t){n.d(e,t,(function(){return i[t]}))}(r);e["default"]=a.a},404:function(t,e,n){}},[[397,"common/runtime","common/vendor"]]]);
//# sourceMappingURL=../../../../../.sourcemap/mp-weixin/pages/plus/points/detail/detail.js.map