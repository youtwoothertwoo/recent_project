(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/plus/signin/signin"],{381:function(t,n,e){"use strict";(function(t,n){var i=e(4);e(26);i(e(25));var a=i(e(382));t.__webpack_require_UNI_MP_PLUGIN__=e,n(a.default)}).call(this,e(1)["default"],e(2)["createPage"])},382:function(t,n,e){"use strict";e.r(n);var i=e(383),a=e(385);for(var r in a)["default"].indexOf(r)<0&&function(t){e.d(n,t,(function(){return a[t]}))}(r);e(387);var o,u=e(34),s=Object(u["default"])(a["default"],i["render"],i["staticRenderFns"],!1,null,null,null,!1,i["components"],o);s.options.__file="pages/plus/signin/signin.vue",n["default"]=s.exports},383:function(t,n,e){"use strict";e.r(n);var i=e(384);e.d(n,"render",(function(){return i["render"]})),e.d(n,"staticRenderFns",(function(){return i["staticRenderFns"]})),e.d(n,"recyclableRender",(function(){return i["recyclableRender"]})),e.d(n,"components",(function(){return i["components"]}))},384:function(t,n,e){"use strict";var i;e.r(n),e.d(n,"render",(function(){return a})),e.d(n,"staticRenderFns",(function(){return o})),e.d(n,"recyclableRender",(function(){return r})),e.d(n,"components",(function(){return i}));var a=function(){var t=this,n=t.$createElement,e=(t._self._c,t.loading?null:t.theme()||""),i=t.loading?null:t.theme(),a=t.loading?null:t.reward.length>0&&t.reward[0]>=1,r=!t.loading&&a?t.points_name():null,o=t.loading?null:t.reward.length>0&&1==t.reward[0]&&!t.is_sign,u=t.loading?null:t.__map(t.daylist,(function(n,e){var i=t.__get_orig(n),a=t.list.indexOf(n.day)>-1&&0==n.type,r=t.list.indexOf(n.day),o=-1==r?t.reward.indexOf(n.day-t.today)>-1&&0==n.type:null,u=-1==r?0==n.type&&-1==t.reward.indexOf(n.day-t.today):null;return{$orig:i,g2:a,g3:r,g4:o,g5:u}}));t.$mp.data=Object.assign({},{$root:{m0:e,m1:i,g0:a,m2:r,g1:o,l0:u}})},r=!1,o=[];a._withStripped=!0},385:function(t,n,e){"use strict";e.r(n);var i=e(386),a=e.n(i);for(var r in i)["default"].indexOf(r)<0&&function(t){e.d(n,t,(function(){return i[t]}))}(r);n["default"]=a.a},386:function(t,n,e){"use strict";(function(t){var i=e(4);Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var a=i(e(30)),r={data:function(){return{loading:!0,weeklist:["日","一","二","三","四","五","六"],daylist:[],year:null,today_year:null,month:null,today_month:null,day:null,today_day:null,list:[],reward:[],days:0,today:0,is_sign:!1,point:[],rule:""}},mounted:function(){this.init()},onShow:function(){this.getData(),this.getRule()},methods:{getRule:function(){var t=this;t._get("plus.sign.sign/getSign",{},(function(n){n.data.detail=a.default.format_content(n.data.detail),t.rule=n.data.detail}))},getData:function(){var n=this;t.showLoading({title:"加载中"}),n._get("plus.sign.sign/index",{},(function(e){n.list=e.data.list[0],n.days=e.data.list[1],n.today=e.data.list[2],n.reward=e.data.arr,n.point=e.data.point,n.list.indexOf(n.day)>=0&&(n.is_sign=!0),n.loading=!1,t.hideLoading()}))},onSign:function(){var n=this;if(n.is_sign)return t.showToast({title:"今天已签到",duration:2e3}),!1;t.showLoading({title:"正在提交",mask:!0}),n._get("plus.sign.sign/add",{},(function(e){t.hideLoading(),n.showSuccess(e.data.msg,(function(){n.getData()}))}))},init:function(){if(null===this.year&&null===this.month&&null===this.day){var t=new Date;this.year=t.getFullYear(),this.today_year=t.getFullYear(),this.month=t.getMonth(),this.today_month=t.getMonth()+1,this.day=t.getDate(),this.today_day=t.getDate()}this.joinDay()},joinDay:function(){var t=[],n=this.getMonthCount(this.year,this.month),e=this.getPreMonthCount(this.year,this.month),i=this.getNextMonthCount(this.year,this.month),a=this.getWeekday(this.year,this.month),r=[];0!=a&&(r=e.slice(-1*a));var o=i.slice(0,42-n.length-a),u=this.numConvertNode(r,"pre"),s=this.numConvertNode(n,null),l=this.numConvertNode(o,"next");t=[].concat(u,s,l),this.daylist=t},numConvertNode:function(t,n){var e=0,i=[],a=t.length;null!=n&&("pre"==n?e=-1:(e=1,a>7&&(a-=7)));for(var r=0;r<a;r++){var o={type:e,day:t[r]};i.push(o)}return i},isLeapYear:function(t){return t%400===0||t%100!==0&&t%4===0},getMonthCount:function(t,n){var e=[31,null,31,30,31,30,31,31,30,31,30,31],i=e[n]||(this.isLeapYear(t)?29:28);return Array.from(new Array(i),(function(t,n){return n+1}))},getWeekday:function(t,n){var e=new Date(t,n,1);return e.getDay()},getPreMonthCount:function(t,n){return 0===n?this.getMonthCount(t-1,11):this.getMonthCount(t,n-1)},getNextMonthCount:function(t,n){return 11===n?this.getMonthCount(t+1,0):this.getMonthCount(t,n+1)},gotoRuleFunc:function(){this.gotoPage("/pages/plus/signin/rule/rule")}}};n.default=r}).call(this,e(2)["default"])},387:function(t,n,e){"use strict";e.r(n);var i=e(388),a=e.n(i);for(var r in i)["default"].indexOf(r)<0&&function(t){e.d(n,t,(function(){return i[t]}))}(r);n["default"]=a.a},388:function(t,n,e){}},[[381,"common/runtime","common/vendor"]]]);
//# sourceMappingURL=../../../../.sourcemap/mp-weixin/pages/plus/signin/signin.js.map