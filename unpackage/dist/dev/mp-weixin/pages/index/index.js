(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/index/index"],{41:function(t,e,n){"use strict";(function(t,e){var o=n(4);n(26);o(n(25));var a=o(n(42));t.__webpack_require_UNI_MP_PLUGIN__=n,e(a.default)}).call(this,n(1)["default"],n(2)["createPage"])},42:function(t,e,n){"use strict";n.r(e);var o=n(43),a=n(45);for(var i in a)["default"].indexOf(i)<0&&function(t){n.d(e,t,(function(){return a[t]}))}(i);n(47);var r,s=n(34),c=Object(s["default"])(a["default"],o["render"],o["staticRenderFns"],!1,null,null,null,!1,o["components"],r);c.options.__file="pages/index/index.vue",e["default"]=c.exports},43:function(t,e,n){"use strict";n.r(e);var o=n(44);n.d(e,"render",(function(){return o["render"]})),n.d(e,"staticRenderFns",(function(){return o["staticRenderFns"]})),n.d(e,"recyclableRender",(function(){return o["recyclableRender"]})),n.d(e,"components",(function(){return o["components"]}))},44:function(t,e,n){"use strict";var o;n.r(e),n.d(e,"render",(function(){return a})),n.d(e,"staticRenderFns",(function(){return r})),n.d(e,"recyclableRender",(function(){return i})),n.d(e,"components",(function(){return o}));try{o={navBar:function(){return n.e("components/navBar/navBar").then(n.bind(null,918))},diy:function(){return n.e("components/diy/diy").then(n.bind(null,925))}}}catch(s){if(-1===s.message.indexOf("Cannot find module")||-1===s.message.indexOf(".vue"))throw s;console.error(s.message),console.error("1. 排查组件名称拼写是否正确"),console.error("2. 排查组件是否符合 easycom 规范，文档：https://uniapp.dcloud.net.cn/collocation/pages?id=easycom"),console.error("3. 若组件不符合 easycom 规范，需手动引入，并在 components 中注册该组件")}var a=function(){var t=this,e=t.$createElement,n=(t._self._c,t.theme()||""),o=t.theme(),a=t.topBarTop(),i=t.topBarHeight(),r=0!=i?t.topBarHeight():null,s=t.topBarHeight(),c=0!=t.thisindex?0==t.product_list.length&&!t.loading:null,l=t.is_collection?t.topBarTop():null,u=t.is_collection?t.topBarHeight():null;t._isMounted||(t.e0=function(e){t.showSearch=!0},t.e1=function(e){t.is_collection=!1},t.e2=function(e){t.is_follow=0}),t.$mp.data=Object.assign({},{$root:{m0:n,m1:o,m2:a,m3:i,m4:r,m5:s,g0:c,m6:l,m7:u}})},i=!1,r=[];a._withStripped=!0},45:function(t,e,n){"use strict";n.r(e);var o=n(46),a=n.n(o);for(var i in o)["default"].indexOf(i)<0&&function(t){n.d(e,t,(function(){return o[t]}))}(i);e["default"]=a.a},46:function(t,e,n){"use strict";(function(t){var o=n(4);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;o(n(31));var a=function(){n.e("components/diy/diy").then(function(){return resolve(n(925))}.bind(null,n)).catch(n.oe)},i=function(){n.e("pages/index/home-push/home-push").then(function(){return resolve(n(930))}.bind(null,n)).catch(n.oe)},r=function(){n.e("components/navBar/navBar").then(function(){return resolve(n(918))}.bind(null,n)).catch(n.oe)},s=function(){n.e("components/uni-load-more").then(function(){return resolve(n(937))}.bind(null,n)).catch(n.oe)},c=function(){n.e("components/searchProduct").then(function(){return resolve(n(944))}.bind(null,n)).catch(n.oe)},l={components:{diy:a,Homepush:i,navBar:r,uniLoadMore:s,searchProduct:c},data:function(){return{loading:!1,background:"",listData:[],indicatorDots:!0,autoplay:!0,interval:2e3,duration:500,items:[],is_collection:!1,is_follow:"0",is_homepush:!1,homepush_data:{},triggered:!0,target:0,thisindex:0,category_list:[],product_list:[],page:1,last_page:0,no_more:!1,indexStop:0,title_name:"",bgcolor:"",msgNum:0,title_image:!1,toplogo:"",url:"",jweixin:null,showSearch:!1,openCategory:{color:"#000000",open:0},is_auto:0}},watch:{thisindex:function(t,e){t!=e&&(this.category_id=this.category_list[t].category_id,this.toggleInit(),0!=t&&this.getProduct())}},computed:{loadingType:function(){return this.loading?1:0!=this.product_list.length&&this.no_more?2:0}},onTabItemTap:function(){},onShow:function(){this.getTabBarLinks()},onLoad:function(){this._freshing=!1,this.getData(),this.getList()},onPullDownRefresh:function(){0==this.thisindex?this.getData():(this.toggleInit(),this.getProduct())},onReachBottom:function(){this.scrolltolowerFunc(),console.log("到底了")},methods:{getData:function(){var e=this;t.showLoading({title:"加载中"}),e._get("index/index",{url:e.url},(function(n){var o=t.getStorageSync("TabBar").is_auto&&0!=t.getStorageSync("TabBar").is_auto;e.is_auto=o,e.listData=n.data.list,e.background=n.data.background,e.items=n.data.items,e.title_name=n.data.page.params.title,e.bgcolor=n.data.page.style.titleBackgroundColor,e.msgNum=n.data.msgNum,e.toplogo=n.data.page.style.toplogo,e.setPage(n.data.page),e.title_type=n.data.page.params.title_type,e.titleTextColor=n.data.page.style.titleTextColor,e.openCategory=n.data.page.category;var a=t.getStorageSync("isFirst");""==a&&"1"==n.data.setting.collection.status&&(e.is_collection=!0,t.setStorageSync("isFirst",1)),e.is_follow=n.data.setting.officia.status;var i=t.getStorageSync("homepush_name");n.data.setting.homepush.is_open&&i!=n.data.setting.homepush.name&&(e.homepush_data=n.data.setting.homepush,e.is_homepush=!0,e.is_homepush=!0),t.hideLoading(),e.loadding=!1,t.stopPullDownRefresh()}))},getList:function(){var t=this;t._get("product.category/index",{},(function(e){t.category_list=e.data.list;var n={name:"推荐",category_id:"0"};t.category_list.unshift(n)}))},getProduct:function(){var e=this,n=e.page;e.loading=!0,e._get("product.product/lists",{page:n||1,category_id:e.category_id,search:"",sortType:"all",sortPrice:0,list_rows:10},(function(o){e.loading=!1,t.stopPullDownRefresh(),e.product_list=e.product_list.concat(o.data.list.data),e.last_page=o.data.list.last_page,o.data.list.last_page<=1&&(e.no_more=!0),n>=9&&(e.no_more=!0)}))},scrolltolowerFunc:function(){var t=this;t.page<t.last_page&&(t.page++,t.getProduct()),t.no_more=!0},setPage:function(e){t.setNavigationBarTitle({title:e.params.name});var n="#000000";"white"==e.style.titleTextColor&&(n="#ffffff"),t.setNavigationBarColor({frontColor:n,backgroundColor:e.style.titleBackgroundColor})},onShareAppMessage:function(){var t=this;return{title:t.page.params.share_title,path:"/pages/index/index?"+t.getShareUrlParams()}},setTabBarItem:function(e){2==e&&(console.log("订单"),t.setTabBarItem({index:2,pagePath:"/pages/order/myorder",text:"订单",iconPath:"static/order.png",selectedIconPath:"static/order_active.png"}))},toggleInit:function(){this.page=1,this.last_page=0,this.no_more=!1,this.product_list=[]},setIndex:function(t){this.thisindex=t},stopTouchMove:function(){return!0},scanQrcode:function(){var e=this;t.scanCode({onlyFromCamera:!0,success:function(n){"scanCode:ok"==n.errMsg?e.gotoPage("/pages/store/clerkorder?order_no="+n.result):t.showToast({title:"扫码失败，请重试"})}})},closeSearch:function(){this.showSearch=!1}}};e.default=l}).call(this,n(2)["default"])},47:function(t,e,n){"use strict";n.r(e);var o=n(48),a=n.n(o);for(var i in o)["default"].indexOf(i)<0&&function(t){n.d(e,t,(function(){return o[t]}))}(i);e["default"]=a.a},48:function(t,e,n){}},[[41,"common/runtime","common/vendor"]]]);
//# sourceMappingURL=../../../.sourcemap/mp-weixin/pages/index/index.js.map