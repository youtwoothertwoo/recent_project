(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/user/my_shop/my_shop_order"],{571:function(t,e,n){"use strict";(function(t,e){var a=n(4);n(26);a(n(25));var i=a(n(572));t.__webpack_require_UNI_MP_PLUGIN__=n,e(i.default)}).call(this,n(1)["default"],n(2)["createPage"])},572:function(t,e,n){"use strict";n.r(e);var a=n(573),i=n(575);for(var o in i)["default"].indexOf(o)<0&&function(t){n.d(e,t,(function(){return i[t]}))}(o);n(577);var r,s=n(34),c=Object(s["default"])(i["default"],a["render"],a["staticRenderFns"],!1,null,null,null,!1,a["components"],r);c.options.__file="pages/user/my_shop/my_shop_order.vue",e["default"]=c.exports},573:function(t,e,n){"use strict";n.r(e);var a=n(574);n.d(e,"render",(function(){return a["render"]})),n.d(e,"staticRenderFns",(function(){return a["staticRenderFns"]})),n.d(e,"recyclableRender",(function(){return a["recyclableRender"]})),n.d(e,"components",(function(){return a["components"]}))},574:function(t,e,n){"use strict";var a;n.r(e),n.d(e,"render",(function(){return i})),n.d(e,"staticRenderFns",(function(){return r})),n.d(e,"recyclableRender",(function(){return o})),n.d(e,"components",(function(){return a}));var i=function(){var t=this,e=t.$createElement,n=(t._self._c,t.__map(t.listData,(function(e,n){var a=t.__get_orig(e),i=e.product.length,o=i>1?e.product.length:null;return{$orig:a,g0:i,g1:o}}))),a=0==t.listData.length&&!t.loading;t.$mp.data=Object.assign({},{$root:{l0:n,g2:a}})},o=!1,r=[];i._withStripped=!0},575:function(t,e,n){"use strict";n.r(e);var a=n(576),i=n.n(a);for(var o in a)["default"].indexOf(o)<0&&function(t){n.d(e,t,(function(){return a[t]}))}(o);e["default"]=i.a},576:function(t,e,n){"use strict";(function(t,a){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i=function(){n.e("components/uni-load-more").then(function(){return resolve(n(937))}.bind(null,n)).catch(n.oe)},o=function(){n.e("components/uni-popup").then(function(){return resolve(n(115))}.bind(null,n)).catch(n.oe)},r={components:{uniLoadMore:i,Popup:o},data:function(){return{phoneHeight:0,scrollviewHigh:0,state_active:0,topRefresh:!1,listData:[],dataType:"all",order_id:0,last_page:0,page:1,list_rows:10,no_more:!1,loading:!0,shop_supplier_id:"",isClose:!1,cancel_remark:"",order_no:""}},computed:{loadingType:function(){return this.loading?1:0!=this.listData.length&&this.no_more?2:0}},onLoad:function(t){this.shop_supplier_id=t.shop_supplier_id,"undefined"!=typeof t.dataType&&(this.dataType=t.dataType),"payment"==this.dataType?this.state_active=1:"delivery"==this.dataType?this.state_active=2:"received"==this.dataType&&(this.state_active=3)},mounted:function(){this.init()},onShow:function(){this.initData(),this.getData()},methods:{init:function(){var e=this;t.getSystemInfo({success:function(n){e.phoneHeight=n.windowHeight;var a=t.createSelectorQuery().select(".top-tabbar");a.boundingClientRect((function(t){var n=e.phoneHeight-t.height;e.scrollviewHigh=n})).exec()}})},initData:function(){var t=this;t.page=1,t.loading=!0,t.listData=[],t.no_more=!1},stateFunc:function(t){var e=this;if(e.state_active!=t){switch(e.page=1,e.loading=!0,e.state_active=t,t){case 0:e.listData=[],e.dataType="all";break;case 1:e.listData=[],e.dataType="payment";break;case 2:e.listData=[],e.dataType="delivery";break;case 3:e.listData=[],e.dataType="received";break;case 4:e.listData=[],e.dataType="comment";break}e.getData()}},scrolltolowerFunc:function(){var t=this;t.no_more||(t.page++,t.page<=t.last_page?t.getData():t.no_more=!0)},getData:function(){var t=this;t.loading=!0;var e=t.dataType;t._get("supplier.order/index",{shop_supplier_id:t.shop_supplier_id,dataType:e,page:t.page,list_rows:t.list_rows,pay_source:t.getPlatform()},(function(e){t.loading=!1,t.listData=t.listData.concat(e.data.list.data),t.last_page=e.data.list.last_page,e.data.list.last_page<=1?t.no_more=!0:t.no_more=!1}))},jumpPage:function(t){this.gotoPage("/pages/order/order-detail?source=supplier&order_id="+t)},openClose:function(t){this.isClose=!0,this.order_no=t},sendClose:function(){var e=this,n=e.order_no;a.showModal({title:"提示",content:"您确定要取消订单吗?",success:function(a){a.confirm&&(e.isClose=!1,t.showLoading({title:"正在处理"}),e._get("supplier.order/orderCancel",{order_no:n,cancel_remark:e.cancel_remark},(function(n){t.hideLoading(),t.showToast({title:"操作成功",duration:2e3,icon:"success"}),e.listData=[],e.getData()})))}})},hideClose:function(t){this.isClose=!1}}};e.default=r}).call(this,n(2)["default"],n(1)["default"])},577:function(t,e,n){"use strict";n.r(e);var a=n(578),i=n.n(a);for(var o in a)["default"].indexOf(o)<0&&function(t){n.d(e,t,(function(){return a[t]}))}(o);e["default"]=i.a},578:function(t,e,n){}},[[571,"common/runtime","common/vendor"]]]);
//# sourceMappingURL=../../../../.sourcemap/mp-weixin/pages/user/my_shop/my_shop_order.js.map