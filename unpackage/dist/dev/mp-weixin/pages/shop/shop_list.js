(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/shop/shop_list"],{523:function(t,e,n){"use strict";(function(t,e){var o=n(4);n(26);o(n(25));var i=o(n(524));t.__webpack_require_UNI_MP_PLUGIN__=n,e(i.default)}).call(this,n(1)["default"],n(2)["createPage"])},524:function(t,e,n){"use strict";n.r(e);var o=n(525),i=n(527);for(var r in i)["default"].indexOf(r)<0&&function(t){n.d(e,t,(function(){return i[t]}))}(r);n(529);var a,s=n(34),c=Object(s["default"])(i["default"],o["render"],o["staticRenderFns"],!1,null,null,null,!1,o["components"],a);c.options.__file="pages/shop/shop_list.vue",e["default"]=c.exports},525:function(t,e,n){"use strict";n.r(e);var o=n(526);n.d(e,"render",(function(){return o["render"]})),n.d(e,"staticRenderFns",(function(){return o["staticRenderFns"]})),n.d(e,"recyclableRender",(function(){return o["recyclableRender"]})),n.d(e,"components",(function(){return o["components"]}))},526:function(t,e,n){"use strict";var o;n.r(e),n.d(e,"render",(function(){return i})),n.d(e,"staticRenderFns",(function(){return a})),n.d(e,"recyclableRender",(function(){return r})),n.d(e,"components",(function(){return o}));var i=function(){var t=this,e=t.$createElement,n=(t._self._c,t.theme()||""),o=t.theme(),i=t.__map(t.shopData,(function(e,n){var o=t.__get_orig(e),i=e.productList.length,r=i>0?e.productList.length:null;return{$orig:o,g0:i,g1:r}})),r=0==t.shopData.length&&!t.loading;t.$mp.data=Object.assign({},{$root:{m0:n,m1:o,l0:i,g2:r}})},r=!1,a=[];i._withStripped=!0},527:function(t,e,n){"use strict";n.r(e);var o=n(528),i=n.n(o);for(var r in o)["default"].indexOf(r)<0&&function(t){n.d(e,t,(function(){return o[t]}))}(r);e["default"]=i.a},528:function(t,e,n){"use strict";(function(t){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var o=function(){n.e("components/uni-load-more").then(function(){return resolve(n(937))}.bind(null,n)).catch(n.oe)},i={components:{uniLoadMore:o},data:function(){return{triggered:!0,phoneHeight:0,scrollviewHigh:0,state_active:-1,no_more:!1,loading:!0,last_page:0,page:1,list_rows:10,topRefresh:!1,type_active:"all",price_top:!1,shopData:[],searchtxt:"",keyWord:"",stateTab:!1}},computed:{loadingType:function(){return this.loading?1:0!=this.shopData.length&&this.no_more?2:0}},onShow:function(){this.getTabBarLinks()},mounted:function(){this.init(),this._freshing=!1,this.restoreData(),this.getData()},methods:{init:function(){var e=this;t.getSystemInfo({success:function(n){e.phoneHeight=n.windowHeight;var o=t.createSelectorQuery().in(e).select(".top-box");o.boundingClientRect((function(t){console.log(t);var n=e.phoneHeight-t.height;e.scrollviewHigh=n})).exec()}})},restoreData:function(){this.shopData=[],this.page=1,this.no_more=!1,this.loading=!0,this.category_id=0,this.searchtxt="",this.sortType="",this.sortPrice=0},tabTypeFunc:function(t){var e=this;e.shopData=[],e.page=1,e.no_more=!1,e.loading=!0,e.type_active=t,e.getData()},getData:function(){var t=this,e=t.page,n=t.list_rows;t.loading=!0,t._post("supplier.index/list",{page:e||1,list_rows:n,sortType:t.type_active,name:t.keyWord},(function(e){t.loading=!1,t.last_page=e.data.list.last_page,t.shopData=t.shopData.concat(e.data.list.data),e.data.list.last_page<=1?t.no_more=!0:t.no_more=!1}))},onRefresh:function(){var t=this;this._freshing||(this._freshing=!0,this.restoreData(),this.getData(),setTimeout((function(){t.triggered=!1,t._freshing=!1}),2e3))},onRestore:function(){this.triggered="restore"},search:function(){var t=this;t.keyWord=t.searchtxt,t.restoreData(),t.getData()},scrolltolowerFunc:function(){var t=this;t.no_more||(t.page++,t.page<=t.last_page?t.getData():t.no_more=!0)},goto_shop:function(t){this.gotoPage("/pages/shop/shop?shop_supplier_id="+t)},goto_product:function(t){this.gotoPage("/pages/product/detail/detail?product_id="+t)}}};e.default=i}).call(this,n(2)["default"])},529:function(t,e,n){"use strict";n.r(e);var o=n(530),i=n.n(o);for(var r in o)["default"].indexOf(r)<0&&function(t){n.d(e,t,(function(){return o[t]}))}(r);e["default"]=i.a},530:function(t,e,n){}},[[523,"common/runtime","common/vendor"]]]);
//# sourceMappingURL=../../../.sourcemap/mp-weixin/pages/shop/shop_list.js.map