<view class="nlv__container _div data-v-4215c3cc" style="{{('height:'+winHeight+' ;')}}"><preview vue-id="4219e1b4-1" isShow="{{is_preview}}" data-event-opts="{{[['^switchCamera',[['switchCamera']]],['^setBeautyOptions',[['setBeautyOptions']]],['^changeVirtualBackground',[['changeVirtualBackground']]],['^setDefinition',[['setDefinition']]],['^openLive',[['openLive']]],['^close',[['closePreview']]]]}}" bind:switchCamera="__e" bind:setBeautyOptions="__e" bind:changeVirtualBackground="__e" bind:setDefinition="__e" bind:openLive="__e" bind:close="__e" class="data-v-4215c3cc" bind:__l="__l"></preview><block wx:if="{{!is_preview}}"><view class="nlv_main data-v-4215c3cc" style="{{('height:'+winHeight+' ;')}}"><view class="nlv-playerbox data-v-4215c3cc"><view class="nlv_topbar data-v-4215c3cc" style="{{'height:'+(headerBarH)+';'+('padding-top:'+(statusBarH)+';')}}"><view class="topbar-info data-v-4215c3cc"><view class="avator-box data-v-4215c3cc"><image class="ta-avator data-v-4215c3cc" src="{{roomDetail.supplier&&roomDetail.supplier.logo&&roomDetail.supplier.logo.file_path||roomDetail.user&&roomDetail.user.avatarUrl||''}}" mode="aspectFill" data-event-opts="{{[['tap',[['openAnchor',['$event']]]]]}}" bindtap="__e"></image><view class="tabox data-v-4215c3cc"><text class="ta-name data-v-4215c3cc">{{roomDetail.supplier&&roomDetail.supplier.name}}</text><text class="ta-num data-v-4215c3cc">{{online_count+"观看"}}</text></view><block wx:if="{{!isCaster}}"><text data-event-opts="{{[['tap',[['followFunc']]]]}}" class="{{['ta-gz','data-v-4215c3cc',hasFollow?'ta-gz-on':'']}}" bindtap="__e">{{hasFollow?'已关注':'关注'}}</text></block></view></view><view class="topbar-right data-v-4215c3cc"><block wx:if="{{isCaster}}"><view data-event-opts="{{[['tap',[['closeLive',['$event']]]]]}}" catchtap="__e" class="data-v-4215c3cc"><image class="close-btn data-v-4215c3cc" src="/static/live/close.png" mode></image></view></block></view></view><view class="nlv-rankbox data-v-4215c3cc" style="{{'top:'+(headerBarH)+';'}}"><view data-event-opts="{{[['tap',[['openRank',['$event']]]]]}}" class="nlv-rkls data-v-4215c3cc" bindtap="__e"><text class="rkitem data-v-4215c3cc">{{giftName+"："+roomDetail.gift_num}}</text></view><view class="nlv-rkls data-v-4215c3cc"><text class="rkitem ml30 data-v-4215c3cc">{{"人气值："+digg_num}}</text></view></view><view class="nlv-footToolbar data-v-4215c3cc"><view class="nlv-infobox data-v-4215c3cc"><block wx:if="{{giftInfo.nickName!=''}}"><view class="nlv-giftTipPanel data-v-4215c3cc"><view class="giftip-item data-v-4215c3cc"><image class="gt-avator data-v-4215c3cc" src="{{giftInfo.avatarUrl}}" mode="aspectFill"></image><view class="gt-info data-v-4215c3cc"><text class="gt-tit data-v-4215c3cc">{{giftInfo.nickName}}</text><text class="gt-subtit data-v-4215c3cc">{{"送主播"+giftInfo.giftName}}</text></view><image class="gt-gift data-v-4215c3cc" src="{{giftInfo.giftImage}}" mode="aspectFill"></image></view></view></block><scroll-view class="nlv-rollMsgPanel data-v-4215c3cc" scroll-into-view="{{toMsg}}" scroll-y="{{true}}" show-scrollbar="false"><block wx:for="{{commentsList}}" wx:for-item="item" wx:for-index="index" wx:key="index"><view class="msg_bg data-v-4215c3cc" id="{{'comment'+index}}"><block wx:if="{{item.type=='text'}}"><view class="msg_text pr data-v-4215c3cc"><text class="msg_txt data-v-4215c3cc">{{' '+item.nickName+":"+item.msg}}</text><view class="msg-text-name data-v-4215c3cc"><text class="msg_name data-v-4215c3cc">{{' '+item.nickName+":"}}</text></view></view></block><block wx:if="{{item.type=='enter'}}"><view class="msg_text pr data-v-4215c3cc"><text class="msg_txt data-v-4215c3cc">{{item.nickName+"来了"}}</text></view></block><block wx:if="{{item.type=='join'}}"><view class="msg_text pr data-v-4215c3cc"><text class="msg_txt data-v-4215c3cc">{{' '+item.nickName+"来了"}}</text><view class="msg-text-name data-v-4215c3cc"><text class="msg_name data-v-4215c3cc">{{' '+item.nickName}}</text></view></view></block></view></block></scroll-view><view class="d-b-c f-d-i ww100 data-v-4215c3cc" style="width:700rpx;"><view data-event-opts="{{[['tap',[['handleRollMsg']]]]}}" class="nlv_reply d-b-c f-d-i data-v-4215c3cc" catchtap="__e"><text class="nlv_reply_text data-v-4215c3cc">说点什么...</text></view><view class="nlv_btntool data-v-4215c3cc"></view></view></view></view></view><block wx:if="{{explain_product!=null}}"><view data-event-opts="{{[['tap',[['gotoProduct',['$event']]]]]}}" class="product _div data-v-4215c3cc" bindtap="__e"><view class="product-pic _div data-v-4215c3cc"><image class="product-img data-v-4215c3cc" src="{{explain_product.product_image}}"></image></view><view class="product-price _div data-v-4215c3cc"><text class="f24 rose data-v-4215c3cc">￥</text><text class="rose f28 data-v-4215c3cc">{{explain_product.product_price}}</text></view></view></block><block wx:if="{{qrcode!=null}}"><share vue-id="4219e1b4-2" winHeight="{{winHeight}}" qrcode="{{qrcode}}" data-event-opts="{{[['^close',[['closeShare']]]]}}" bind:close="__e" class="data-v-4215c3cc" bind:__l="__l"></share></block></view></block><block wx:if="{{engine_load&&showLike}}"><likes vue-id="4219e1b4-3" data-ref="likes" class="data-v-4215c3cc vue-ref" bind:__l="__l"></likes></block><live-cart vue-id="4219e1b4-4" isCaster="{{isCaster}}" shop_supplier_id="{{roomDetail.supplier.shop_supplier_id}}" room_id="{{room_id}}" data-ref="liveCart" data-event-opts="{{[['^openOrder',[['openOrder']]],['^setProduct',[['setProduct']]]]}}" bind:openOrder="__e" bind:setProduct="__e" class="data-v-4215c3cc vue-ref" bind:__l="__l"></live-cart><live-gift vue-id="4219e1b4-5" room_id="{{room_id}}" giftName="{{giftName}}" giftList="{{giftList}}" data-ref="liveGift" data-event-opts="{{[['^openPlan',[['openPlan']]],['^sendGift',[['sendGift']]]]}}" bind:openPlan="__e" bind:sendGift="__e" class="data-v-4215c3cc vue-ref" bind:__l="__l"></live-gift><live-msg vue-id="4219e1b4-6" emojiData="{{emojiData}}" data-ref="liveMsg" data-event-opts="{{[['^closeMsg',[['sendChannelMsg']]]]}}" bind:closeMsg="__e" class="data-v-4215c3cc vue-ref" bind:__l="__l"></live-msg><live-plan vue-id="4219e1b4-7" giftName="{{giftName}}" data-ref="livePlan" data-event-opts="{{[['^closePlan',[['closePlan']]]]}}" bind:closePlan="__e" class="data-v-4215c3cc vue-ref" bind:__l="__l"></live-plan><live-order vue-id="4219e1b4-8" shop_supplier_id="{{roomDetail.supplier.shop_supplier_id}}" room_id="{{room_id}}" data-ref="liveOrder" data-event-opts="{{[['^closeOrder',[['closeOrder']]]]}}" bind:closeOrder="__e" class="data-v-4215c3cc vue-ref" bind:__l="__l"></live-order><live-anchor vue-id="4219e1b4-9" room_id="{{room_id}}" shop_supplier_id="{{roomDetail.supplier.shop_supplier_id}}" data-ref="liveAnchor" data-event-opts="{{[['^changeFollow',[['changeFollow']]]]}}" bind:changeFollow="__e" class="data-v-4215c3cc vue-ref" bind:__l="__l"></live-anchor><live-more bind:liveSet="__e" bind:switchCamera="__e" vue-id="4219e1b4-10" data-ref="liveMore" data-event-opts="{{[['^liveSet',[['liveSet']]],['^switchCamera',[['switchCamera']]]]}}" class="data-v-4215c3cc vue-ref" bind:__l="__l"></live-more><live-share bind:livePoster="__e" vue-id="4219e1b4-11" data-ref="liveShare" data-event-opts="{{[['^livePoster',[['livePoster']]]]}}" class="data-v-4215c3cc vue-ref" bind:__l="__l"></live-share><live-rank vue-id="4219e1b4-12" room_id="{{room_id}}" data-ref="liveRank" class="data-v-4215c3cc vue-ref" bind:__l="__l"></live-rank><app-share vue-id="4219e1b4-13" appParams="{{appParams}}" data-ref="appShare" class="data-v-4215c3cc vue-ref" bind:__l="__l"></app-share><block wx:if="{{platform=='android'}}"><agora-view style="{{('width:750rpx;height:'+winHeight)}}" catch:click="__e" bind:onJoinChannelSuccess="__e" bind:onLeaveChannel="__e" bind:onRemoteVideoStateChanged="__e" bind:onUserJoined="__e" bind:onUserOffline="__e" vue-id="4219e1b4-14" data-ref="agoraView" data-event-opts="{{[['^click',[['digg',['$event']]]],['^onJoinChannelSuccess',[['onJoinChannelSuccess']]],['^onLeaveChannel',[['onLeaveChannel']]],['^onRemoteVideoStateChanged',[['onRemoteVideoStateChanged']]],['^onUserJoined',[['onUserJoined']]],['^onUserOffline',[['onUserOffline']]]]}}" class="data-v-4215c3cc vue-ref" bind:__l="__l"></agora-view></block><block wx:if="{{engine_load&&platform=='ios'}}"><agora-r-t-c-surface-view style="{{('width:750rpx;height:'+winHeight)}}" vue-id="4219e1b4-15" zOrderMediaOverlay="{{zOrderMediaOverlay}}" zOrderOnTop="{{zOrderOnTop}}" renderMode="{{renderMode}}" data="{{({uid:view_uid,channelId:liveChannelId})}}" mirrorMode="{{mirrorMode}}" data-event-opts="{{[['^click',[['digg',['$event']]]]]}}" catch:click="__e" class="data-v-4215c3cc" bind:__l="__l"></agora-r-t-c-surface-view></block><block wx:if="{{platform=='android'}}"><agora-rtm style="width:0px;height:0px;" bind:onLoginSuccess="__e" bind:onLoginFailure="__e" bind:onLogoutSuccess="__e" bind:onLogoutFailure="__e" bind:onJoinSuccess="__e" bind:onJoinFailure="__e" bind:onChannelMessageReceived="__e" vue-id="4219e1b4-16" data-ref="agoraRtm" data-event-opts="{{[['^onLoginSuccess',[['onLoginSuccess']]],['^onLoginFailure',[['onLoginFailure']]],['^onLogoutSuccess',[['onLogoutSuccess']]],['^onLogoutFailure',[['onLogoutFailure']]],['^onJoinSuccess',[['onJoinSuccess']]],['^onJoinFailure',[['onJoinFailure']]],['^onChannelMessageReceived',[['onChannelMessageReceived']]]]}}" class="data-v-4215c3cc vue-ref" bind:__l="__l"></agora-rtm></block></view>