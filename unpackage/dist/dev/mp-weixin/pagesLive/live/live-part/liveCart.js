require('../../common/vendor.js');(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pagesLive/live/live-part/liveCart"],{1175:function(t,o,e){"use strict";e.r(o);var i=e(1176),n=e(1178);for(var r in n)["default"].indexOf(r)<0&&function(t){e.d(o,t,(function(){return n[t]}))}(r);e(1180);var d,u=e(34),s=Object(u["default"])(n["default"],i["render"],i["staticRenderFns"],!1,null,"9507971e",null,!1,i["components"],d);s.options.__file="pagesLive/live/live-part/liveCart.nvue",o["default"]=s.exports},1176:function(t,o,e){"use strict";e.r(o);var i=e(1177);e.d(o,"render",(function(){return i["render"]})),e.d(o,"staticRenderFns",(function(){return i["staticRenderFns"]})),e.d(o,"recyclableRender",(function(){return i["recyclableRender"]})),e.d(o,"components",(function(){return i["components"]}))},1177:function(t,o,e){"use strict";var i;e.r(o),e.d(o,"render",(function(){return n})),e.d(o,"staticRenderFns",(function(){return d})),e.d(o,"recyclableRender",(function(){return r})),e.d(o,"components",(function(){return i}));var n=function(){var t=this,o=t.$createElement,e=(t._self._c,t.popupVisible&&t.open_addproduct?t.__map(t.listData,(function(o,e){var i=t.__get_orig(o),n=t.isrelation(o),r=t.isrelation(o);return{$orig:i,m0:n,m1:r}})):null),i=t.popupVisible&&t.open_addproduct?0==t.listData.length&&!t.loading:null;t.$mp.data=Object.assign({},{$root:{l0:e,g0:i}})},r=!1,d=[];n._withStripped=!0},1178:function(t,o,e){"use strict";e.r(o);var i=e(1179),n=e.n(i);for(var r in i)["default"].indexOf(r)<0&&function(t){e.d(o,t,(function(){return i[t]}))}(r);o["default"]=n.a},1179:function(t,o,e){"use strict";(function(t){Object.defineProperty(o,"__esModule",{value:!0}),o.default=void 0;var i=function(){e.e("components/uni-load-more").then(function(){return resolve(e(937))}.bind(null,e)).catch(e.oe)},n={components:{uniLoadMore:i},data:function(){return{popupVisible:!1,product_active:"",total:0,open_products:!1,relationIds:[],productList:[],open_order:!1,open_addproduct:!1,no_more:!1,listData:[],page:1,list_rows:10,productIds:[],open_Order:!1,loading:!1}},props:["isCaster","room_id","shop_supplier_id"],computed:{loadingType:function(){return this.loading?1:0!=this.listData.length&&this.no_more?2:0}},methods:{show:function(t){this.popupVisible=!0,this.getProduct()},getRequest:function(){var t=this;return t},getProduct:function(){var o=this;o.open_addproduct=!1,o.relationIds=[],t.showLoading({title:"正在加载",mask:!0}),o.getRequest()._get("plus.live.RoomApply/liveproduct",{shop_supplier_id:o.shop_supplier_id},(function(e){if(t.hideLoading(),null!=e.data.list){o.productList=e.data.list.data;for(var i=0;i<o.productList.length;i++)o.relationIds.push(o.productList[i].product_id);o.total=e.data.list.total}}),!1,(function(){t.hideLoading()}))},addProductFunc:function(){var t=this;this.open_addproduct=!0,this.productIds=[],this.relationIds.forEach((function(o){t.productIds.push(o)})),this.start()},start:function(){this.loading=!0,this.no_more=!1,this.listData=[],this.page=1,this.list_rows=10,this.getData()},getData:function(){var t=this,o=t.page,e=t.list_rows;t.loading=!0,t.getRequest()._get("plus.live.RoomApply/product_list",{page:o||1,list_rows:e},(function(o){t.loading=!1,t.listData=t.listData.concat(o.data.list.data),t.last_page=o.data.list.last_page,o.data.list.last_page<=1&&(t.no_more=!0)}))},loadmoreFunc:function(){var t=this;if(t.bottomRefresh=!0,t.page++,t.loading=!0,t.page>t.last_page)return t.loading=!1,void(t.no_more=!0);t.getData()},isrelation:function(t){return-1!=this.productIds.indexOf(t.product_id)},relationProduct:function(t){this.productIds.push(t.product_id)},confirmFunc:function(){var t=this,o=t.productIds;if(o.length>0){for(var e=0;e<o.length;e++)-1!=t.relationIds.indexOf(o[e])&&(o.splice(e,1),e--);0!=o.length?t.getRequest()._post("plus.live.RoomApply/addProduct",{productIds:o},(function(o){t.getProduct()})):t.getProduct()}else t.getProduct()},setProduct:function(o){var e=this;t.showLoading({title:"设置中",mask:!0}),e.getRequest()._post("plus.live.room/set_product",{room_id:e.room_id,product_id:o.product_id},(function(t){e.product_active=o.product_id,e.$emit("setProduct",o.product_id),e.close()}))},gotoProduct:function(t){var o="/pages/product/detail/detail?product_id="+t.product_id+"&room_id="+this.room_id;this.getRequest().gotoPage(o)},openOrder:function(){this.popupVisible=!1,this.$emit("openOrder")},close:function(){this.open_addproduct?this.open_addproduct=!1:this.popupVisible=!1}}};o.default=n}).call(this,e(2)["default"])},1180:function(t,o,e){"use strict";e.r(o);var i=e(1181),n=e.n(i);for(var r in i)["default"].indexOf(r)<0&&function(t){e.d(o,t,(function(){return i[t]}))}(r);o["default"]=n.a},1181:function(t,o,e){}}]);
//# sourceMappingURL=../../../../.sourcemap/mp-weixin/pagesLive/live/live-part/liveCart.js.map
;(global["webpackJsonp"] = global["webpackJsonp"] || []).push([
    'pagesLive/live/live-part/liveCart-create-component',
    {
        'pagesLive/live/live-part/liveCart-create-component':(function(module, exports, __webpack_require__){
            __webpack_require__('2')['createComponent'](__webpack_require__(1175))
        })
    },
    [['pagesLive/live/live-part/liveCart-create-component']]
]);
