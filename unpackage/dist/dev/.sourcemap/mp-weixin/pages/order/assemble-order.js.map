{"version":3,"sources":["uni-app:///main.js","webpack:///D:/working/舒服康/pages/order/assemble-order.vue?85c3","webpack:///D:/working/舒服康/pages/order/assemble-order.vue?346e","webpack:///D:/working/舒服康/pages/order/assemble-order.vue?b13e","webpack:///D:/working/舒服康/pages/order/assemble-order.vue?bb7a","uni-app:///pages/order/assemble-order.vue","webpack:///D:/working/舒服康/pages/order/assemble-order.vue?3124","webpack:///D:/working/舒服康/pages/order/assemble-order.vue?b3ec"],"names":["wx","__webpack_require_UNI_MP_PLUGIN__","__webpack_require__","createPage","Page","components","Popup","uniLoadMore","data","phoneHeight","scrollviewHigh","state_active","topRefresh","listData","dataType","isPayPopup","pay_type","order_id","last_page","page","list_rows","no_more","loading","isCodeImg","codeImg","showAlipay","isfirst","computed","loadingType","onLoad","mounted","onShow","methods","initData","self","cancelAdvance","uni","title","content","success","duration","icon","depositPay","init","createSelectorQuery","in","select","view","stateFunc","console","scrolltolowerFunc","getData","type","pay_source","gotoOrder","hidePopupFunc","toShop","payTypeFunc","payType","onPayOrder","orderReceipt","countDown","modulo","day","hour","minute","second","cancelOrder","gotoEvaluate","onQRCode","source","nowOverTime","hideCodePopupFunc","gotoAssembleShare"],"mappings":";;;;;;;;;;;;;AAAA;AAGA;AACA;AAHA;AACAA,EAAE,CAACC,iCAAiC,GAAGC,mBAAmB;AAG1DC,UAAU,CAACC,sBAAI,CAAC,C;;;;;;;;;;;;;ACLhB;AAAA;AAAA;AAAA;AAAA;AAAA;AAA2H;AAC3H;AACkE;AACL;AACc;;;AAG3E;AACmK;AACnK,gBAAgB,6KAAU;AAC1B,EAAE,oFAAM;AACR,EAAE,yFAAM;AACR,EAAE,kGAAe;AACjB;AACA;AACA;AACA;AACA;AACA,EAAE,6FAAU;AACZ;AACA;;AAEA;AACe,gF;;;;;;;;;;;;ACvBf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;;;;;;;;;;;;ACAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA,MAAM;AACN;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;ACrCA;AAAA;AAAA;AAAA;AAA2mB,CAAgB,wnBAAG,EAAC,C;;;;;;;;;;;;;;;;;;AC8G/nB;AAAA;EAAA;IAAA;EAAA;AAAA;AAAA;EAAA;IAAA;EAAA;AAAA;AAAA,eACA;EACAC;IACAC;IACAC;EACA;EACAC;IACA;MACA;MACAC;MACA;MACAC;MACA;MACAC;MACA;MACAC;MACA;MACAC;MACA;MACAC;MACA;MACAC;MACA;MACAC;MACA;MACAC;MACA;MACAC;MACA;MACAC;MACA;MACAC;MACA;MACAC;MACA;MACAC;MACA;MACAC;MACAC;MACA;MACAC;MACAC;IACA;EACA;EACAC;IACA,SACAC;MACA;QACA;MACA;QACA;UACA;QACA;UACA;QACA;MACA;IACA;EACA;EACAC;IACA;MACA;IACA;IAEA;MACA;IACA;MACA;IACA;MACA;IACA;MACA;IACA;EACA;EACAC;IACA;IACA;IACA;IACA;EACA;EACAC;IACA;MACA;MACA;IACA;EACA;EACAC;IACAC;MACA;MACAC;MACAA;MACAA;IACA;IACAC;MACA;MACA;MACAC;QACAC;QACAC;QACAC;UACA;YACAH;cACAC;YACA;YACAH,UACA,kCACA;cACAjB;YACA,GACA;cACAmB;cACAA;gBACAC;gBACAG;gBACAC;cACA;cACAP;cACAA;YACA,EACA;UACA;QACA;MACA;IACA;IACAQ;MACA;IACA;IACA,OACAC;MACA;MACAP;QACAG;UACAL;UACA;UACA,eACAU,sBACAC,SACAC;UACAC;YACA;YACAb;UACA;QACA;MACA;IACA;IACA,QACAc;MACAC;MACA;MACA;QACAf;QACAA;QACAA;QACA;UACA;YACAA;YACAA;YACA;UACA;YACAA;YACAA;YACA;UACA;YACAA;YACAA;YACA;UACA;YACAA;YACAA;YACA;UACA;YACAA;YACAA;YACA;QAAA;QAEAA;MACA;IACA;IAEA,eACAgB;MACA;MACA;QACA;MACA;MACAhB;MACA;QACAA;MACA;QACAA;MACA;IACA;IAEA,QACAiB;MACA;MACAjB;MACA;MACAA,UACA,uBACA;QACAkB;QACAjC;QACAkC;QACAjC;MACA,GACA;QACAc;QACAA;QACAA;QACA;UACAA;QACA;UACAA;QACA;QACA;UACAA;QACA;QACAA;MACA,EACA;IACA;IAEA,QACAoB;MACA;IACA;IAEA,UACAC;MACA;IACA;IACAC;MACA;IACA;IACA,OACAC;MACA;MACAvB;MACAE;QACAC;MACA;MACAH,WACA,kBACA;QACAwB;QACAzC;QACAoC;MACA,GACA;QACA;MACA,EACA;IACA;IAEA,UACAM;MACA;MACAzB;IACA;IAEA,QACA0B;MACA;MACAxB;QACAC;QACAC;QACAC;UACA;YACAH;cACAC;YACA;YACAH,WACA,sBACA;cACAjB;YACA,GACA;cACAmB;cACAA;gBACAC;gBACAG;gBACAC;cACA;cACAP;cACAA;YACA,EACA;UACA;YACAE;cACAC;cACAG;cACAC;YACA;UACA;QACA;MACA;IACA;IACA,SACAoB;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACAC;MACA;MACA;MACA;MACA;MACAC;MACAC;MACAC;MACAC;MACA;MACA;IACA;IACA,QACAC;MACA;MACA;MACA/B;QACAC;QACAC;QACAC;UACA;YACAH;cACAC;YACA;YACAH,UACA,qBACA;cACAjB;YACA,GACA;cACAmB;cACAA;gBACAC;gBACAG;gBACAC;cACA;cACAP;cACAA;YACA,EACA;UACA;QACA;MACA;IACA;IAEA,OACAkC;MACA;IACA;IAEA,OACAC;MACA;MACAjC;QACAC;MACA;MACA;MACA;MACAH,UACA,qBACA;QACAjB;QACAqD;MACA,GACA;QACAlC;QACAF;QACAA;MACA,EACA;IACA;IACAqC;MACA;MACA;MACA;IACA;IACA,WACAC;MACA;IACA;IAEA,QACAC;MACA;IACA;EACA;AACA;AAAA,2B;;;;;;;;;;;;;ACtfA;AAAA;AAAA;AAAA;AAAspC,CAAgB,umCAAG,EAAC,C;;;;;;;;;;;ACA1qC;AACA,OAAO,KAAU,EAAE,kBAKd","file":"pages/order/assemble-order.js","sourcesContent":["import 'uni-pages';\n// @ts-ignore\nwx.__webpack_require_UNI_MP_PLUGIN__ = __webpack_require__;\nimport Vue from 'vue'\nimport Page from './pages/order/assemble-order.vue'\ncreatePage(Page)","import { render, staticRenderFns, recyclableRender, components } from \"./assemble-order.vue?vue&type=template&id=2acb9b26&\"\nvar renderjs\nimport script from \"./assemble-order.vue?vue&type=script&lang=js&\"\nexport * from \"./assemble-order.vue?vue&type=script&lang=js&\"\nimport style0 from \"./assemble-order.vue?vue&type=style&index=0&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null,\n  false,\n  components,\n  renderjs\n)\n\ncomponent.options.__file = \"pages/order/assemble-order.vue\"\nexport default component.exports","export * from \"-!../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--17-0!../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/template.js!../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-uni-app-loader/page-meta.js!../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./assemble-order.vue?vue&type=template&id=2acb9b26&\"","var components\nvar render = function () {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n  var m0 = _vm.theme() || \"\"\n  var m1 = _vm.theme()\n  var l0 = _vm.__map(_vm.listData, function (item, index) {\n    var $orig = _vm.__get_orig(item)\n    var g0 = item.product.length\n    var g1 = g0 > 1 ? item.product.length : null\n    var g2 =\n      !(g0 > 1) && item.order_source == 70\n        ? (item.pay_price * 1 + item.advance.pay_price * 1).toFixed(2)\n        : null\n    return {\n      $orig: $orig,\n      g0: g0,\n      g1: g1,\n      g2: g2,\n    }\n  })\n  var g3 = _vm.listData.length == 0 && !_vm.loading\n  _vm.$mp.data = Object.assign(\n    {},\n    {\n      $root: {\n        m0: m0,\n        m1: m1,\n        l0: l0,\n        g3: g3,\n      },\n    }\n  )\n}\nvar recyclableRender = false\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns, recyclableRender, components }","import mod from \"-!../../../../HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--13-1!../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./assemble-order.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--13-1!../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./assemble-order.vue?vue&type=script&lang=js&\"","<template>\r\n\t<view :data-theme=\"theme()\" :class=\"theme() || ''\">\r\n\t\t<view class=\"top-tabbar\">\r\n\t\t\t<view :class=\"state_active == 0 ? 'tab-item active' : 'tab-item'\" @click=\"stateFunc(0)\">全部</view>\r\n\t\t\t<view :class=\"state_active == 1 ? 'tab-item active' : 'tab-item'\" @click=\"stateFunc(1)\">待付款</view>\r\n\t\t\t<view :class=\"state_active == 2 ? 'tab-item active' : 'tab-item'\" @click=\"stateFunc(2)\">拼团中</view>\r\n\t\t\t<view :class=\"state_active == 3 ? 'tab-item active' : 'tab-item'\" @click=\"stateFunc(3)\">拼团成功</view>\r\n\t\t\t<view :class=\"state_active == 4 ? 'tab-item active' : 'tab-item'\" @click=\"stateFunc(4)\">拼团失败</view>\r\n\t\t</view>\r\n\t\t<!--列表-->\r\n\t\t<scroll-view scroll-y=\"true\" class=\"scroll-Y\" :style=\"'height:' + scrollviewHigh + 'px;'\" lower-threshold=\"50\" @scrolltolower=\"scrolltolowerFunc\">\r\n\t\t\t<view :class=\"topRefresh ? 'top-refresh open' : 'top-refresh'\"><view class=\"circle\" v-for=\"(circle, n) in 3\" :key=\"n\"></view></view>\r\n\t\t\t<view class=\"order-list\">\r\n\t\t\t\t<view class=\"item\" v-for=\"(item, index) in listData\" :key=\"index\">\r\n\t\t\t\t\t<view class=\"d-b-c pb38\">\r\n\t\t\t\t\t\t<view class=\"item-dianpu\" @click=\"toShop(item.supplier.shop_supplier_id)\">\r\n\t\t\t\t\t\t\t<view class=\"item-d-l mr10\">\r\n\t\t\t\t\t\t\t\t<i class=\"icon iconfont icon-dianpu1\"></i>\r\n\t\t\t\t\t\t\t\t<text class=\"fb gray3 f32\" v-if=\"item.supplier\">{{ item.supplier.name }}</text>\r\n\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t<view><i class=\"icon iconfont icon-jiantou\"></i></view>\r\n\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t<view class=\"state\">\r\n\t\t\t\t\t\t\t<text class=\"redF6\">{{ item.state_text }}</text>\r\n\t\t\t\t\t\t</view>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t\t<view class=\"order-head d-b-c\">\r\n\t\t\t\t\t\t<view>\r\n\t\t\t\t\t\t\t<text class=\"state-text\">{{ item.order_source_text }}</text>\r\n\t\t\t\t\t\t\t<text class=\"shop-name flex-1 fb\">订单号：{{ item.order_no }}</text>\r\n\t\t\t\t\t\t</view>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t\t<!--多个商品显示-->\r\n\t\t\t\t\t<view class=\"product-list pr\" v-if=\"item.product.length > 1\" @click=\"gotoOrder(item.order_id)\">\r\n\t\t\t\t\t\t<scroll-view scroll-x=\"true\">\r\n\t\t\t\t\t\t\t<view class=\"list d-s-c pr100\">\r\n\t\t\t\t\t\t\t\t<view class=\"cover mr10\" v-for=\"(img, num) in item.product\" :key=\"num\"><image :src=\"img.image.file_path\" mode=\"aspectFit\"></image></view>\r\n\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t</scroll-view>\r\n\t\t\t\t\t\t<view class=\"total-count\">\r\n\t\t\t\t\t\t\t<view class=\"left-shadow\"></view>\r\n\t\t\t\t\t\t\t<view class=\"price f24\">\r\n\t\t\t\t\t\t\t\t¥\r\n\t\t\t\t\t\t\t\t<text class=\"f32\">{{ item.pay_price }}</text>\r\n\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t<view class=\"count\">共{{ item.product.length }}件</view>\r\n\t\t\t\t\t\t</view>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t\t<!--一个商品显示-->\r\n\t\t\t\t\t<view class=\"one-product d-s-c\" v-else @click=\"gotoOrder(item.order_id)\">\r\n\t\t\t\t\t\t<view class=\"cover\" v-for=\"(img, num) in item.product\" :key=\"num\"><image :src=\"img.image.file_path\" mode=\"aspectFit\"></image></view>\r\n\t\t\t\t\t\t<view class=\"pro-info flex-1\">{{ item.product[0].product_name }}</view>\r\n\t\t\t\t\t\t<view class=\"total-count\">\r\n\t\t\t\t\t\t\t<view class=\"left-shadow\"></view>\r\n\t\t\t\t\t\t\t<view class=\"price f24\" v-if=\"item.order_source == 70\">\r\n\t\t\t\t\t\t\t\t¥\r\n\t\t\t\t\t\t\t\t<text class=\"f32\">{{ (item.pay_price * 1 + item.advance.pay_price * 1).toFixed(2) }}</text>\r\n\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t<view class=\"price f24\" v-else>\r\n\t\t\t\t\t\t\t\t¥\r\n\t\t\t\t\t\t\t\t<text class=\"f32\">{{ item.pay_price }}</text>\r\n\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t<view class=\"count\">共{{ item.product[0].total_num }}件</view>\r\n\t\t\t\t\t\t</view>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t\t<view class=\"order-bts\">\r\n\t\t\t\t\t\t<block v-if=\"item.order_status.value == 10\">\r\n\t\t\t\t\t\t\t<!-- 未支付取消订单 -->\r\n\t\t\t\t\t\t\t<button @click=\"cancelOrder(item.order_id)\" class=\"theme-borderbtn\" v-if=\"item.pay_status.value == 10\">取消</button>\r\n\t\t\t\t\t\t\t<!-- 已支付取消订单 -->\r\n\t\t\t\t\t\t\t<block v-if=\"item.pay_status.value == 20 && item.delivery_status.value == 10\">\r\n\t\t\t\t\t\t\t\t<button @click=\"cancelOrder(item.order_id)\" class=\"theme-borderbtn\">申请取消</button>\r\n\t\t\t\t\t\t\t</block>\r\n\t\t\t\t\t\t\t<!-- 订单核销码 -->\r\n\t\t\t\t\t\t\t<template v-if=\"item.pay_status.value == 20 && item.delivery_type.value == 20 && item.delivery_status.value == 10\">\r\n\t\t\t\t\t\t\t\t<button v-if=\"item.order_source == 30 && item.assemble_status == 20\" @click=\"onQRCode(item.order_id)\" class=\"theme-borderbtn\">核销码</button>\r\n\t\t\t\t\t\t\t\t<button v-if=\"item.order_source != 30\" @click=\"onQRCode(item.order_id)\" class=\"theme-borderbtn\">核销码</button>\r\n\t\t\t\t\t\t\t</template>\r\n\t\t\t\t\t\t\t<!-- 订单付款 -->\r\n\t\t\t\t\t\t\t<block v-if=\"item.pay_status.value == 10\"><button class=\"theme-btn\" @click=\"onPayOrder(item.order_id)\">付款</button></block>\r\n\t\t\t\t\t\t\t<!-- 确认收货 -->\r\n\t\t\t\t\t\t\t<block v-if=\"item.delivery_status.value == 20 && item.receipt_status.value == 10\">\r\n\t\t\t\t\t\t\t\t<button class=\"theme-btn\" @click=\"orderReceipt(item.order_id)\">确认收货</button>\r\n\t\t\t\t\t\t\t</block>\r\n\t\t\t\t\t\t</block>\r\n\t\t\t\t\t\t<text v-if=\"item.order_status.value == 21\" class=\"count\">取消申请中</text>\r\n\t\t\t\t\t\t<!-- 订单评价 -->\r\n\t\t\t\t\t\t<button class=\"theme-btn\" v-if=\"item.order_status.value == 30 && item.is_comment == 0\" @click=\"gotoEvaluate(item.order_id)\">评价</button>\r\n\t\t\t\t\t\t<template v-if=\"item.assemble_status == 10 && item.order_source == 30\">\r\n\t\t\t\t\t\t\t<button class=\"theme-btn\" @click=\"gotoAssembleShare(item.product[0].bill_source_id)\">邀请好友拼单</button>\r\n\t\t\t\t\t\t</template>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t</view>\r\n\t\t\t\t<view class=\"d-c-c p30\" v-if=\"listData.length == 0 && !loading\">\r\n\t\t\t\t\t<text class=\"iconfont icon-wushuju\"></text>\r\n\t\t\t\t\t<text class=\"cont\">亲，暂无相关记录哦</text>\r\n\t\t\t\t</view>\r\n\t\t\t\t<uni-load-more v-else :loadingType=\"loadingType\"></uni-load-more>\r\n\t\t\t</view>\r\n\t\t</scroll-view>\r\n\t\t<!--核销二维码-->\r\n\t\t<Popup :show=\"isCodeImg\" type=\"middle\" @hidePopup=\"hideCodePopupFunc\">\r\n\t\t\t<view class=\"ww100 p20 box-s-b\"><image class=\"ww100\" :src=\"codeImg\" mode=\"widthFix\"></image></view>\r\n\t\t</Popup>\r\n\t</view>\r\n</template>\r\n\r\n<script>\r\nimport Popup from '@/components/uni-popup.vue';\r\nimport uniLoadMore from '@/components/uni-load-more.vue';\r\nimport { pay } from '@/common/pay.js';\r\nexport default {\r\n\tcomponents: {\r\n\t\tPopup,\r\n\t\tuniLoadMore\r\n\t},\r\n\tdata() {\r\n\t\treturn {\r\n\t\t\t/*手机高度*/\r\n\t\t\tphoneHeight: 0,\r\n\t\t\t/*可滚动视图区域高度*/\r\n\t\t\tscrollviewHigh: 0,\r\n\t\t\t/*状态选中*/\r\n\t\t\tstate_active: 0,\r\n\t\t\t/*顶部刷新*/\r\n\t\t\ttopRefresh: false,\r\n\t\t\t/*数据*/\r\n\t\t\tlistData: [],\r\n\t\t\t/*数据类别*/\r\n\t\t\tdataType: 10,\r\n\t\t\t/*是否显示支付类别弹窗*/\r\n\t\t\tisPayPopup: false,\r\n\t\t\t/*支付方式*/\r\n\t\t\tpay_type: 20,\r\n\t\t\t/*订单id*/\r\n\t\t\torder_id: 0,\r\n\t\t\t/*最后一页码数*/\r\n\t\t\tlast_page: 0,\r\n\t\t\t/*当前页面*/\r\n\t\t\tpage: 1,\r\n\t\t\t/*每页条数*/\r\n\t\t\tlist_rows: 10,\r\n\t\t\t/*有没有等多*/\r\n\t\t\tno_more: false,\r\n\t\t\t/*是否正在加载*/\r\n\t\t\tloading: true,\r\n\t\t\t/*是否显示核销二维码*/\r\n\t\t\tisCodeImg: false,\r\n\t\t\tcodeImg: '',\r\n\t\t\t/*是否显示支付宝支付，只有在h5，非微信内打开才显示*/\r\n\t\t\tshowAlipay: false,\r\n\t\t\tisfirst: false\r\n\t\t};\r\n\t},\r\n\tcomputed: {\r\n\t\t/*加载中状态*/\r\n\t\tloadingType() {\r\n\t\t\tif (this.loading) {\r\n\t\t\t\treturn 1;\r\n\t\t\t} else {\r\n\t\t\t\tif (this.listData.length != 0 && this.no_more) {\r\n\t\t\t\t\treturn 2;\r\n\t\t\t\t} else {\r\n\t\t\t\t\treturn 0;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t},\r\n\tonLoad(e) {\r\n\t\tif (typeof e.dataType != 'undefined') {\r\n\t\t\tthis.dataType = e.dataType;\r\n\t\t}\r\n\r\n\t\tif (this.dataType == 'payment') {\r\n\t\t\tthis.state_active = 1;\r\n\t\t} else if (this.dataType == 'received') {\r\n\t\t\tthis.state_active = 3;\r\n\t\t} else if (this.dataType == 'comment') {\r\n\t\t\tthis.state_active = 4;\r\n\t\t} else if (this.dataType == 'delivery') {\r\n\t\t\tthis.state_active = 2;\r\n\t\t}\r\n\t},\r\n\tmounted() {\r\n\t\tthis.init();\r\n\t\tthis.initData();\r\n\t\t/*获取订单列表*/\r\n\t\tthis.getData();\r\n\t},\r\n\tonShow() {\r\n\t\tif (this.isfirst) {\r\n\t\t\tthis.initData();\r\n\t\t\tthis.getData();\r\n\t\t}\r\n\t},\r\n\tmethods: {\r\n\t\tinitData() {\r\n\t\t\tlet self = this;\r\n\t\t\tself.page = 1;\r\n\t\t\tself.listData = [];\r\n\t\t\tself.no_more = false;\r\n\t\t},\r\n\t\tcancelAdvance(e) {\r\n\t\t\tlet self = this;\r\n\t\t\tlet order_id = e;\r\n\t\t\tuni.showModal({\r\n\t\t\t\ttitle: '提示',\r\n\t\t\t\tcontent: '您确定要取消吗?',\r\n\t\t\t\tsuccess: function(o) {\r\n\t\t\t\t\tif (o.confirm) {\r\n\t\t\t\t\t\tuni.showLoading({\r\n\t\t\t\t\t\t\ttitle: '正在处理'\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t\tself._get(\r\n\t\t\t\t\t\t\t'plus.advance.Order/cancelFront',\r\n\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\torder_id: order_id\r\n\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\tfunction(res) {\r\n\t\t\t\t\t\t\t\tuni.hideLoading();\r\n\t\t\t\t\t\t\t\tuni.showToast({\r\n\t\t\t\t\t\t\t\t\ttitle: '操作成功',\r\n\t\t\t\t\t\t\t\t\tduration: 2000,\r\n\t\t\t\t\t\t\t\t\ticon: 'success'\r\n\t\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\t\tself.listData = [];\r\n\t\t\t\t\t\t\t\tself.getData();\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t);\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t},\r\n\t\tdepositPay(e) {\r\n\t\t\tthis.gotoPage('/pages/order/confirm-order?order_type=retainage&order_id=' + e);\r\n\t\t},\r\n\t\t/*初始化*/\r\n\t\tinit() {\r\n\t\t\tlet self = this;\r\n\t\t\tuni.getSystemInfo({\r\n\t\t\t\tsuccess(res) {\r\n\t\t\t\t\tself.phoneHeight = res.windowHeight;\r\n\t\t\t\t\t// 计算组件的高度\r\n\t\t\t\t\tlet view = uni\r\n\t\t\t\t\t\t.createSelectorQuery()\r\n\t\t\t\t\t\t.in(self)\r\n\t\t\t\t\t\t.select('.top-tabbar');\r\n\t\t\t\t\tview.boundingClientRect(data => {\r\n\t\t\t\t\t\tlet h = self.phoneHeight - data.height;\r\n\t\t\t\t\t\tself.scrollviewHigh = h;\r\n\t\t\t\t\t}).exec();\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t},\r\n\t\t/*状态切换*/\r\n\t\tstateFunc(e) {\r\n\t\t\tconsole.log(11111, e);\r\n\t\t\tlet self = this;\r\n\t\t\tif (self.state_active != e) {\r\n\t\t\t\tself.page = 1;\r\n\t\t\t\tself.loading = true;\r\n\t\t\t\tself.state_active = e;\r\n\t\t\t\tswitch (e) {\r\n\t\t\t\t\tcase 0:\r\n\t\t\t\t\t\tself.listData = [];\r\n\t\t\t\t\t\tself.dataType =10;\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t\tcase 1:\r\n\t\t\t\t\t\tself.listData = [];\r\n\t\t\t\t\t\tself.dataType = 20;\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t\tcase 2:\r\n\t\t\t\t\t\tself.listData = [];\r\n\t\t\t\t\t\tself.dataType = 30;\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t\tcase 3:\r\n\t\t\t\t\t\tself.listData = [];\r\n\t\t\t\t\t\tself.dataType = 40;\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t\tcase 4:\r\n\t\t\t\t\t\tself.listData = [];\r\n\t\t\t\t\t\tself.dataType = 50;\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t}\r\n\t\t\t\tself.getData();\r\n\t\t\t}\r\n\t\t},\r\n\r\n\t\t/*可滚动视图区域到底触发*/\r\n\t\tscrolltolowerFunc() {\r\n\t\t\tlet self = this;\r\n\t\t\tif (self.no_more) {\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\t\t\tself.page++;\r\n\t\t\tif (self.page <= self.last_page) {\r\n\t\t\t\tself.getData();\r\n\t\t\t} else {\r\n\t\t\t\tself.no_more = true;\r\n\t\t\t}\r\n\t\t},\r\n\r\n\t\t/*获取数据*/\r\n\t\tgetData() {\r\n\t\t\tlet self = this;\r\n\t\t\tself.loading = true;\r\n\t\t\tlet dataType = self.dataType;\r\n\t\t\tself._get(\r\n\t\t\t\t'user.Assemble/lists',\r\n\t\t\t\t{\r\n\t\t\t\t\ttype: dataType,\r\n\t\t\t\t\tpage: self.page,\r\n\t\t\t\t\tpay_source: self.getPlatform(),\r\n\t\t\t\t\tlist_rows: self.list_rows\r\n\t\t\t\t},\r\n\t\t\t\tfunction(res) {\r\n\t\t\t\t\tself.loading = false;\r\n\t\t\t\t\tself.listData = self.listData.concat(res.data.list.data);\r\n\t\t\t\t\tself.last_page = res.data.list.last_page;\r\n\t\t\t\t\tif (res.data.list.last_page <= 1) {\r\n\t\t\t\t\t\tself.no_more = true;\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tself.no_more = false;\r\n\t\t\t\t\t}\r\n\t\t\t\t\tif (res.data.show_alipay) {\r\n\t\t\t\t\t\tself.showAlipay = true;\r\n\t\t\t\t\t}\r\n\t\t\t\t\tself.isfirst = true;\r\n\t\t\t\t}\r\n\t\t\t);\r\n\t\t},\r\n\r\n\t\t/*跳转页面*/\r\n\t\tgotoOrder(e) {\r\n\t\t\tthis.gotoPage('/pages/order/order-detail?order_id=' + e);\r\n\t\t},\r\n\r\n\t\t/*隐藏支付方式*/\r\n\t\thidePopupFunc() {\r\n\t\t\tthis.isPayPopup = false;\r\n\t\t},\r\n\t\ttoShop(id) {\r\n\t\t\tthis.gotoPage('/pages/shop/shop?shop_supplier_id=' + id);\r\n\t\t},\r\n\t\t/*去支付*/\r\n\t\tpayTypeFunc(payType) {\r\n\t\t\tlet self = this;\r\n\t\t\tself.isPayPopup = false;\r\n\t\t\tuni.showLoading({\r\n\t\t\t\ttitle: '加载中'\r\n\t\t\t});\r\n\t\t\tself._post(\r\n\t\t\t\t'user.order/pay',\r\n\t\t\t\t{\r\n\t\t\t\t\tpayType: payType,\r\n\t\t\t\t\torder_id: self.order_id,\r\n\t\t\t\t\tpay_source: self.getPlatform()\r\n\t\t\t\t},\r\n\t\t\t\tfunction(res) {\r\n\t\t\t\t\tpay(res, self);\r\n\t\t\t\t}\r\n\t\t\t);\r\n\t\t},\r\n\r\n\t\t/*支付方式选择*/\r\n\t\tonPayOrder(orderId) {\r\n\t\t\tlet self = this;\r\n\t\t\tself.gotoPage('/pages/order/cashier?order_type=1&order_id=' + orderId);\r\n\t\t},\r\n\r\n\t\t/*确认收货*/\r\n\t\torderReceipt(order_id) {\r\n\t\t\tlet self = this;\r\n\t\t\tuni.showModal({\r\n\t\t\t\ttitle: '提示',\r\n\t\t\t\tcontent: '您确定要收货吗?',\r\n\t\t\t\tsuccess: function(o) {\r\n\t\t\t\t\tif (o.confirm) {\r\n\t\t\t\t\t\tuni.showLoading({\r\n\t\t\t\t\t\t\ttitle: '正在处理'\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t\tself._post(\r\n\t\t\t\t\t\t\t'user.order/receipt',\r\n\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\torder_id: order_id\r\n\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\tfunction(res) {\r\n\t\t\t\t\t\t\t\tuni.hideLoading();\r\n\t\t\t\t\t\t\t\tuni.showToast({\r\n\t\t\t\t\t\t\t\t\ttitle: res.msg,\r\n\t\t\t\t\t\t\t\t\tduration: 2000,\r\n\t\t\t\t\t\t\t\t\ticon: 'success'\r\n\t\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\t\tself.listData = [];\r\n\t\t\t\t\t\t\t\tself.getData();\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t);\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tuni.showToast({\r\n\t\t\t\t\t\t\ttitle: '取消收货',\r\n\t\t\t\t\t\t\tduration: 1000,\r\n\t\t\t\t\t\t\ticon: 'none'\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t},\r\n\t\t/*计算时分秒*/\r\n\t\tcountDown(t) {\r\n\t\t\tlet time = t - Date.now() / 1000;\r\n\t\t\t//天数\r\n\t\t\tlet day = Math.floor(time / (60 * 60 * 24));\r\n\t\t\t//取模（余数）\r\n\t\t\tlet modulo = time % (60 * 60 * 24);\r\n\t\t\t//小时数\r\n\t\t\tlet hour = Math.floor(modulo / (60 * 60));\r\n\t\t\tmodulo = modulo % (60 * 60);\r\n\t\t\t//分钟\r\n\t\t\tlet minute = Math.floor(modulo / 60);\r\n\t\t\t//秒\r\n\t\t\tlet second = modulo % 60;\r\n\t\t\tday = this.convertTwo(day);\r\n\t\t\thour = this.convertTwo(hour);\r\n\t\t\tminute = this.convertTwo(minute);\r\n\t\t\tsecond = this.convertTwo(second);\r\n\t\t\tlet text = parseInt(day) > 0 ? parseInt(day) + '天 ' : '' + parseInt(hour) + '时' + parseInt(minute) + '分' + parseInt(second) + '秒';\r\n\t\t\treturn text;\r\n\t\t},\r\n\t\t/*取消订单*/\r\n\t\tcancelOrder(e) {\r\n\t\t\tlet self = this;\r\n\t\t\tlet order_id = e;\r\n\t\t\tuni.showModal({\r\n\t\t\t\ttitle: '提示',\r\n\t\t\t\tcontent: '您确定要取消吗?',\r\n\t\t\t\tsuccess: function(o) {\r\n\t\t\t\t\tif (o.confirm) {\r\n\t\t\t\t\t\tuni.showLoading({\r\n\t\t\t\t\t\t\ttitle: '正在处理'\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t\tself._get(\r\n\t\t\t\t\t\t\t'user.order/cancel',\r\n\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\torder_id: order_id\r\n\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\tfunction(res) {\r\n\t\t\t\t\t\t\t\tuni.hideLoading();\r\n\t\t\t\t\t\t\t\tuni.showToast({\r\n\t\t\t\t\t\t\t\t\ttitle: '操作成功',\r\n\t\t\t\t\t\t\t\t\tduration: 2000,\r\n\t\t\t\t\t\t\t\t\ticon: 'success'\r\n\t\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\t\tself.listData = [];\r\n\t\t\t\t\t\t\t\tself.getData();\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t);\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t},\r\n\r\n\t\t/*去评论*/\r\n\t\tgotoEvaluate(e) {\r\n\t\t\tthis.gotoPage('/pages/order/evaluate/evaluate?order_id=' + e);\r\n\t\t},\r\n\r\n\t\t/*核销码*/\r\n\t\tonQRCode(e) {\r\n\t\t\tlet self = this;\r\n\t\t\tuni.showLoading({\r\n\t\t\t\ttitle: '加载中'\r\n\t\t\t});\r\n\t\t\tlet order_id = e;\r\n\t\t\tlet source = self.getPlatform();\r\n\t\t\tself._get(\r\n\t\t\t\t'user.order/qrcode',\r\n\t\t\t\t{\r\n\t\t\t\t\torder_id: order_id,\r\n\t\t\t\t\tsource: source\r\n\t\t\t\t},\r\n\t\t\t\tfunction(res) {\r\n\t\t\t\t\tuni.hideLoading();\r\n\t\t\t\t\tself.isCodeImg = true;\r\n\t\t\t\t\tself.codeImg = res.data.qrcode;\r\n\t\t\t\t}\r\n\t\t\t);\r\n\t\t},\r\n\t\tnowOverTime(t) {\r\n\t\t\tlet now = new Date().getTime();\r\n\t\t\tlet time = new Date(t * 1000).getTime();\r\n\t\t\treturn now >= time;\r\n\t\t},\r\n\t\t/*关闭核销二维码*/\r\n\t\thideCodePopupFunc() {\r\n\t\t\tthis.isCodeImg = false;\r\n\t\t},\r\n\r\n\t\t/*分享拼团*/\r\n\t\tgotoAssembleShare(e) {\r\n\t\t\tthis.gotoPage('/pages/plus/assemble/fight-group-detail/fight-group-detail?assemble_bill_id=' + e);\r\n\t\t}\r\n\t}\r\n};\r\n</script>\r\n\r\n<style lang=\"scss\">\r\n@import url(\"css/myorder.css\");\r\n</style>\n","import mod from \"-!../../../../HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../HBuilderX/plugins/uniapp-cli/node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-2!../../../../HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-3!../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/sass-loader/dist/cjs.js??ref--8-oneOf-1-4!../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-5!../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./assemble-order.vue?vue&type=style&index=0&lang=scss&\"; export default mod; export * from \"-!../../../../HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../HBuilderX/plugins/uniapp-cli/node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-2!../../../../HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-3!../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/sass-loader/dist/cjs.js??ref--8-oneOf-1-4!../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-5!../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./assemble-order.vue?vue&type=style&index=0&lang=scss&\"","// extracted by mini-css-extract-plugin\n    if(module.hot) {\n      // 1757908592112\n      var cssReload = require(\"D:/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/hmr/hotModuleReplacement.js\")(module.id, {\"hmr\":true,\"publicPath\":\"/\",\"locals\":false});\n      module.hot.dispose(cssReload);\n      module.hot.accept(undefined, cssReload);\n    }\n  "],"sourceRoot":""}