{"version":3,"sources":["webpack:///D:/working/舒服康/components/upload/upload.vue?c9fb","webpack:///D:/working/舒服康/components/upload/upload.vue?b13f","webpack:///D:/working/舒服康/components/upload/upload.vue?50db","webpack:///D:/working/舒服康/components/upload/upload.vue?3e3e","uni-app:///components/upload/upload.vue","uni-app:///main.js","webpack:///D:/working/舒服康/pages/fenxiao/index.vue?8d63","webpack:///D:/working/舒服康/pages/fenxiao/index.vue?3863","webpack:///D:/working/舒服康/pages/fenxiao/index.vue?3f30","webpack:///D:/working/舒服康/pages/fenxiao/index.vue?ec19","uni-app:///pages/fenxiao/index.vue","webpack:///D:/working/舒服康/pages/fenxiao/index.vue?8927"],"names":["renderjs","component","options","__file","components","render","_vm","this","_h","$createElement","_self","_c","recyclableRender","staticRenderFns","_withStripped","data","imageList","props","onLoad","mounted","methods","chooseImageFunc","uni","maxDuration","camera","success","console","arr","self","fail","count","sizeType","sourceType","complete","uploadFile","token","app_id","file_type","title","tempList","url","filePath","name","formData","i","wx","__webpack_require_UNI_MP_PLUGIN__","__webpack_require__","createPage","Page","g0","store_photos_preview","length","g1","contract_preview","$mp","Object","assign","$root","Upload","mpvueCityPicker","form","business_license","store_photos","store_address","province_id","city_id","region_id","id_card_front","id_card_back","agent_region","mobile","store_name","shop_hours","contract","is_load","cityPickerValueDefault","selectCity","province","city","area","startTime","endTime","isupload","uploadNum","type","business_license_preview","id_card_front_preview","id_card_back_preview","contract_template","created","getData","getContract","showMulLinkageThreePicker","onConfirm","onStartTimeChange","onEndTimeChange","downloadContract","showMenu","fileType","icon","formSubmit","mask","openUpload","getImgsFunc"],"mappings":"oHAAA,6HACIA,EADJ,QAQIC,EAAY,qBACd,aACA,YACA,sBACA,EACA,KACA,KACA,MACA,EACA,gBACAD,GAGFC,EAAUC,QAAQC,OAAS,+BACZ,aAAAF,E,0CCtBf,uQ,iCCAA,IAAIG,EAAJ,0LACA,IAAIC,EAAS,WACX,IAAIC,EAAMC,KACNC,EAAKF,EAAIG,eACJH,EAAII,MAAMC,IAEjBC,GAAmB,EACnBC,EAAkB,GACtBR,EAAOS,eAAgB,G,iCCRvB,yHAAmnB,eAAG,G,4ICKtnB,CACAC,gBACA,OAEAC,eAGAC,wBACAC,oBACAC,mBACA,wBAEAC,SAEAC,2BACA,WACA,aACAC,eAEAC,eAEAC,cAEAC,oBAEA,GADAC,eACA,GACA,SACAC,uBACAD,eACAE,kBAGAC,iBACAH,eACAE,2BAIAN,eACAQ,eACAC,mCACAC,8BACAP,oBACAG,+BAEAC,iBACAD,yBAEAK,0BAMAC,uBACA,WACA,IACA,WACA,GACAC,gCACAC,oBACAC,qCAEAf,eACAgB,cAEAC,yBACAjB,cACAkB,uDACAC,WACAC,aACAC,WACAlB,oBACA,iEACA,eAIA,OAFAC,gCACAE,YAGA,YACAA,0BAIAK,oBACAW,IACA,QACAtB,gBAEAM,yCAOA,c,uFCtGA,MAGA,aACA,YAFAiB,EAAGC,kCAAoCC,EAGvCC,EAAWC,a,gFCLX,oIACIjD,EADJ,QASIC,EAAY,qBACd,aACA,YACA,sBACA,EACA,KACA,KACA,MACA,EACA,gBACAD,GAGFC,EAAUC,QAAQC,OAAS,0BACZ,aAAAF,E,0CCvBf,uQ,iCCAA,IAAIG,EAAJ,0LACA,IAAIC,EAAS,WACX,IAAIC,EAAMC,KACNC,EAAKF,EAAIG,eAETyC,GADK5C,EAAII,MAAMC,GACVL,EAAI6C,qBAAqBC,QAC9BC,EAAK/C,EAAIgD,iBAAiBF,OAC9B9C,EAAIiD,IAAIxC,KAAOyC,OAAOC,OACpB,GACA,CACEC,MAAO,CACLR,GAAIA,EACJG,GAAIA,MAKRzC,GAAmB,EACnBC,EAAkB,GACtBR,EAAOS,eAAgB,G,iCCnBvB,yHAAknB,eAAG,G,2HCoHrnB,gB,sIAEA,CACAV,YAEAuD,iBACAC,mBAGA7C,gBACA,OACA8C,MACAC,oBACAC,gBACAC,iBACAC,eACAC,WACAC,aACAC,iBACAC,gBACAC,gBACA5B,QACA6B,UAIAC,cACAC,cACAC,aAGAC,WACAC,+BACAC,qBACAC,YACAC,QACAC,QAEAC,aACAC,WACAC,YACAC,YACAC,QACAC,4BACAC,yBACAC,wBACArC,wBACAG,oBACAmC,uBAGAC,mBACA,eACA,oBAEAtE,SAEAuE,mBACA,WACA/D,6CACAA,gCACAA,4BACAA,4BACAA,iBAIAgE,uBACA,WAEAhE,4BACAY,YACA,YACAZ,gDAGAiE,qCACA,mCAGAC,sBAEA,WAEAlE,qCACAqC,0BACAC,sBACAC,0BACA,YACA,YACAvC,qBACAA,iCACAA,6BACAA,oCAMAmE,8BACA,+BAEAC,4BACA,6BAGAC,4BACA,uBASA3E,gBACAkB,2BACAf,oBACA,mBACAH,gBACAmB,wBACAyD,YACAC,eACA1E,mBAAA,8BACAI,iBAAA,oCAGAP,aAAAgB,aAAA8D,eAGAvE,iBACAH,wBACAJ,aAAAgB,aAAA8D,iBAzBA9E,aACAgB,eACA8D,eA6BAC,uBACA,WACAzE,+DAEA,+BACAN,eACAgB,aACAgE,UAEA1E,oDAEAA,gCACAA,+CACA,iBACAN,uBAKAiF,uBACA,YACA,sDACA,kBAIAC,wBACA,sBACA,2BACA,8DACA,oEAEA,4BACA,qCACA,2CACA,2BACA,oCACA,0CACA,uBACA,0DACA,gEACA,gCACA,wCACA,+CAGA,oBAGA,c,6DChTA,yHAAq4B,eAAG,G","file":"pages/fenxiao/index.js","sourcesContent":["import { render, staticRenderFns, recyclableRender, components } from \"./upload.vue?vue&type=template&id=33ebcd24&\"\nvar renderjs\nimport script from \"./upload.vue?vue&type=script&lang=js&\"\nexport * from \"./upload.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null,\n  false,\n  components,\n  renderjs\n)\n\ncomponent.options.__file = \"components/upload/upload.vue\"\nexport default component.exports","export * from \"-!../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--17-0!../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/template.js!../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-uni-app-loader/page-meta.js!../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./upload.vue?vue&type=template&id=33ebcd24&\"","var components\nvar render = function () {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n}\nvar recyclableRender = false\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns, recyclableRender, components }","import mod from \"-!../../../../HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--13-1!../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./upload.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--13-1!../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./upload.vue?vue&type=script&lang=js&\"","<template>\r\n\t<view></view>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n\tdata() {\r\n\t\treturn {\r\n\t\t\t/*需要返回的图片*/\r\n\t\t\timageList: []\r\n\t\t};\r\n\t},\r\n\tprops: ['num', 'isVideo'],\r\n\tonLoad() {},\r\n\tmounted() {\r\n\t\tthis.chooseImageFunc();\r\n\t},\r\n\tmethods: {\r\n\t\t/*打开相机或者相册，选择图片*/\r\n\t\tchooseImageFunc() {\r\n\t\t\tlet self = this;\r\n\t\t\tif (this.isVideo) {\r\n\t\t\t\tuni.chooseVideo({\r\n\t\t\t\t\t// 来源相册或者拍摄\r\n\t\t\t\t\tmaxDuration: 60,\r\n\t\t\t\t\t// 设置最长时间60s\r\n\t\t\t\t\tcamera: 'back',\r\n\t\t\t\t\t// 后置摄像头\r\n\t\t\t\t\tsuccess: res => {\r\n\t\t\t\t\t\tconsole.log(res);\r\n\t\t\t\t\t\tif (res) {\r\n\t\t\t\t\t\t\tlet arr = [];\r\n\t\t\t\t\t\t\tarr.push(res.tempFilePath);\r\n\t\t\t\t\t\t\tconsole.log(arr);\r\n\t\t\t\t\t\t\tself.uploadFile(arr);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t},\r\n\t\t\t\t\tfail(err) {\r\n\t\t\t\t\t\tconsole.log(err);\r\n\t\t\t\t\t\tself.$emit('getImgs', null);\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\t\t} else {\r\n\t\t\t\tuni.chooseImage({\r\n\t\t\t\t\tcount: self.num || 9, //默认9\r\n\t\t\t\t\tsizeType: ['original', 'compressed'], //可以指定是原图还是压缩图，默认二者都有\r\n\t\t\t\t\tsourceType: ['album', 'camera'], //从相册选择\r\n\t\t\t\t\tsuccess: function(res) {\r\n\t\t\t\t\t\tself.uploadFile(res.tempFilePaths);\r\n\t\t\t\t\t},\r\n\t\t\t\t\tfail: function(res) {\r\n\t\t\t\t\t\tself.$emit('getImgs', null);\r\n\t\t\t\t\t},\r\n\t\t\t\t\tcomplete: function(res) {}\r\n\t\t\t\t});\r\n\t\t\t}\r\n\t\t},\r\n\r\n\t\t/*上传图片*/\r\n\t\tuploadFile: function(tempList) {\r\n\t\t\tlet self = this;\r\n\t\t\tlet i = 0;\r\n\t\t\tlet img_length = tempList.length;\r\n\t\t\tlet params = {\r\n\t\t\t\ttoken: uni.getStorageSync('token'),\r\n\t\t\t\tapp_id: self.getAppId(),\r\n\t\t\t\tfile_type: self.isVideo ? 'video' : 'image'\r\n\t\t\t};\r\n\t\t\tuni.showLoading({\r\n\t\t\t\ttitle: '上传中'\r\n\t\t\t});\r\n\t\t\ttempList.forEach(function(filePath, fileKey) {\r\n\t\t\t\tuni.uploadFile({\r\n\t\t\t\t\turl: self.websiteUrl + '/index.php?s=/api/file.upload/image',\r\n\t\t\t\t\tfilePath: filePath,\r\n\t\t\t\t\tname: 'iFile',\r\n\t\t\t\t\tformData: params,\r\n\t\t\t\t\tsuccess: function(res) {\r\n\t\t\t\t\t\tlet result = typeof res.data === 'object' ? res.data : JSON.parse(res.data);\r\n\t\t\t\t\t\tif (result.code === -1) {\r\n\t\t\t\t\t\t\t// 登录态失效, 重新登录\r\n\t\t\t\t\t\t\tconsole.log('登录态失效, 重新登录');\r\n\t\t\t\t\t\t\tself.doLogin();\r\n\t\t\t\t\t\t\treturn\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tif (result.code === 1) {\r\n\t\t\t\t\t\t\tself.imageList.push(result.data);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t},\r\n\t\t\t\t\tcomplete: function() {\r\n\t\t\t\t\t\ti++;\r\n\t\t\t\t\t\tif (img_length === i) {\r\n\t\t\t\t\t\t\tuni.hideLoading();\r\n\t\t\t\t\t\t\t// 所有文件上传完成\r\n\t\t\t\t\t\t\tself.$emit('getImgs', self.imageList);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\t\t});\r\n\t\t}\r\n\t}\r\n};\r\n</script>\r\n\r\n<style></style>\n","import 'uni-pages';\n// @ts-ignore\nwx.__webpack_require_UNI_MP_PLUGIN__ = __webpack_require__;\nimport Vue from 'vue'\nimport Page from './pages/fenxiao/index.vue'\ncreatePage(Page)","import { render, staticRenderFns, recyclableRender, components } from \"./index.vue?vue&type=template&id=7dbace48&\"\nvar renderjs\nimport script from \"./index.vue?vue&type=script&lang=js&\"\nexport * from \"./index.vue?vue&type=script&lang=js&\"\nimport style0 from \"./index.vue?vue&type=style&index=0&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null,\n  false,\n  components,\n  renderjs\n)\n\ncomponent.options.__file = \"pages/fenxiao/index.vue\"\nexport default component.exports","export * from \"-!../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--17-0!../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/template.js!../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-uni-app-loader/page-meta.js!../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./index.vue?vue&type=template&id=7dbace48&\"","var components\nvar render = function () {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n  var g0 = _vm.store_photos_preview.length\n  var g1 = _vm.contract_preview.length\n  _vm.$mp.data = Object.assign(\n    {},\n    {\n      $root: {\n        g0: g0,\n        g1: g1,\n      },\n    }\n  )\n}\nvar recyclableRender = false\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns, recyclableRender, components }","import mod from \"-!../../../../HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--13-1!../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./index.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--13-1!../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./index.vue?vue&type=script&lang=js&\"","<template>\r\n\t<view class=\"index\">\r\n\t\t\r\n\t\t<view class=\"certification\">\r\n\t\t\t<form @submit=\"formSubmit\" @reset=\"formReset\">\r\n\t\t\t\t<view class=\"certification_head\">\r\n\t\t\t\t\t<view class=\"certification_head_body\">\r\n\t\t\t\t\t\t<view class=\"certification_head_body_item\">\r\n\t\t\t\t\t\t\t<view class=\"icon iconfont icon-qiye\"></view>\r\n\t\t\t\t\t\t\t<input type=\"text\" name=\"store_name\" v-model=\"form.store_name\" placeholder='请输入店名' />\r\n\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t<view class=\"certification_head_body_item\">\r\n\t\t\t\t\t\t\t<view class=\"icon iconfont icon-ziyuan1\"></view>\r\n\t\t\t\t\t\t\t<input type=\"text\" name=\"name\" v-model=\"form.name\" placeholder='请输入姓名' />\r\n\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t<view class=\"certification_head_body_item\">\r\n\t\t\t\t\t\t\t<view class=\"icon iconfont icon-phone\"></view>\r\n\t\t\t\t\t\t\t<input type=\"text\" name=\"mobile\" v-model=\"form.mobile\" placeholder='请输入手机号码' />\r\n\t\t\t\t\t\t</view>\r\n\r\n\t\t\t\t\t\t<view class=\"certification_head_body_item\">\r\n\t\t\t\t\t\t\t<input class=\"ml20 f32 flex-1 p-30-0\" type=\"text\" value=\"\" placeholder-class=\"grary9\" placeholder=\"\" v-model=\"selectCity\"\r\n\t\t\t\t\t\t\tdisabled=\"true\" @click=\"showMulLinkageThreePicker\" />\r\n\t\t\t\t\t\t</view>\r\n\r\n\t\t\t\t\t\t<view class=\"certification_head_body_item\">\r\n\t\t\t\t\t\t\t<view class=\"icon iconfont icon-dizhi\"></view>\r\n\t\t\t\t\t\t\t<input type=\"text\" name=\"store_address\" v-model=\"form.store_address\" placeholder='请输入详细地址' />\r\n\t\t\t\t\t\t</view>\r\n\r\n\t\t\t\t\t\t<view class=\"certification_head_body_item\">\r\n\t\t\t\t\t\t\t<text>营业时间：</text>\r\n\t\t\t\t\t\t\t<picker mode=\"time\" :value=\"startTime\" @change=\"onStartTimeChange\">\r\n\t\t\t\t\t\t\t<view>{{ startTime || '00:00' }}</view>\r\n\t\t\t\t\t\t\t</picker>\r\n\t\t\t\t\t\t\t<text style=\"margin-right: 10rpx;\"> - </text>\r\n\t\t\t\t\t\t\t<picker mode=\"time\" :value=\"endTime\" @change=\"onEndTimeChange\">\r\n\t\t\t\t\t\t\t<view>{{ endTime ||  '00:00' }}</view>\r\n\t\t\t\t\t\t\t</picker>\r\n\t\t\t\t\t\t</view>\r\n\r\n\t\t\t\t\t\t<view class=\"certification_head_body_item\">\r\n\t\t\t\t\t\t\t<input type=\"text\" name=\"agent_region\" v-model=\"form.agent_region\" placeholder='代理区域' />\r\n\t\t\t\t\t\t</view>\r\n\r\n\t\t\r\n\t\t\t\t\t</view>\r\n\t\t\t\t</view>\r\n\t\t\t\t<view class=\"certification_body\">\r\n\t\r\n\t\t\t\t\t<view class=\"login_index_updata_updata\">\r\n\t\t\t\t\t\t<view class=\"login_index_updata_updata_item2\" @click=\"openUpload('store_photos')\">\r\n\t\t\t\t\t\t\t<view class=\"login_index_updata_updata_item_body\">\r\n\t\t\t\t\t\t\t\t<view v-if=\"store_photos_preview.length\" class=\"img thumbs\">\r\n\t\t\t\t\t\t\t\t\t<image v-for=\"(url,idx) in store_photos_preview\" :key=\"idx\" :src=\"url\" mode=\"aspectFill\"></image>\r\n\t\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t\t<view v-else>点击上传店铺照片</view>\r\n\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t</view>\r\n\t\t\t\t\t</view>\r\n\r\n\t\t\t\t\t<view class=\"login_index_updata_updata\">\r\n\t\t\t\t\t\t<view class=\"login_index_updata_updata_item2\" @click=\"openUpload('business_license')\">\r\n\t\t\t\t\t\t\t<view class=\"login_index_updata_updata_item_body\">\r\n\t\t\t\t\t\t\t\t<view v-if=\"form.business_license\" class=\"img single\">\r\n\t\t\t\t\t\t\t\t\t<image :src=\"business_license_preview\" mode=\"aspectFill\"></image>\r\n\t\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t\t<view v-else>点击上传营业执照</view>\r\n\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t</view>\r\n\t\t\t\t\t</view>\r\n\r\n\t\t\t\t\t<view class=\"login_index_updata_updata\">\r\n\t\t\t\t\t\t<view class=\"login_index_updata_updata_item2\" @click=\"openUpload('id_card_front')\">\r\n\t\t\t\t\t\t\t<view class=\"login_index_updata_updata_item_body\">\r\n\t\t\t\t\t\t\t\t<view v-if=\"form.id_card_front\" class=\"img single\">\r\n\t\t\t\t\t\t\t\t\t<image :src=\"id_card_front_preview\" mode=\"aspectFill\"></image>\r\n\t\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t\t<view v-else>点击上传身份证正面</view>\r\n\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t<view class=\"login_index_updata_updata_item2\" style=\"margin-top: 20rpx;\" @click=\"openUpload('id_card_back')\">\r\n\t\t\t\t\t\t\t<view class=\"login_index_updata_updata_item_body\">\r\n\t\t\t\t\t\t\t\t<view v-if=\"form.id_card_back\" class=\"img single\">\r\n\t\t\t\t\t\t\t\t\t<image :src=\"id_card_back_preview\" mode=\"aspectFill\"></image>\r\n\t\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t\t<view v-else>点击上传身份证背面</view>\r\n\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t</view>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t\t\r\n\t\t\t\t\t<view class=\"login_index_updata_updata\">\r\n\t\t\t\t\t\t<view style=\"margin-bottom: 10px; \">\r\n\t\t\t\t\t\t\t<button @click=\"downloadContract\" type=\"primary\" plain size=\"mini\">下载合同模板</button>\r\n\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t<view class=\"login_index_updata_updata_item2\" @click=\"openUpload('contract')\">\r\n\t\t\t\t\t\t\t<view class=\"login_index_updata_updata_item_body\">\r\n\t\t\t\t\t\t\t\t<view v-if=\"contract_preview.length\" class=\"img thumbs\">\r\n\t\t\t\t\t\t\t\t\t<image v-for=\"(url,idx) in contract_preview\" :key=\"idx\" :src=\"url\" mode=\"aspectFill\"></image>\r\n\t\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t\t<view v-else>点击上传合同</view>\r\n\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t</view>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t</view>\r\n\t\t\t\t<view class=\"login_index_btn\">\r\n\t\t\t\t\t<button form-type=\"submit\" type=\"default\">确定</button>\r\n\t\t\t\t</view>\r\n\t\t\t\t<Upload v-if=\"isupload\" :num=\"uploadNum\" @getImgs=\"getImgsFunc\">上传图片</Upload>\r\n\t\t\t</form>\r\n\t\t</view>\r\n\t\t<mpvue-city-picker v-if=\"is_load\" ref=\"mpvueCityPicker\" :province=\"province\" :city=\"city\" :area=\"area\" :pickerValueDefault=\"cityPickerValueDefault\" @onConfirm=\"onConfirm\"></mpvue-city-picker>\r\n\t</view>\r\n</template>\r\n\r\n<script>\r\n\timport Upload from '@/components/upload/upload';\r\n\timport mpvueCityPicker from '@/components/mpvue-citypicker/mpvueCityPicker.vue';\r\n\texport default {\r\n\t\tcomponents: {\r\n\t\t\t/*编辑组件*/\r\n\t\t\tUpload,\r\n\t\t\tmpvueCityPicker\r\n\t\t},\r\n\t\t\r\n\t\tdata() {\r\n\t\t\treturn {\r\n\t\t\t\tform: {\r\n\t\t\t\t\tbusiness_license: '',\r\n\t\t\t\t\tstore_photos: [],\r\n\t\t\t\t\tstore_address: '',\r\n\t\t\t\t\tprovince_id: '',\r\n\t\t\t\t\tcity_id: '',\r\n\t\t\t\t\tregion_id: '',\r\n\t\t\t\t\tid_card_front: '',\r\n\t\t\t\t\tid_card_back: '',\r\n\t\t\t\t\tagent_region: '',\r\n\t\t\t\t\tname: '',\r\n\t\t\t\t\tmobile: '',\r\n\t\t\t\t\t// longitude: '',\r\n\t\t\t\t\t// latitude: '',\r\n\t\t\t\t\r\n\t\t\t\t\tstore_name: '',\r\n\t\t\t\t\tshop_hours: '',\r\n\t\t\t\t\tcontract: []\r\n\t\t\t\t},\r\n\t\t\t\t/*省市区*/\r\n\t\t\t\tis_load: false,\r\n\t\t\t\tcityPickerValueDefault: [0, 0, 0],\r\n\t\t\t\tselectCity: '选择省,市,区',\r\n\t\t\t\tprovince: [],\r\n\t\t\t\tcity: [],\r\n\t\t\t\tarea: [],\r\n\t\t\t\t/*时间*/\r\n\t\t\t\tstartTime: '',\r\n      \t\t\tendTime: '',\r\n\t\t\t\tisupload: false,\r\n\t\t\t\tuploadNum: 1,\r\n\t\t\t\ttype: '',\r\n\t\t\t\tbusiness_license_preview:'',\r\n\t\t\t\tid_card_front_preview: '',\r\n\t\t\t\tid_card_back_preview: '',\r\n\t\t\t\tstore_photos_preview: [],\r\n\t\t\t\tcontract_preview: [],\r\n\t\t\t\tcontract_template: ''\r\n\t\t\t}\r\n\t\t},\r\n\t\tcreated() {\r\n\t\t\tthis.getData()\r\n\t\t\tthis.getContract()\r\n\t\t},\r\n\t\tmethods: {\r\n\t\t\t// 获取省市区\r\n\t\t\tgetData(){\r\n\t\t\t\tlet self = this;\r\n\t\t\t\tself._post('settings/getRegion', {}, function(res) {\r\n\t\t\t\t\tself.province = res.data.regionData[0];\r\n\t\t\t\t\tself.city = res.data.regionData[1];\r\n\t\t\t\t\tself.area = res.data.regionData[2];\r\n\t\t\t\t\tself.is_load = true;\r\n\t\t\t\t});\r\n\t\t\t},\r\n\t\t\t/*获取数据*/\r\n\t\t\tgetContract() {\r\n\t\t\t\tlet self = this;\r\n\t\t\t\t\r\n\t\t\t\tself._get('user.index/detail', {\r\n\t\t\t\t\turl: self.url\r\n\t\t\t\t}, function(res) {\r\n\t\t\t\t\tself.contract_template = res.data.setting.contract\r\n\t\t\t\t});\r\n\t\t\t},\r\n\t\t\tshowMulLinkageThreePicker() {\r\n\t\t\t\tthis.$refs.mpvueCityPicker.show();\r\n\t\t\t},\r\n\t\t\t/*确定选择的省市区*/\r\n\t\t\tonConfirm(e) {\r\n\r\n\t\t\t\tlet self = this\r\n\r\n\t\t\t\tself._post('plus.agentnew.apply/check',{\r\n\t\t\t\t\tprovince_id:e.cityCode[0],\r\n\t\t\t\t\tcity_id:e.cityCode[1],\r\n\t\t\t\t\tregion_id:e.cityCode[2]\r\n\t\t\t\t},res => {\r\n\t\t\t\t\tif(res.code == 1){\r\n\t\t\t\t\t\tself.selectCity = e.label;\r\n\t\t\t\t\t\tself.form.province_id = e.cityCode[0];\r\n\t\t\t\t\t\tself.form.city_id = e.cityCode[1];\r\n\t\t\t\t\t\tself.form.region_id = e.cityCode[2];\r\n\t\t\t\t\t}\r\n\t\t\t\t})\r\n\t\t\t\t\r\n\t\t\t},\r\n\r\n\t\t\tonStartTimeChange(e) {\r\n\t\t\tthis.startTime = e.detail.value;\r\n\t\t\t},\r\n\t\t\tonEndTimeChange(e) {\r\n\t\t\t\tthis.endTime = e.detail.value;\r\n\t\t\t},\r\n\r\n\t\t\tdownloadContract() {\r\n\t\t\t\tif(!this.contract_template){\r\n\t\t\t\t\tuni.showToast({\r\n\t\t\t\t\t\ttitle: '暂无合同模板',\r\n\t\t\t\t\t\ticon: 'none'\r\n\t\t\t\t\t})\r\n\t\t\t\t\treturn;\r\n\t\t\t\t}\r\n\t\t\t\t// #ifdef MP-WEIXIN\r\n\t\t\t\r\n\t\t\t\tuni.downloadFile({\r\n\t\t\t\t\turl: this.contract_template,\r\n\t\t\t\t\tsuccess: (res) => {\r\n\t\t\t\t\tif (res.statusCode === 200) {\r\n\t\t\t\t\t\tuni.openDocument({\r\n\t\t\t\t\t\tfilePath: res.tempFilePath,\r\n\t\t\t\t\t\tshowMenu: true,\r\n\t\t\t\t\t\tfileType: 'pdf', // 或 pdf、xls 等\r\n\t\t\t\t\t\tsuccess: () => console.log('打开文档成功'),\r\n\t\t\t\t\t\tfail: (err) => console.error('打开文档失败', err)\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tuni.showToast({ title: '下载失败', icon: 'none' });\r\n\t\t\t\t\t}\r\n\t\t\t\t\t},\r\n\t\t\t\t\tfail: (err) => {\r\n\t\t\t\t\tconsole.error('下载失败', err);\r\n\t\t\t\t\tuni.showToast({ title: '下载失败', icon: 'none' });\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n      \t\t\t// #endif\r\n\t\t\t},\r\n\t\t\t/*提交*/\r\n\t\t\tformSubmit: function(e) {\r\n\t\t\t\tlet self = this;\r\n\t\t\t\tself.form.shop_hours =  `${self.startTime}-${self.endTime}`\r\n\t\t\t\t// 直接使用当前表单数据，无必填校验\r\n\t\t\t\tlet formdata = Object.assign({}, self.form);\r\n\t\t\t\tuni.showLoading({\r\n\t\t\t\t\ttitle: '正在提交',\r\n\t\t\t\t\tmask: true\r\n\t\t\t\t});\r\n\t\t\t\tself._post('plus.agentnew.apply/submit', formdata, function(res) {\r\n\t\t\r\n\t\t\t\t\tself.showSuccess(res.msg, function() {\r\n\t\t\t\t\t\tself.gotoPage('/pages/shop/application_status')\r\n\t\t\t\t\t}, null, function(){\r\n\t\t\t\t\t\tuni.hideLoading();\r\n\t\t\t\t\t});\r\n\t\t\t\t});\r\n\t\t\t},\r\n\t\t\t/*上传*/\r\n\t\t\topenUpload(e) {\r\n\t\t\t\tthis.type = e;\r\n\t\t\t\tthis.uploadNum = e === 'store_photos' || e === 'contract' ? 9 : 1;\r\n\t\t\t\tthis.isupload = true;\r\n\t\t\t},\r\n\r\n\t\t\t/*获取图片*/\r\n\t\t\tgetImgsFunc(e) {\r\n\t\t\t\tif (e != null && e.length > 0) {\r\n\t\t\t\t\tif (this.type == 'store_photos') {\r\n\t\t\t\t\t\tthis.form.store_photos = e.map(i => i.file_id);\r\n\t\t\t\t\t\tthis.store_photos_preview = e.map(i => i.file_path);\r\n\t\t\t\t\r\n\t\t\t\t\t} else if (this.type == 'id_card_front') {\r\n\t\t\t\t\t\tthis.form.id_card_front = e[0].file_id;\r\n\t\t\t\t\t\tthis.id_card_front_preview = e[0].file_path;\r\n\t\t\t\t\t} else if (this.type == 'id_card_back') {\r\n\t\t\t\t\t\tthis.form.id_card_back = e[0].file_id;\r\n\t\t\t\t\t\tthis.id_card_back_preview = e[0].file_path;\r\n\t\t\t\t\t} else if (this.type == 'contract') {\r\n\t\t\t\t\t\tthis.form.contract = e.map(i => i.file_id);\r\n\t\t\t\t\t\tthis.contract_preview = e.map(i => i.file_path);\r\n\t\t\t\t\t}else if (this.type == 'business_license'){\r\n\t\t\t\t\t\tthis.form.business_license = e[0].file_id;\r\n\t\t\t\t\t\tthis.business_license_preview = e[0].file_path;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\tthis.isupload = false;\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n</script>\r\n\r\n<style>\r\n\tpage {\r\n\t\tbackground: #FF3D19;\r\n\t}\r\n\r\n\t.iconfont {\r\n\t\tfont-size: 48rpx;\r\n\t}\r\n\r\n\t.index {\r\n\t\twidth: 750rpx;\r\n\t}\r\n\r\n\t.certification {\r\n\t\twidth: 675rpx;\r\n\t\tmargin: 0 auto;\r\n\t\tborder-radius: 30rpx;\r\n\t\tpadding: 30rpx;\r\n\t\tbox-sizing: border-box;\r\n\t\tbackground-color: white;\r\n\t\tposition: absolute;\r\n\t\ttop: 100rpx;\r\n\t\tleft: 37.5rpx;\r\n\t\tmargin-bottom: 50rpx;\r\n\t}\r\n\r\n\t.certification_head {\r\n\t\twidth: 100%;\r\n\t}\r\n\r\n\t.certification_head_body {\r\n\t\twidth: 100%;\r\n\t}\r\n\r\n\t.certification_head_body_item {\r\n\t\twidth: 100%;\r\n\t\theight: 100rpx;\r\n\t\tdisplay: flex;\r\n\t\talign-items: center;\r\n\t\tfont-size: 32rpx !important;\r\n\t}\r\n\r\n\t.certification_head_body_item view {\r\n\t\tmargin-right: 10rpx;\r\n\t}\r\n\r\n\t.certification_head_body_item button {\r\n\t\twidth: 172rpx;\r\n\t\theight: 56rpx;\r\n\t\tline-height: 56rpx;\r\n\t\tborder: 1rpx #E2231A solid;\r\n\t\tborder-radius: 40rpx;\r\n\t\tfont-size: 26rpx;\r\n\t\tcolor: #E2231A;\r\n\t\tpadding: 0 20rpx;\r\n\t}\r\n\r\n\t.certification_body {}\r\n\r\n\t.login_index_updata_name {\r\n\t\tmargin-top: 28rpx;\r\n\t\tmargin-left: 48rpx;\r\n\t}\r\n\r\n\t.login_index_updata_updata {\r\n\t\twidth: 90%;\r\n\t\theight: auto;\r\n\t\tmargin: 0 auto;\r\n\t\tmargin-top: 35rpx;\r\n\t}\r\n\r\n\t.login_index_updata_updata_item2 {\r\n\t\twidth: 100%;\r\n\t\tmin-height: 200rpx;\r\n\t\tborder: 1rpx #9a9a9a dotted;\r\n\t\tborder-radius: 15rpx;\r\n\t\ttext-align: center;\r\n\t}\r\n\r\n\t.login_index_updata_updata_item_body {\r\n\t\twidth: 100%;\r\n\t\theight: auto;\r\n\t\ttext-align: center;\r\n\t\tmargin: 0 auto;\r\n\t\tdisplay: flex;\r\n\t\tjustify-content: center;\r\n\t\talign-items: center;\r\n\t\tflex-wrap: wrap;\r\n\t\tpadding: 20rpx 0;\r\n\t}\r\n\r\n\t/* thumbnails in multi-image area */\r\n\t.img.thumbs image {\r\n\t\twidth: 200rpx;\r\n\t\theight: 200rpx;\r\n\t\tmargin: 10rpx;\r\n\t\tborder-radius: 12rpx;\r\n\t}\r\n\r\n\t/* single preview (ID cards) */\r\n\t.img.single image {\r\n\t\twidth: 554rpx;\r\n\t\theight: 360rpx;\r\n\t\tposition: relative;\r\n\t\tborder-radius: 12rpx;\r\n\t}\r\n\r\n\t.login_index_btn {\r\n\t\tposition: relative;\r\n\t\ttop: 30rpx;\r\n\t\tmargin-bottom: 30rpx;\r\n\t}\r\n\r\n\t.login_index_btn button {\r\n\t\twidth: 90%;\r\n\t\theight: 80rpx;\r\n\t\tbackground-color: #F36A24;\r\n\t\tborder-radius: 50rpx;\r\n\t\tline-height: 80rpx;\r\n\t\tmargin: 0 auto;\r\n\t\tcolor: white;\r\n\t\tfont-size: 30rpx;\r\n\t}\r\n\r\n\t.certification_rule {\r\n\t\tposition: relative;\r\n\t\tleft: 500rpx;\r\n\t\ttop: -10rpx;\r\n\t}\r\n\r\n\t.certification_rule text {\r\n\t\tcolor: #8a8a8a;\r\n\t}\r\n\r\n\t.certification_rule image {\r\n\t\twidth: 24rpx;\r\n\t\theight: 24rpx;\r\n\t\tdisplay: inline-block;\r\n\t}\r\n\r\n\t.classify_text {\r\n\t\tcolor: #808080;\r\n\t\tmargin-left: 40rpx;\r\n\t}\r\n\r\n\t.select input {\r\n\t\tpadding-left: 60rpx;\r\n\t\tcolor: #808080;\r\n\t}\r\n\t.make-item{\r\n\t\tpadding-left: 60rpx;\r\n\t}\r\n</style>\r\n","import mod from \"-!../../../../HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../../HBuilderX/plugins/uniapp-cli/node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--6-oneOf-1-2!../../../../HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-3!../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./index.vue?vue&type=style&index=0&lang=css&\"; export default mod; export * from \"-!../../../../HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../../HBuilderX/plugins/uniapp-cli/node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--6-oneOf-1-2!../../../../HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-3!../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./index.vue?vue&type=style&index=0&lang=css&\""],"sourceRoot":""}