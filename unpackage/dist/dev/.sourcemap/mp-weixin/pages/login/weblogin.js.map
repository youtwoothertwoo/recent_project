{"version":3,"sources":["uni-app:///main.js","webpack:///D:/working/舒服康/pages/login/weblogin.vue?3d94","webpack:///D:/working/舒服康/pages/login/weblogin.vue?4be7","webpack:///D:/working/舒服康/pages/login/weblogin.vue?6c49","webpack:///D:/working/舒服康/pages/login/weblogin.vue?45e0","uni-app:///pages/login/weblogin.vue","webpack:///D:/working/舒服康/pages/login/weblogin.vue?af05"],"names":["wx","__webpack_require_UNI_MP_PLUGIN__","__webpack_require__","createPage","Page","renderjs","component","options","__file","components","render","_vm","this","_h","$createElement","m0","_self","_c","theme","m1","_isMounted","e0","$event","is_login","e1","e2","e3","e4","isRead","$mp","data","Object","assign","$root","recyclableRender","staticRenderFns","_withStripped","formData","mobile","code","loging_password","register","password","repassword","resetpassword","is_send","send_btn_txt","second","ip","isShow","is_code","phoneHeight","onLoad","onShow","methods","init","uni","success","self","getData","platform","referee_id","console","formSubmit","title","duration","icon","formdata","url","registerSub","resetpasswordSub","isCode","sendCode","type","changeMsg","setTimeout","xieyi"],"mappings":"+IAAA,MAGA,aACA,YAFAA,EAAGC,kCAAoCC,EAGvCC,EAAWC,a,gFCLX,oIACIC,EADJ,QASIC,EAAY,qBACd,aACA,YACA,sBACA,EACA,KACA,WACA,MACA,EACA,gBACAD,GAGFC,EAAUC,QAAQC,OAAS,2BACZ,aAAAF,E,0CCvBf,uQ,iCCAA,IAAIG,EAAJ,0LACA,IAAIC,EAAS,WACX,IAAIC,EAAMC,KACNC,EAAKF,EAAIG,eAETC,GADKJ,EAAIK,MAAMC,GACVN,EAAIO,SAAW,IACpBC,EAAKR,EAAIO,QACRP,EAAIS,aACPT,EAAIU,GAAK,SAAUC,GACjBX,EAAIY,SAAW,GAEjBZ,EAAIa,GAAK,SAAUF,GACjBX,EAAIY,SAAW,GAEjBZ,EAAIc,GAAK,SAAUH,GACjBX,EAAIY,SAAW,GAEjBZ,EAAIe,GAAK,SAAUJ,GACjBX,EAAIY,SAAW,GAEjBZ,EAAIgB,GAAK,SAAUL,GACjBX,EAAIiB,QAAUjB,EAAIiB,SAGtBjB,EAAIkB,IAAIC,KAAOC,OAAOC,OACpB,GACA,CACEC,MAAO,CACLlB,GAAIA,EACJI,GAAIA,MAKRe,GAAmB,EACnBC,EAAkB,GACtBzB,EAAO0B,eAAgB,G,iCCpCvB,yHAAqnB,eAAG,G,sHCqGxnB,CACAN,gBACA,OAEAO,UAEAC,UAEAC,SAEAC,mBACAC,UACAH,UACAI,YACAC,cACAJ,SAEAK,eACAN,UACAI,YACAC,cACAJ,SAGAM,WAEAC,qBAEAC,UACAC,MACAC,UACA1B,WACA2B,WACAC,cACAvB,YAGAwB,kBACA,gBAEAC,kBACA,aAEAC,SAEAC,gBACA,WACAC,iBACAC,oBACAC,iCAIAC,mBACA,WACAD,gCACAE,yBACAC,4CACA,YACAC,eACAJ,yBACAA,6BAIAK,sBACA,WACA,GACAzB,0BAEA,KACA,aAQA,sDAOA,OANAwB,oCACAN,aACAQ,kBACAC,aACAC,cAIA,cAEA,GADAJ,uBACA,oBAMA,YALAN,aACAQ,iBACAC,aACAC,cAIAC,uBACAC,+BACA,CACA,yBAMA,YALAZ,aACAQ,gBACAC,aACAC,cAIAC,6BACAC,6BAGAZ,eACAQ,eAEAN,QACAU,EACAD,GACA,YAEAX,uCACAA,2CAEA,0CACA,yCACA,4BAEA,aADAY,OACA,EACAA,kBAEAA,4BAIAV,iBAEA,GACA,WACAF,wBAnEAA,aACAQ,mBACAC,aACAC,eAqEAG,uBACA,WACA,YAQA,6DASA,oBAQA,6BACAb,aACAQ,iBACAC,aACAC,cAIA,6CASAR,6FACA,EACAA,2BACAA,qDAEAF,eACAQ,eAEAN,QACA,yBACAA,YACA,YACAF,aACAQ,aACAC,eAEAP,oCACAA,YACApB,UACAI,YACAC,cACAJ,SAEAmB,WACAA,cACAA,gBAEA,GACA,WACAF,oBArCAA,aACAQ,mBACAC,aACAC,cAnBAV,aACAQ,iBACAC,aACAC,gBAZAJ,oCACAN,aACAQ,kBACAC,aACAC,eAZAV,aACAQ,mBACAC,aACAC,eAuEAI,4BACA,WACA,uDAQA,yBAQA,kCACAd,aACAQ,iBACAC,aACAC,cAIA,uDASAV,eACAQ,eAEAN,QACA,8BACAA,iBACA,YACAF,aACAQ,aACAC,eAEAP,yCACAA,iBACApB,UACAI,YACAC,cACAJ,SAEAmB,WACAA,cACAA,gBAEA,GACA,WACAF,oBAhCAA,aACAQ,mBACAC,aACAC,cAnBAV,aACAQ,iBACAC,aACAC,cAXAV,aACAQ,kBACAC,aACAC,eAyDAK,kBACA,aACA,6BAEA,6BAGAT,2BAGAU,oBACA,WACA,kBACA,sDAMA,YALAhB,aACAQ,kBACAC,aACAC,mBAIA,kBACA,sDAMA,YALAV,aACAQ,kBACAC,aACAC,mBAIA,mBACA,uDAMA,YALAV,aACAQ,kBACAC,aACAC,cAMA,iBACA,oBACA,eACAO,UACAnC,qBACA,gBACAmC,UACAnC,0BAEAoB,QACA,0BACApB,SACAmC,SAEA,YACA,YACAjB,aACAQ,eAEAN,aACAA,mBAMAgB,qBACA,eACA,kCACA,cACAC,iCAEA,0BACA,eACA,kBAGAC,kBACA,SAEAR,EADA,aACAA,aAEAA,aAEAZ,cACAY,yCAIA,c,6DC3dA,yHAAwrC,eAAG,G","file":"pages/login/weblogin.js","sourcesContent":["import 'uni-pages';\n// @ts-ignore\nwx.__webpack_require_UNI_MP_PLUGIN__ = __webpack_require__;\nimport Vue from 'vue'\nimport Page from './pages/login/weblogin.vue'\ncreatePage(Page)","import { render, staticRenderFns, recyclableRender, components } from \"./weblogin.vue?vue&type=template&id=0bcfc898&scoped=true&\"\nvar renderjs\nimport script from \"./weblogin.vue?vue&type=script&lang=js&\"\nexport * from \"./weblogin.vue?vue&type=script&lang=js&\"\nimport style0 from \"./weblogin.vue?vue&type=style&index=0&id=0bcfc898&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"0bcfc898\",\n  null,\n  false,\n  components,\n  renderjs\n)\n\ncomponent.options.__file = \"pages/login/weblogin.vue\"\nexport default component.exports","export * from \"-!../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--17-0!../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/template.js!../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-uni-app-loader/page-meta.js!../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./weblogin.vue?vue&type=template&id=0bcfc898&scoped=true&\"","var components\nvar render = function () {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n  var m0 = _vm.theme() || \"\"\n  var m1 = _vm.theme()\n  if (!_vm._isMounted) {\n    _vm.e0 = function ($event) {\n      _vm.is_login = 1\n    }\n    _vm.e1 = function ($event) {\n      _vm.is_login = 2\n    }\n    _vm.e2 = function ($event) {\n      _vm.is_login = 1\n    }\n    _vm.e3 = function ($event) {\n      _vm.is_login = 0\n    }\n    _vm.e4 = function ($event) {\n      _vm.isRead = !_vm.isRead\n    }\n  }\n  _vm.$mp.data = Object.assign(\n    {},\n    {\n      $root: {\n        m0: m0,\n        m1: m1,\n      },\n    }\n  )\n}\nvar recyclableRender = false\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns, recyclableRender, components }","import mod from \"-!../../../../HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--13-1!../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./weblogin.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--13-1!../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./weblogin.vue?vue&type=script&lang=js&\"","<template>\r\n\t<view :data-theme='theme()' :class=\"theme() || ''\" class=\"login-container\" :style=\"'height: '+phoneHeight+'px;'\">\r\n\t\t<view class=\"skip\" @click=\"gotoPage('/pages/index/index')\">跳过→</view>\r\n\t\t<view class=\"p-30-75\" v-if=\"is_login==2\">\r\n\t\t\t<view class=\"login_topbpx\">\r\n\t\t\t\t<view class=\"login_tit\">注册</view>\r\n\t\t\t\t<view class=\"login_top\">已有账户，<text class=\"dominant\" @click=\"is_login=1\">立即登录</text></view>\r\n\t\t\t</view>\r\n\t\t\t<view class=\"group-bd\">\r\n\t\t\t\t<view class=\"form-level d-s-c\">\r\n\t\t\t\t\t<view class=\"val flex-1 input_botom\"><input type=\"text\" v-model=\"register.mobile\"\r\n\t\t\t\t\t\t\tplaceholder=\"请填写手机号\" :disabled=\"is_send\" /></view>\r\n\t\t\t\t</view>\r\n\t\t\t\t<view class=\"form-level d-s-c\">\r\n\t\t\t\t\t<view class=\"val flex-1 input_botom\"><input type=\"text\" password=\"true\" v-model=\"register.password\"\r\n\t\t\t\t\t\t\tplaceholder=\"请输入密码\" /></view>\r\n\t\t\t\t</view>\r\n\t\t\t\t<view class=\"form-level d-s-c\">\r\n\t\t\t\t\t<view class=\"val flex-1 input_botom\"><input type=\"text\" password=\"true\"\r\n\t\t\t\t\t\t\tv-model=\"register.repassword\" placeholder=\"请确认密码\" /></view>\r\n\t\t\t\t</view>\r\n\t\t\t\t<view class=\"form-level d-s-c\">\r\n\t\t\t\t\t<view class=\"val flex-1 d-b-c input_botom\">\r\n\t\t\t\t\t\t<input class=\"flex-1\" type=\"number\" v-model=\"register.code\" placeholder=\"请填写验证码\" />\r\n\t\t\t\t\t\t<button class=\"get-code-btn\" type=\"default\" @click=\"sendCode\"\r\n\t\t\t\t\t\t\t:disabled=\"is_send\">{{ send_btn_txt }}</button>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t</view>\r\n\t\t\t</view>\r\n\t\t</view>\r\n\t\t<view class=\"p-30-75\" v-if=\"is_login==1\">\r\n\t\t\t<view class=\"login_topbpx\">\r\n\t\t\t\t<view class=\"login_tit\">登录</view>\r\n\t\t\t\t<view class=\"login_top\">还没有账号，<text class=\"dominant\" @click=\"is_login=2\">立即注册</text></view>\r\n\t\t\t</view>\r\n\t\t\t<view class=\"group-bd\">\r\n\t\t\t\t<view class=\"form-level d-s-c\">\r\n\t\t\t\t\t<view class=\"val flex-1 input_botom\"><input type=\"text\" v-model=\"formData.mobile\"\r\n\t\t\t\t\t\t\tplaceholder=\"请填写手机号\" /></view>\r\n\t\t\t\t</view>\r\n\t\t\t\t<view class=\"form-level d-s-c\" v-if=\"!is_code\">\r\n\t\t\t\t\t<view class=\"val flex-1 input_botom\"><input type=\"text\" password=\"true\" v-model=\"loging_password\"\r\n\t\t\t\t\t\t\tplaceholder=\"请输入密码\" /></view>\r\n\t\t\t\t</view>\r\n\t\t\t\t<view class=\"form-level d-s-c\" v-if=\"is_code\">\r\n\t\t\t\t\t<view class=\"val flex-1 d-b-c input_botom\">\r\n\t\t\t\t\t\t<input class=\"flex-1\" type=\"number\" v-model=\"formData.code\" placeholder=\"请填写验证码\" />\r\n\t\t\t\t\t\t<button class=\"get-code-btn\" type=\"default\" @click=\"sendCode\"\r\n\t\t\t\t\t\t\t:disabled=\"is_send\">{{ send_btn_txt }}</button>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t</view>\r\n\r\n\t\t\t</view>\r\n\t\t</view>\r\n\t\t<view class=\"p-30-75\" v-if=\"is_login==0\">\r\n\t\t\t<view class=\"login_topbpx\">\r\n\t\t\t\t<view class=\"login_tit\">重置密码</view>\r\n\t\t\t\t<view class=\"login_top\"><text class=\"dominant\" @click=\"is_login=1\">立即登录</text></view>\r\n\t\t\t</view>\r\n\t\t\t<view class=\"group-bd\">\r\n\t\t\t\t<view class=\"form-level d-s-c\">\r\n\t\t\t\t\t<view class=\"val flex-1 input_botom\"><input type=\"text\" v-model=\"resetpassword.mobile\"\r\n\t\t\t\t\t\t\tplaceholder=\"请填写手机号\" :disabled=\"is_send\" /></view>\r\n\t\t\t\t</view>\r\n\t\t\t\t<view class=\"form-level d-s-c\">\r\n\t\t\t\t\t<view class=\"val flex-1 input_botom\"><input type=\"text\" password=\"true\"\r\n\t\t\t\t\t\t\tv-model=\"resetpassword.password\" placeholder=\"请输入密码\" /></view>\r\n\t\t\t\t</view>\r\n\t\t\t\t<view class=\"form-level d-s-c\">\r\n\t\t\t\t\t<view class=\"val flex-1 input_botom\"><input type=\"text\" password=\"true\"\r\n\t\t\t\t\t\t\tv-model=\"resetpassword.repassword\" placeholder=\"请确认密码\" /></view>\r\n\t\t\t\t</view>\r\n\t\t\t\t<view class=\"form-level d-s-c\">\r\n\t\t\t\t\t<view class=\"val flex-1 d-b-c input_botom\">\r\n\t\t\t\t\t\t<input class=\"flex-1\" type=\"number\" v-model=\"resetpassword.code\" placeholder=\"请填写验证码\" />\r\n\t\t\t\t\t\t<button class=\"get-code-btn\" type=\"default\" @click=\"sendCode\"\r\n\t\t\t\t\t\t\t:disabled=\"is_send\">{{ send_btn_txt }}</button>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t</view>\r\n\t\t\t</view>\r\n\t\t</view>\r\n\t\t<view v-if=\"is_login==1\" class=\" gray6 p-0-75\" :class=\"is_code?'d-e-c':'d-b-c'\">\r\n\t\t\t<view v-if=\"!is_code\" @click=\"is_login=0\">忘记密码?</view>\r\n\t\t\t<view @click=\"isCode()\">{{is_code?'使用密码登录':'使用验证码登录'}}</view>\r\n\t\t</view>\r\n\t\t<view @click=\"isRead=!isRead\" class=\"d-s-c gray6 p-0-75 mt20\">\r\n\t\t\t<view :class=\"isRead?'active agreement':'agreement'\"></view>我已阅读并接受<text class=\"dominant\"\r\n\t\t\t\t@click=\"xieyi('service')\">《用户协议》</text>和<text class=\"dominant\" @click=\"xieyi('privacy')\">《隐私政策》</text>\r\n\t\t</view>\r\n\t\t<view style=\"padding-top: 80rpx;\" class=\"btns p-30-75\" v-if=\"is_login==2\"><button\r\n\t\t\t\t@click=\"registerSub\">注册</button></view>\r\n\t\t<view style=\"padding-top: 80rpx;\" class=\"btns p-30-75\" v-if=\"is_login==1\">\r\n\t\t\t<button @click=\"formSubmit\">登录</button>\r\n\t\t</view>\r\n\t\t<view style=\"padding-top: 80rpx;\" class=\"btns p-30-75\" v-if=\"is_login==0\">\r\n\t\t\t<button @click=\"resetpasswordSub\">重置密码</button>\r\n\t\t</view>\r\n\t</view>\r\n</template>\r\n\r\n<script>\r\n\texport default {\r\n\t\tdata() {\r\n\t\t\treturn {\r\n\t\t\t\t/*表单数据对象*/\r\n\t\t\t\tformData: {\r\n\t\t\t\t\t/*手机号*/\r\n\t\t\t\t\tmobile: '',\r\n\t\t\t\t\t/*验证码*/\r\n\t\t\t\t\tcode: '',\r\n\t\t\t\t},\r\n\t\t\t\tloging_password: '',\r\n\t\t\t\tregister: {\r\n\t\t\t\t\tmobile: '',\r\n\t\t\t\t\tpassword: '',\r\n\t\t\t\t\trepassword: '',\r\n\t\t\t\t\tcode: ''\r\n\t\t\t\t},\r\n\t\t\t\tresetpassword: {\r\n\t\t\t\t\tmobile: '',\r\n\t\t\t\t\tpassword: '',\r\n\t\t\t\t\trepassword: '',\r\n\t\t\t\t\tcode: ''\r\n\t\t\t\t},\r\n\t\t\t\t/*是否已发验证码*/\r\n\t\t\t\tis_send: false,\r\n\t\t\t\t/*发送按钮文本*/\r\n\t\t\t\tsend_btn_txt: '获取验证码',\r\n\t\t\t\t/*当前秒数*/\r\n\t\t\t\tsecond: 60,\r\n\t\t\t\tip: '',\r\n\t\t\t\tisShow: true,\r\n\t\t\t\tis_login: 1,\r\n\t\t\t\tis_code: true,\r\n\t\t\t\tphoneHeight: 0,\r\n\t\t\t\tisRead: true\r\n\t\t\t};\r\n\t\t},\r\n\t\tonLoad() {\r\n\t\t\tthis.getData();\r\n\t\t},\r\n\t\tonShow() {\r\n\t\t\tthis.init()\r\n\t\t},\r\n\t\tmethods: {\r\n\t\t\t/*初始化*/\r\n\t\t\tinit() {\r\n\t\t\t\tlet self = this;\r\n\t\t\t\tuni.getSystemInfo({\r\n\t\t\t\t\tsuccess(res) {\r\n\t\t\t\t\t\tself.phoneHeight = res.windowHeight;\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\t\t},\r\n\t\t\tgetData() {\r\n\t\t\t\tlet self = this;\r\n\t\t\t\tself._get('user.userapple/policy', {\r\n\t\t\t\t\tplatform: self.getPlatform(),\r\n\t\t\t\t\treferee_id: uni.getStorageSync('referee_id')\r\n\t\t\t\t}, function(res) {\r\n\t\t\t\t\tconsole.log(res);\r\n\t\t\t\t\tself.service = res.data.service;\r\n\t\t\t\t\tself.privacy = res.data.privacy;\r\n\t\t\t\t});\r\n\t\t\t},\r\n\t\t\t/*提交*/\r\n\t\t\tformSubmit() {\r\n\t\t\t\tlet self = this;\r\n\t\t\t\tlet formdata = {\r\n\t\t\t\t\tmobile: self.formData.mobile,\r\n\t\t\t\t}\r\n\t\t\t\tlet url = ''\r\n\t\t\t\tif (!self.isRead) {\r\n\t\t\t\t\tuni.showToast({\r\n\t\t\t\t\t\ttitle: '请同意并勾选协议内容',\r\n\t\t\t\t\t\tduration: 2000,\r\n\t\t\t\t\t\ticon: 'none'\r\n\t\t\t\t\t});\r\n\t\t\t\t\treturn;\r\n\t\t\t\t}\r\n\t\t\t\tif (!/^1(3|4|5|6|7|8|9)\\d{9}$/.test(self.formData.mobile)) {\r\n\t\t\t\t\tconsole.log(self.formData.mobile)\r\n\t\t\t\t\tuni.showToast({\r\n\t\t\t\t\t\ttitle: '手机有误,请重填！',\r\n\t\t\t\t\t\tduration: 2000,\r\n\t\t\t\t\t\ticon: 'none'\r\n\t\t\t\t\t});\r\n\t\t\t\t\treturn;\r\n\t\t\t\t}\r\n\t\t\t\tif (self.is_code) {\r\n\t\t\t\t\tconsole.log(self.is_code)\r\n\t\t\t\t\tif (self.formData.code == '') {\r\n\t\t\t\t\t\tuni.showToast({\r\n\t\t\t\t\t\t\ttitle: '验证码不能为空！',\r\n\t\t\t\t\t\t\tduration: 2000,\r\n\t\t\t\t\t\t\ticon: 'none'\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t\treturn;\r\n\t\t\t\t\t}\r\n\t\t\t\t\tformdata.code = self.formData.code;\r\n\t\t\t\t\turl = 'user.useropen/smslogin'\r\n\t\t\t\t} else {\r\n\t\t\t\t\tif (self.loging_password == '') {\r\n\t\t\t\t\t\tuni.showToast({\r\n\t\t\t\t\t\t\ttitle: '密码不能为空！',\r\n\t\t\t\t\t\t\tduration: 2000,\r\n\t\t\t\t\t\t\ticon: 'none'\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t\treturn;\r\n\t\t\t\t\t}\r\n\t\t\t\t\tformdata.password = self.loging_password;\r\n\t\t\t\t\turl = 'user.useropen/phonelogin'\r\n\t\t\t\t}\r\n\r\n\t\t\t\tuni.showLoading({\r\n\t\t\t\t\ttitle: '正在提交'\r\n\t\t\t\t});\r\n\t\t\t\tself._post(\r\n\t\t\t\t\turl,\r\n\t\t\t\t\tformdata,\r\n\t\t\t\t\tresult => {\r\n\t\t\t\t\t\t// 记录token user_id\r\n\t\t\t\t\t\tuni.setStorageSync('token', result.data.token);\r\n\t\t\t\t\t\tuni.setStorageSync('user_id', result.data.user_id);\r\n\t\t\t\t\t\t// 获取登录前页面\r\n\t\t\t\t\t\tlet url = '/' + uni.getStorageSync('currentPage');\r\n\t\t\t\t\t\tlet pageOptions = uni.getStorageSync('currentPageOptions');\r\n\t\t\t\t\t\tif (Object.keys(pageOptions).length > 0) {\r\n\t\t\t\t\t\t\turl += '?';\r\n\t\t\t\t\t\t\tfor (let i in pageOptions) {\r\n\t\t\t\t\t\t\t\turl += i + '=' + pageOptions[i] + '&';\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\turl = url.substring(0, url.length - 1);\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t// 执行回调函数\r\n\t\t\t\t\t\tself.gotoPage(url);\r\n\t\t\t\t\t},\r\n\t\t\t\t\tfalse,\r\n\t\t\t\t\t() => {\r\n\t\t\t\t\t\tuni.hideLoading();\r\n\t\t\t\t\t}\r\n\t\t\t\t);\r\n\t\t\t},\r\n\t\t\t/*注册*/\r\n\t\t\tregisterSub() {\r\n\t\t\t\tlet self = this;\r\n\t\t\t\tif (!self.isRead) {\r\n\t\t\t\t\tuni.showToast({\r\n\t\t\t\t\t\ttitle: '请同意并勾选协议内容',\r\n\t\t\t\t\t\tduration: 2000,\r\n\t\t\t\t\t\ticon: 'none'\r\n\t\t\t\t\t});\r\n\t\t\t\t\treturn;\r\n\t\t\t\t}\r\n\t\t\t\tif (!/^1(3|4|5|6|7|8|9)\\d{9}$/.test(self.register.mobile)) {\r\n\t\t\t\t\tconsole.log(self.register.mobile)\r\n\t\t\t\t\tuni.showToast({\r\n\t\t\t\t\t\ttitle: '手机有误,请重填！',\r\n\t\t\t\t\t\tduration: 2000,\r\n\t\t\t\t\t\ticon: 'none'\r\n\t\t\t\t\t});\r\n\t\t\t\t\treturn;\r\n\t\t\t\t}\r\n\t\t\t\tif (self.register.code == '') {\r\n\t\t\t\t\tuni.showToast({\r\n\t\t\t\t\t\ttitle: '验证码不能为空！',\r\n\t\t\t\t\t\tduration: 2000,\r\n\t\t\t\t\t\ticon: 'none'\r\n\t\t\t\t\t});\r\n\t\t\t\t\treturn;\r\n\t\t\t\t}\r\n\t\t\t\tif (self.register.password.length < 6) {\r\n\t\t\t\t\tuni.showToast({\r\n\t\t\t\t\t\ttitle: '密码至少6位数！',\r\n\t\t\t\t\t\tduration: 2000,\r\n\t\t\t\t\t\ticon: 'none'\r\n\t\t\t\t\t});\r\n\t\t\t\t\treturn;\r\n\t\t\t\t}\r\n\t\t\t\tif (self.register.password !== self.register.repassword) {\r\n\t\t\t\t\tuni.showToast({\r\n\t\t\t\t\t\ttitle: '两次密码输入不一致！',\r\n\t\t\t\t\t\tduration: 2000,\r\n\t\t\t\t\t\ticon: 'none'\r\n\t\t\t\t\t});\r\n\t\t\t\t\treturn;\r\n\t\t\t\t}\r\n\r\n\t\t\t\tself.register.invitation_id = uni.getStorageSync('invitation_id') ? uni.getStorageSync('invitation_id') :\r\n\t\t\t\t0;\r\n\t\t\t\tself.register.reg_source = 'h5';\r\n\t\t\t\tself.register.referee_id = uni.getStorageSync('referee_id');\r\n\r\n\t\t\t\tuni.showLoading({\r\n\t\t\t\t\ttitle: '正在提交'\r\n\t\t\t\t});\r\n\t\t\t\tself._post(\r\n\t\t\t\t\t'user.useropen/register',\r\n\t\t\t\t\tself.register,\r\n\t\t\t\t\tresult => {\r\n\t\t\t\t\t\tuni.showToast({\r\n\t\t\t\t\t\t\ttitle: '注册成功',\r\n\t\t\t\t\t\t\tduration: 3000\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t\tself.formData.mobile = self.register.mobile;\r\n\t\t\t\t\t\tself.register = {\r\n\t\t\t\t\t\t\tmobile: '',\r\n\t\t\t\t\t\t\tpassword: '',\r\n\t\t\t\t\t\t\trepassword: '',\r\n\t\t\t\t\t\t\tcode: ''\r\n\t\t\t\t\t\t};\r\n\t\t\t\t\t\tself.second = 0;\r\n\t\t\t\t\t\tself.changeMsg();\r\n\t\t\t\t\t\tself.is_login = 1;\r\n\t\t\t\t\t},\r\n\t\t\t\t\tfalse,\r\n\t\t\t\t\t() => {\r\n\t\t\t\t\t\tuni.hideLoading();\r\n\t\t\t\t\t}\r\n\t\t\t\t);\r\n\t\t\t},\r\n\t\t\tresetpasswordSub() {\r\n\t\t\t\tlet self = this;\r\n\t\t\t\tif (!/^1(3|4|5|6|7|8|9)\\d{9}$/.test(self.resetpassword.mobile)) {\r\n\t\t\t\t\tuni.showToast({\r\n\t\t\t\t\t\ttitle: '手机有误,请重填！',\r\n\t\t\t\t\t\tduration: 2000,\r\n\t\t\t\t\t\ticon: 'none'\r\n\t\t\t\t\t});\r\n\t\t\t\t\treturn;\r\n\t\t\t\t}\r\n\t\t\t\tif (self.resetpassword.code == '') {\r\n\t\t\t\t\tuni.showToast({\r\n\t\t\t\t\t\ttitle: '验证码不能为空！',\r\n\t\t\t\t\t\tduration: 2000,\r\n\t\t\t\t\t\ticon: 'none'\r\n\t\t\t\t\t});\r\n\t\t\t\t\treturn;\r\n\t\t\t\t}\r\n\t\t\t\tif (self.resetpassword.password.length < 6) {\r\n\t\t\t\t\tuni.showToast({\r\n\t\t\t\t\t\ttitle: '密码至少6位数！',\r\n\t\t\t\t\t\tduration: 2000,\r\n\t\t\t\t\t\ticon: 'none'\r\n\t\t\t\t\t});\r\n\t\t\t\t\treturn;\r\n\t\t\t\t}\r\n\t\t\t\tif (self.resetpassword.password !== self.resetpassword.repassword) {\r\n\t\t\t\t\tuni.showToast({\r\n\t\t\t\t\t\ttitle: '两次密码输入不一致！',\r\n\t\t\t\t\t\tduration: 2000,\r\n\t\t\t\t\t\ticon: 'none'\r\n\t\t\t\t\t});\r\n\t\t\t\t\treturn;\r\n\t\t\t\t}\r\n\r\n\t\t\t\tuni.showLoading({\r\n\t\t\t\t\ttitle: '正在提交'\r\n\t\t\t\t});\r\n\t\t\t\tself._post(\r\n\t\t\t\t\t'user.useropen/resetpassword',\r\n\t\t\t\t\tself.resetpassword,\r\n\t\t\t\t\tresult => {\r\n\t\t\t\t\t\tuni.showToast({\r\n\t\t\t\t\t\t\ttitle: '重置成功',\r\n\t\t\t\t\t\t\tduration: 3000\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t\tself.formData.mobile = self.resetpassword.mobile;\r\n\t\t\t\t\t\tself.resetpassword = {\r\n\t\t\t\t\t\t\tmobile: '',\r\n\t\t\t\t\t\t\tpassword: '',\r\n\t\t\t\t\t\t\trepassword: '',\r\n\t\t\t\t\t\t\tcode: ''\r\n\t\t\t\t\t\t};\r\n\t\t\t\t\t\tself.second = 0;\r\n\t\t\t\t\t\tself.changeMsg();\r\n\t\t\t\t\t\tself.is_login = 1;\r\n\t\t\t\t\t},\r\n\t\t\t\t\tfalse,\r\n\t\t\t\t\t() => {\r\n\t\t\t\t\t\tuni.hideLoading();\r\n\t\t\t\t\t}\r\n\t\t\t\t);\r\n\t\t\t},\r\n\t\t\tisCode() {\r\n\t\t\t\tif (this.is_code) {\r\n\t\t\t\t\tthis.$set(this, 'is_code', false)\r\n\t\t\t\t} else {\r\n\t\t\t\t\tthis.$set(this, 'is_code', true)\r\n\t\t\t\t}\r\n\r\n\t\t\t\tconsole.log(this.is_code)\r\n\t\t\t},\r\n\t\t\t/*发送短信*/\r\n\t\t\tsendCode() {\r\n\t\t\t\tlet self = this;\r\n\t\t\t\tif (self.is_login == 1) {\r\n\t\t\t\t\tif (!/^1(3|4|5|6|7|8|9)\\d{9}$/.test(self.formData.mobile)) {\r\n\t\t\t\t\t\tuni.showToast({\r\n\t\t\t\t\t\t\ttitle: '手机有误,请重填！',\r\n\t\t\t\t\t\t\tduration: 2000,\r\n\t\t\t\t\t\t\ticon: 'none'\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t\treturn;\r\n\t\t\t\t\t}\r\n\t\t\t\t} else if (self.is_login == 2) {\r\n\t\t\t\t\tif (!/^1(3|4|5|6|7|8|9)\\d{9}$/.test(self.register.mobile)) {\r\n\t\t\t\t\t\tuni.showToast({\r\n\t\t\t\t\t\t\ttitle: '手机有误,请重填！',\r\n\t\t\t\t\t\t\tduration: 2000,\r\n\t\t\t\t\t\t\ticon: 'none'\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t\treturn;\r\n\t\t\t\t\t}\r\n\t\t\t\t} else if (self.is_login == 0) {\r\n\t\t\t\t\tif (!/^1(3|4|5|6|7|8|9)\\d{9}$/.test(self.resetpassword.mobile)) {\r\n\t\t\t\t\t\tuni.showToast({\r\n\t\t\t\t\t\t\ttitle: '手机有误,请重填！',\r\n\t\t\t\t\t\t\tduration: 2000,\r\n\t\t\t\t\t\t\ticon: 'none'\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t\treturn;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\r\n\t\t\t\tlet type = 'register'\r\n\t\t\t\tlet mobile = self.register.mobile\r\n\t\t\t\tif (self.is_login == 1) {\r\n\t\t\t\t\ttype = 'login';\r\n\t\t\t\t\tmobile = self.formData.mobile;\r\n\t\t\t\t} else if (self.is_login == 0) {\r\n\t\t\t\t\ttype = 'login';\r\n\t\t\t\t\tmobile = self.resetpassword.mobile;\r\n\t\t\t\t}\r\n\t\t\t\tself._post(\r\n\t\t\t\t\t'user.useropen/sendCode', {\r\n\t\t\t\t\t\tmobile: mobile,\r\n\t\t\t\t\t\ttype: type\r\n\t\t\t\t\t},\r\n\t\t\t\t\tresult => {\r\n\t\t\t\t\t\tif (result.code == 1) {\r\n\t\t\t\t\t\t\tuni.showToast({\r\n\t\t\t\t\t\t\t\ttitle: '发送成功'\r\n\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\tself.is_send = true;\r\n\t\t\t\t\t\t\tself.changeMsg();\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t);\r\n\t\t\t},\r\n\t\t\t/*改变发送验证码按钮文本*/\r\n\t\t\tchangeMsg() {\r\n\t\t\t\tif (this.second > 0) {\r\n\t\t\t\t\tthis.send_btn_txt = this.second + '秒';\r\n\t\t\t\t\tthis.second--;\r\n\t\t\t\t\tsetTimeout(this.changeMsg, 1000);\r\n\t\t\t\t} else {\r\n\t\t\t\t\tthis.send_btn_txt = '获取验证码';\r\n\t\t\t\t\tthis.second = 60;\r\n\t\t\t\t\tthis.is_send = false;\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\txieyi(type) {\r\n\t\t\t\tlet url = '';\r\n\t\t\t\tif (type == 'service') {\r\n\t\t\t\t\turl = this.service;\r\n\t\t\t\t} else {\r\n\t\t\t\t\turl = this.privacy;\r\n\t\t\t\t}\r\n\t\t\t\tuni.navigateTo({\r\n\t\t\t\t\turl: '/pages/webview/webview?url=' + url\r\n\t\t\t\t});\r\n\t\t\t}\r\n\t\t}\r\n\t};\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n\tpage {\r\n\t\tbackground-color: #FFFFFF;\r\n\t}\r\n\r\n\t.p-30-75 {\r\n\t\tpadding: 30rpx 75rpx;\r\n\t}\r\n\r\n\t.p-0-75 {\r\n\t\tpadding: 0 75rpx;\r\n\t}\r\n\r\n\t.t-r {\r\n\t\ttext-align: right;\r\n\t}\r\n\r\n\t.login-container {\r\n\t\tposition: relative;\r\n\t\tbackground: #ffffff;\r\n\t}\r\n\r\n\t.login-container input {\r\n\t\theight: 88rpx;\r\n\t\tline-height: 88rpx;\r\n\t}\r\n\r\n\t.wechatapp {\r\n\t\tpadding: 80rpx 0 48rpx;\r\n\t\tborder-bottom: 1rpx solid #e3e3e3;\r\n\t\tmargin-bottom: 72rpx;\r\n\t\ttext-align: center;\r\n\t}\r\n\r\n\t.wechatapp .header {\r\n\t\twidth: 190rpx;\r\n\t\theight: 190rpx;\r\n\t\tborder: 2px solid #fff;\r\n\t\tmargin: 0rpx auto 0;\r\n\t\tborder-radius: 50%;\r\n\t\toverflow: hidden;\r\n\t\tbox-shadow: 1px 0px 5px rgba(50, 50, 50, 0.3);\r\n\t}\r\n\r\n\t.auth-title {\r\n\t\tcolor: #585858;\r\n\t\tfont-size: 34rpx;\r\n\t\tmargin-bottom: 40rpx;\r\n\t}\r\n\r\n\t.auth-subtitle {\r\n\t\tcolor: #888;\r\n\t\tmargin-bottom: 88rpx;\r\n\t\tfont-size: 28rpx;\r\n\t}\r\n\r\n\t.login-btn {\r\n\t\tpadding: 0 20rpx;\r\n\t}\r\n\r\n\t.login-btn button {\r\n\t\theight: 88rpx;\r\n\t\tline-height: 88rpx;\r\n\t\tbackground: #04be01;\r\n\t\tcolor: #fff;\r\n\t\tfont-size: 30rpx;\r\n\t\tborder-radius: 999rpx;\r\n\t\ttext-align: center;\r\n\t}\r\n\r\n\t.no-login-btn {\r\n\t\tmargin-top: 20rpx;\r\n\t\tpadding: 0 20rpx;\r\n\t}\r\n\r\n\t.no-login-btn button {\r\n\t\theight: 88rpx;\r\n\t\tline-height: 88rpx;\r\n\t\tbackground: #dfdfdf;\r\n\t\tcolor: #fff;\r\n\t\tfont-size: 30rpx;\r\n\t\tborder-radius: 999rpx;\r\n\t\ttext-align: center;\r\n\t}\r\n\r\n\t.get-code-btn {\r\n\t\twidth: 200rpx;\r\n\t\theight: 80rpx;\r\n\t\tline-height: 76rpx;\r\n\t\tpadding: 0rpx 30rpx;\r\n\t\tborder-radius: 40rpx;\r\n\t\twhite-space: nowrap;\r\n\t\t// border: 1rpx solid $dominant-color;\r\n\t\tbackground-color: #FFFFFF;\r\n\t\t@include font_color('font_color');\r\n\t\tfont-size: 30rpx;\r\n\t}\r\n\r\n\t.get-code-btn[disabled='true'] {\r\n\t\t// border: 1rpx solid #cccccc;\r\n\t\t@include font_color('gray9');\r\n\t\tbackground-color: #FFFFFF;\r\n\t}\r\n\r\n\t.btns button {\r\n\t\theight: 90rpx;\r\n\t\tline-height: 90rpx;\r\n\t\tfont-size: 34rpx;\r\n\t\tborder-radius: 45rpx;\r\n\t\t@include background_color('background_color');\r\n\t\tcolor: #ffffff;\r\n\t}\r\n\r\n\t.login_topbpx {\r\n\t\tpadding: 181rpx 0;\r\n\t\tpadding-bottom: 110rpx;\r\n\t}\r\n\r\n\t.login_tit {\r\n\t\tfont-size: 52rpx;\r\n\t\tfont-weight: 600;\r\n\t\tmargin-bottom: 33rpx;\r\n\t}\r\n\r\n\t.login_top {\r\n\t\tfont-size: 24rpx;\r\n\t\tcolor: #adafb3;\r\n\t}\r\n\r\n\t.input_botom {\r\n\t\tborder-bottom: 1px solid #f4f4f4;\r\n\t}\r\n\r\n\t.bottom_nav {\r\n\t\twidth: 100%;\r\n\t\tposition: absolute;\r\n\t\tbottom: 100rpx;\r\n\t}\r\n\r\n\t.bottom-box {\r\n\t\twidth: 70%;\r\n\t\tmargin: 0 auto;\r\n\t}\r\n\r\n\t.other_tit {\r\n\t\theight: 1rpx;\r\n\t\tbackground-color: #CACACA;\r\n\t\twidth: 100%;\r\n\t\tline-height: 1rpx;\r\n\t\ttext-align: center;\r\n\t}\r\n\r\n\t.weixin_box {\r\n\t\tbackground-color: #04BE01;\r\n\t\tborder-radius: 50%;\r\n\t\twidth: 80rpx;\r\n\t\theight: 80rpx;\r\n\t\tline-height: 80rpx;\r\n\t\ttext-align: center;\r\n\t}\r\n\r\n\t.weixin_box .icon-weixin {\r\n\t\tfont-size: 40rpx;\r\n\t\tcolor: #FFFFFF;\r\n\t}\r\n\r\n\t// .btns .bg-green{\r\n\t// \tbackground-color: #04BE01;\r\n\t// }\r\n\t.agreement {\r\n\t\tborder-radius: 50%;\r\n\t\twidth: 28rpx;\r\n\t\theight: 28rpx;\r\n\t\tborder: 2rpx solid;\r\n\t\t@include border_color('border_color');\r\n\t\tbackground: #fff;\r\n\t\tposition: relative;\r\n\t\tmargin-right: 10rpx;\r\n\t\tbox-sizing: border-box;\r\n\t}\r\n\r\n\t.agreement.active::after {\r\n\t\tcontent: '';\r\n\t\twidth: 16rpx;\r\n\t\theight: 16rpx;\r\n\t\t@include background_color('background_color');\r\n\t\tborder-radius: 50%;\r\n\t\tposition: absolute;\r\n\t\tleft: 0;\r\n\t\ttop: 0;\r\n\t\tright: 0;\r\n\t\tbottom: 0;\r\n\t\tmargin: auto;\r\n\t}\r\n\r\n\t.skip {\r\n\t\tposition: absolute;\r\n\t\ttop: 80rpx;\r\n\t\tright: 30rpx;\r\n\t\tfont-size: 28rpx;\r\n\t\tcolor: #999999;\r\n\t}\r\n</style>\n","import mod from \"-!../../../../HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../HBuilderX/plugins/uniapp-cli/node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-2!../../../../HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-3!../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/sass-loader/dist/cjs.js??ref--8-oneOf-1-4!../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-5!../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./weblogin.vue?vue&type=style&index=0&id=0bcfc898&lang=scss&scoped=true&\"; export default mod; export * from \"-!../../../../HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../HBuilderX/plugins/uniapp-cli/node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-2!../../../../HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-3!../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/sass-loader/dist/cjs.js??ref--8-oneOf-1-4!../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-5!../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./weblogin.vue?vue&type=style&index=0&id=0bcfc898&lang=scss&scoped=true&\""],"sourceRoot":""}