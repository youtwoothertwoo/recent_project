{"version":3,"sources":["uni-app:///pages/user/my_shop/product_rule.js"],"names":["rule","validate","params","flag","values","name","value","callback","e","length","video_id","is_virtual","is_points_discount","is_delivery_free","spec_type","sku","product_no","product_price","line_price","stock_num","product_weight","forEach","item","index","uni","showToast","title","duration","icon"],"mappings":"wMAAA,IAAIA,EAAO,CAEVC,SAAQ,SAACC,GACR,IAAIC,GAAO,EACPC,EAAS,CAAC,CACZC,KAAM,UACNC,MAAO,eACPC,SAAU,SAASC,GAClB,MAAY,IAALA,IAGT,CACCH,KAAM,UACNC,MAAO,QACPC,SAAU,SAASC,GAClB,OAAOA,EAAEC,OAAS,IAGpB,CACCJ,KAAM,YACNC,MAAO,YACPC,SAAU,SAASC,GAClB,QAAIN,EAAOQ,SAAW,IACT,IAALF,IAOV,CACCH,KAAM,UACNC,MAAO,cACPC,SAAU,SAASC,GAClB,MAAY,IAALA,IAGT,CACCH,KAAM,UACNC,MAAO,YACPC,SAAU,SAASC,GAClB,MAAa,KAANA,IAGT,CACCH,KAAM,UACNC,MAAO,eACPC,SAAU,SAASC,GAClB,OAAOA,GAAK,IAGd,CACCH,KAAM,UACNC,MAAO,kBACPC,SAAU,SAASC,GAClB,OAAyB,GAArBN,EAAOS,YACE,IAALH,IAMV,CACCH,KAAM,cACNC,MAAO,sBACPC,SAAU,SAASC,GAClB,OAAiC,GAA7BN,EAAOU,oBACHJ,GAAK,IAMf,CACCH,KAAM,UACNC,MAAO,cACPC,SAAU,SAASC,GAClB,OAAyB,GAArBN,EAAOS,YAA8C,GAA3BT,EAAOW,kBAC7BL,EAAI,IAMd,CACCH,KAAM,UACNC,MAAO,iBACPC,SAAU,SAASC,GAClB,OAAwB,IAApBN,EAAOY,WACsB,IAAzBZ,EAAOa,IAAIC,aAMrB,CACCX,KAAM,UACNC,MAAO,gBACPC,SAAU,SAASC,GAClB,OAAwB,IAApBN,EAAOY,WACqB,IAAxBZ,EAAOe,gBAMjB,CACCZ,KAAM,WACNC,MAAO,aACPC,SAAU,SAASC,GAClB,OAAwB,IAApBN,EAAOY,WACkB,IAArBZ,EAAOgB,aAMjB,CACCb,KAAM,UACNC,MAAO,YACPC,SAAU,SAASC,GAClB,OAAwB,IAApBN,EAAOY,WACiB,IAApBZ,EAAOiB,YAMjB,CACCd,KAAM,UACNC,MAAO,iBACPC,SAAU,SAASC,GAClB,OAAwB,IAApBN,EAAOY,WACsB,IAAzBZ,EAAOkB,kBAalB,OANAhB,EAAOiB,SAAQ,SAACC,EAAMC,GAChBpB,GAASmB,EAAKf,SAASL,EAAOoB,EAAKhB,UACvCH,EAAOmB,EAAKjB,UAIVF,IACHqB,EAAIC,UAAU,CACbC,MAAOvB,EACPwB,SAAU,IACVC,KAAM,UAEA,KAIT,EACc5B,EAAI,c","file":"pages/user/common/vendor.js","sourcesContent":["var rule = {\r\n\t// \r\n\tvalidate(params) {\r\n\t\tlet flag = false;\r\n\t\tlet values = [{\r\n\t\t\t\tname: '请输入商品名称',\r\n\t\t\t\tvalue: 'product_name',\r\n\t\t\t\tcallback: function(e) {\r\n\t\t\t\t\treturn e != '';\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\tname: '请上传商品主图',\r\n\t\t\t\tvalue: 'image',\r\n\t\t\t\tcallback: function(e) {\r\n\t\t\t\t\treturn e.length > 0;\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\tname: '请上传商品视频封面',\r\n\t\t\t\tvalue: 'poster_id',\r\n\t\t\t\tcallback: function(e) {\r\n\t\t\t\t\tif (params.video_id > 0) {\r\n\t\t\t\t\t\treturn e != '';\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\treturn true\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\tname: '请选择商品分类',\r\n\t\t\t\tvalue: 'category_id',\r\n\t\t\t\tcallback: function(e) {\r\n\t\t\t\t\treturn e != '';\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\tname: '请输入限购数量',\r\n\t\t\t\tvalue: 'limit_num',\r\n\t\t\t\tcallback: function(e) {\r\n\t\t\t\t\treturn e !== '';\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\tname: '请输入商品排序',\r\n\t\t\t\tvalue: 'product_sort',\r\n\t\t\t\tcallback: function(e) {\r\n\t\t\t\t\treturn e >= 0;\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\tname: '请输入虚拟内容',\r\n\t\t\t\tvalue: 'virtual_content',\r\n\t\t\t\tcallback: function(e) {\r\n\t\t\t\t\tif (params.is_virtual == 1) {\r\n\t\t\t\t\t\treturn e != '';\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\treturn true\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\tname: '请输入最大抵扣积分数量',\r\n\t\t\t\tvalue: 'max_points_discount',\r\n\t\t\t\tcallback: function(e) {\r\n\t\t\t\t\tif (params.is_points_discount == 1) {\r\n\t\t\t\t\t\treturn e >= 0;\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\treturn true\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\tname: '请选择运费模板',\r\n\t\t\t\tvalue: 'delivery_id',\r\n\t\t\t\tcallback: function(e) {\r\n\t\t\t\t\tif (params.is_virtual == 0 && params.is_delivery_free == 1) {\r\n\t\t\t\t\t\treturn e > 0;\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\treturn true\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\tname: '请输入产品编码',\r\n\t\t\t\tvalue: 'sku.product_no',\r\n\t\t\t\tcallback: function(e) {\r\n\t\t\t\t\tif (params.spec_type == 10) {\r\n\t\t\t\t\t\treturn params.sku.product_no != '';\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\treturn true\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\tname: '请输入产品价格',\r\n\t\t\t\tvalue: 'product_price',\r\n\t\t\t\tcallback: function(e) {\r\n\t\t\t\t\tif (params.spec_type == 10) {\r\n\t\t\t\t\t\treturn params.product_price != '';\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\treturn true\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\tname: '请输入产品划线价',\r\n\t\t\t\tvalue: 'line_price',\r\n\t\t\t\tcallback: function(e) {\r\n\t\t\t\t\tif (params.spec_type == 10) {\r\n\t\t\t\t\t\treturn params.line_price != '';\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\treturn true\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\tname: '请输入库存数量',\r\n\t\t\t\tvalue: 'stock_num',\r\n\t\t\t\tcallback: function(e) {\r\n\t\t\t\t\tif (params.spec_type == 10) {\r\n\t\t\t\t\t\treturn params.stock_num != '';\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\treturn true\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\tname: '请输入商品重量',\r\n\t\t\t\tvalue: 'product_weight',\r\n\t\t\t\tcallback: function(e) {\r\n\t\t\t\t\tif (params.spec_type == 10) {\r\n\t\t\t\t\t\treturn params.product_weight != '';\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\treturn true\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t];\r\n\t\tvalues.forEach((item, index) => {\r\n\t\t\tif (!flag && !item.callback(params[item.value])) {\r\n\t\t\t\tflag = item.name;\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\t\t});\r\n\t\tif (flag) {\r\n\t\t\tuni.showToast({\r\n\t\t\t\ttitle: flag,\r\n\t\t\t\tduration: 1000,\r\n\t\t\t\ticon: 'none'\r\n\t\t\t});\r\n\t\t\treturn false;\r\n\t\t}\r\n\t\treturn true\r\n\t},\r\n}\r\nexport default rule;\r\n"],"sourceRoot":""}