{"version":3,"sources":["uni-app:///main.js","webpack:///D:/working/舒服康/pages/user/set/set.vue?28cf","webpack:///D:/working/舒服康/pages/user/set/set.vue?2539","webpack:///D:/working/舒服康/pages/user/set/set.vue?250e","webpack:///D:/working/舒服康/pages/user/set/set.vue?242f","uni-app:///pages/user/set/set.vue","webpack:///D:/working/舒服康/pages/user/set/set.vue?04d9"],"names":["wx","__webpack_require_UNI_MP_PLUGIN__","__webpack_require__","createPage","Page","renderjs","component","options","__file","components","render","_vm","this","_h","$createElement","m0","_self","_c","theme","m1","$mp","data","Object","assign","$root","recyclableRender","staticRenderFns","_withStripped","Upload","Popup","userInfo","isUpload","isPopup","isOpen","isShow","newName","newPsd","oldPsd","confirmPsd","hdPsd","type","version_no","imageList","max_length","onShow","methods","onChooseAvatar","console","self","getData","uni","title","gotoBind","logout","changeName","hidePopupFunc","changeinput","clearName","clearPsd","clearHdPsd","subName","changeAvatarUrl","uploadFile","token","app_id","tempList","url","filePath","name","formData","success","complete","i","getImgsFunc","update","deleteAccount","content","setpass","hedui","handleClose","heduiClose","changePsd","changeOldPsd","changeConfirmPsd","heduiPsd","getPrevRoute","route","subPsd","pay_password","pay_password_new","pay_password_old"],"mappings":"6IAAA,MAGA,aACA,YAFAA,EAAGC,kCAAoCC,EAGvCC,EAAWC,a,gFCLX,oIACIC,EADJ,QASIC,EAAY,qBACd,aACA,YACA,sBACA,EACA,KACA,KACA,MACA,EACA,gBACAD,GAGFC,EAAUC,QAAQC,OAAS,yBACZ,aAAAF,E,0CCvBf,uQ,iCCAA,IAAIG,EAAJ,0LACA,IAAIC,EAAS,WACX,IAAIC,EAAMC,KACNC,EAAKF,EAAIG,eAETC,GADKJ,EAAIK,MAAMC,GACVN,EAAIO,SAAW,IACpBC,EAAKR,EAAIO,QACbP,EAAIS,IAAIC,KAAOC,OAAOC,OACpB,GACA,CACEC,MAAO,CACLT,GAAIA,EACJI,GAAIA,MAKRM,GAAmB,EACnBC,EAAkB,GACtBhB,EAAOiB,eAAgB,G,iCCnBvB,yHAA+nB,eAAG,G,4WC8IloB,CACAlB,YACAmB,SACAC,SAEAR,gBACA,OACAS,YACAC,YACAC,WACAC,UACAC,UACAC,WACAC,UACAC,UACAC,cACAC,SACAC,QACAC,cACAC,aACAC,eAGAC,kBAEA,gBAEAC,SACAC,2BACA,WACAC,eACAC,oCAGAC,mBACA,WACAC,eACAC,cAEAH,4CACAA,2BACAE,oBAQAE,oBACA,wDAEAC,kBACAH,6BACAA,+BACA,qCAEAI,uBACA,WACA,cACAN,+BAEAA,SACAA,wBACAA,cAEAO,yBACA,gBACA,gBAEAC,wBACA,6BAEAC,qBACA,iBAEAC,oBACA,gBAEAC,sBACA,eAEAC,oBACA,WACA,YAGAZ,iCACAA,gCACAA,aAGAa,2BACA,WACAb,eAGAc,uBACA,WACA,IACA,WACA,GACAC,gCACAC,qBAEAd,eACAC,gBAEAc,yBACAf,cACAgB,uDACAC,WACAC,aACAC,WACAC,oBACA,iEACA,WACAtB,yBAEAA,oBAGAuB,oBACAC,IACA,QACAtB,gBAEAF,mCAOAyB,wBAEA,6BACA,WACAzB,oCACAA,WACAA,gBAGA0B,kBACA,WACA,eAGAxB,eACAC,cAEA,iBACAH,aACAA,8CACAA,cACA,QACA,WACAA,aACAA,aACAE,gBACAF,eAEA,YACAE,gBACAF,aACAA,qBAKA2B,yBACA,WACAzB,aACAC,WACAyB,6CACAN,oBACA,WACAtB,kDACAA,iCACAE,6BACAA,+BACAF,uCAEA,cACAE,uBAMA2B,mBACA,gBAEAC,iBACA,gBAEAC,uBACA,eACA,eACA,mBACA,gBAEAC,sBACA,cACA,gBAEAC,sBACA,4BAEAC,yBACA,4BAEAC,6BACA,gCAEAC,qBACA,2BAGAC,wBACA,wBACA,0BACA,oBACA,OACAC,2BACA/E,wBAIAgF,kBACA,WACA,gBAIA,gCACAvC,2CAGA,0BAOA,GAHAE,eACAC,cAEA,uCACA,OACAqC,0BAEAxC,kDACAA,cACA,QACA,WACAA,aACAA,YACAE,gBACAF,iCACAA,YACA,uBACA,oCACAE,oBAGA,YACAA,gBACAF,aACAA,uBAIA,CACA,OACAyC,6BACAC,8BAEA1C,qDACAA,cACA,QACA,WACAA,aACAA,YACAE,gBACAF,eAEA,YACAE,gBACAF,aACAA,uBAhDAA,+BARAA,wBAkEA,c,6DCxbA,yHAAsrC,eAAG,G","file":"pages/user/set/set.js","sourcesContent":["import 'uni-pages';\n// @ts-ignore\nwx.__webpack_require_UNI_MP_PLUGIN__ = __webpack_require__;\nimport Vue from 'vue'\nimport Page from './pages/user/set/set.vue'\ncreatePage(Page)","import { render, staticRenderFns, recyclableRender, components } from \"./set.vue?vue&type=template&id=558b376a&\"\nvar renderjs\nimport script from \"./set.vue?vue&type=script&lang=js&\"\nexport * from \"./set.vue?vue&type=script&lang=js&\"\nimport style0 from \"./set.vue?vue&type=style&index=0&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null,\n  false,\n  components,\n  renderjs\n)\n\ncomponent.options.__file = \"pages/user/set/set.vue\"\nexport default component.exports","export * from \"-!../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--17-0!../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/template.js!../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-uni-app-loader/page-meta.js!../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./set.vue?vue&type=template&id=558b376a&\"","var components\nvar render = function () {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n  var m0 = _vm.theme() || \"\"\n  var m1 = _vm.theme()\n  _vm.$mp.data = Object.assign(\n    {},\n    {\n      $root: {\n        m0: m0,\n        m1: m1,\n      },\n    }\n  )\n}\nvar recyclableRender = false\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns, recyclableRender, components }","import mod from \"-!../../../../../HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--13-1!../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./set.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--13-1!../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./set.vue?vue&type=script&lang=js&\"","<template>\r\n\t<view class=\"address-form\" :data-theme=\"theme()\" :class=\"theme() || ''\">\r\n\t\t<view class=\"bg-white p-0-30 f30\">\r\n\t\t\t<view class=\"d-b-c border-b info-item avatar\">\r\n\t\t\t\t<text class=\"key-name\">头像</text>\r\n\t\t\t\t<!-- #ifndef MP-WEIXIN -->\r\n\t\t\t\t<view class=\"d-e-c\" @click=\"changeAvatarUrl\">\r\n\t\t\t\t\t<view class=\"info-image\"><image :src=\"userInfo.avatarUrl || '/static/default.png'\" mode=\"\"></image></view>\r\n\t\t\t\t\t<text class=\"icon iconfont icon-jiantou\"></text>\r\n\t\t\t\t</view>\r\n\t\t\t\t<!-- #endif -->\r\n\t\t\t\t<!-- #ifdef MP-WEIXIN -->\r\n\t\t\t\t<view class=\"d-e-c\">\r\n\t\t\t\t\t<view class=\"info-image\">\r\n\t\t\t\t\t\t<button style=\"padding: 0;\" open-type=\"chooseAvatar\" @chooseavatar=\"onChooseAvatar\">\r\n\t\t\t\t\t\t\t<image :src=\"userInfo.avatarUrl || '/static/default.png'\" mode=\"\"></image>\r\n\t\t\t\t\t\t</button>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t\t<text class=\"icon iconfont icon-jiantou\"></text>\r\n\t\t\t\t</view>\r\n\t\t\t\t<!-- #endif -->\r\n\t\t\t</view>\r\n\t\t\t<view class=\"d-b-c p-30-0 border-b\">\r\n\t\t\t\t<text class=\"key-name\">会员ID</text>\r\n\t\t\t\t<view class=\"d-e-c\">\r\n\t\t\t\t\t<text class=\"mr20\">{{ userInfo.suiji_id }}</text>\r\n\t\t\t\t</view>\r\n\t\t\t</view>\r\n\t\t\t<view class=\"d-b-c p-30-0 border-b\">\r\n\t\t\t\t<text class=\"key-name\">昵称</text>\r\n\t\t\t\t<view class=\"d-e-c\" @click=\"changeName('nickName')\">\r\n\t\t\t\t\t<text class=\"mr20\">{{ userInfo.nickName }}</text>\r\n\t\t\t\t\t<text class=\"icon iconfont icon-jiantou\"></text>\r\n\t\t\t\t</view>\r\n\t\t\t</view>\r\n\t\t\t<view class=\"d-b-c p-30-0 border-b\">\r\n\t\t\t\t<text class=\"key-name\">{{userInfo.pay_password_status===1?'修改支付密码':'设置支付密码'}}</text>\r\n\t\t\t\t<view class=\"d-e-c\" @click=\"setpass\">\r\n\t\t\t\t\t<text class=\"mr20\">******</text>\r\n\t\t\t\t\t<text class=\"icon iconfont icon-jiantou\"></text>\r\n\t\t\t\t</view>\r\n\t\t\t</view>\r\n\t\t\t\r\n<!-- \t\t\t<view class=\"d-b-c p-30-0 border-b\">\r\n\t\t\t\t<text class=\"key-name\">重置支付密码</text>\r\n\t\t\t\t<view class=\"d-e-c\">\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t<text class=\"icon iconfont icon-jiantou\"></text>\r\n\t\t\t\t</view>\r\n\t\t\t</view> -->\r\n\t\t\t\r\n\t\t<!-- \t<view class=\"d-b-c p-30-0 border-b\" v-if=\"userInfo.pay_password_status===1\">\r\n\t\t\t\t<text class=\"key-name\">核对支付密码</text>\r\n\t\t\t\t<view class=\"d-e-c\" @click=\"hedui\">\r\n\t\t\t\t\t<text class=\"mr20\">******</text>\r\n\t\t\t\t\t<text class=\"icon iconfont icon-jiantou\"></text>\r\n\t\t\t\t</view>\r\n\t\t\t</view> -->\r\n\t\t\t<view class=\"d-b-c p-30-0\">\r\n\t\t\t\t<text class=\"key-name\">手机号码</text>\r\n\t\t\t\t<view class=\"d-e-c\" v-if=\"userInfo.mobile\">\r\n\t\t\t\t\t<text class=\"mr20\">{{ userInfo.mobile }}</text>\r\n\t\t\t\t</view>\r\n\t\t\t\t<view class=\"d-e-c\" v-if=\"!userInfo.mobile\" @click=\"gotoBind\">\r\n\t\t\t\t\t<text class=\"mr20\">未绑定</text>\r\n\t\t\t\t\t<text class=\"iconfont icon-jiantou\"></text>\r\n\t\t\t\t</view>\r\n\t\t\t</view>\r\n\t\t\t<!-- #ifdef APP-PLUS -->\r\n\t\t\t<view class=\"d-b-c p-30-0 border-b\">\r\n\t\t\t\t<text class=\"key-name\">当前版本</text>\r\n\t\t\t\t<view class=\"d-e-c\">\r\n\t\t\t\t\t<text class=\"mr20\">{{ version_no }}</text>\r\n\t\t\t\t</view>\r\n\t\t\t</view>\r\n\t\t\t<view class=\"d-b-c p-30-0 border-b\" @click=\"deleteAccount()\">\r\n\t\t\t\t<text class=\"key-name\">删除账号</text>\r\n\t\t\t\t<view class=\"d-e-c\">\r\n\t\t\t\t\t<text class=\"icon iconfont icon-jiantou\"></text>\r\n\t\t\t\t</view>\r\n\t\t\t</view>\r\n\t\t\t<!-- #endif -->\r\n\t\t\t<view class=\"setup-btn\" @tap=\"logout()\">退出登录</view>\r\n\t\t</view>\r\n\t\t<!-- 修改资料 -->\r\n\t\t<Popup :show=\"isPopup\" type=\"bottom\" :width=\"750\" :padding=\"0\" @hidePopup=\"hidePopupFunc\">\r\n\t\t\t<form @submit=\"subName\" class=\"ww100\">\r\n\t\t\t\t<view class=\"d-s-s d-c p20 mpservice-wrap\">\r\n\t\t\t\t\t<view class=\"tc f32 fb ww100\">修改</view>\r\n\t\t\t\t\t<template v-if=\"type == 'mobile' || type == 'nickName' || type == 'user_name' || type == 'email' || type == 'idcard'\">\r\n\t\t\t\t\t\t<view class=\"pop-input d-b-c\">\r\n\t\t\t\t\t\t\t<!-- #ifdef MP-WEIXIN -->\r\n\t\t\t\t\t\t\t<input name=\"newName\" :type=\"type == 'nickName' ? 'nickname' : 'text'\" class=\"flex-1\" placeholder=\"请输入\" :value=\"newName\" @input=\"changeinput\" />\r\n\t\t\t\t\t\t\t<!-- #endif -->\r\n\t\t\t\t\t\t\t<!-- #ifndef MP-WEIXIN -->\r\n\t\t\t\t\t\t\t<input type=\"text\" name=\"newName\" class=\"flex-1\" placeholder=\"请输入\" :value=\"newName\" @input=\"changeinput\" />\r\n\t\t\t\t\t\t\t<!-- #endif -->\r\n\t\t\t\t\t\t\t<view class=\"icon-guanbi icon iconfont\" @click=\"clearName\"></view>\r\n\t\t\t\t\t\t</view>\r\n\t\t\t\t\t</template>\r\n\t\t\t\t\t<view class=\"d-a-c ww100\">\r\n\t\t\t\t\t\t<button class=\"btn-gray-border\" @click=\"hidePopupFunc\">取消</button>\r\n\t\t\t\t\t\t<button class=\"theme-btn\" form-type=\"submit\">确认</button>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t</view>\r\n\t\t\t</form>\r\n\t\t</Popup>\r\n\t\t<Popup :show=\"isOpen\" type=\"middle\" :width=\"750\" :padding=\"0\"   @hidePopup=\"handleClose\">\r\n\t\t\t<form @submit=\"subPsd\" class=\"ww100\" >\r\n\t\t\t\t<view class=\"d-s-s d-c p20 mpservice-wrap\" >\r\n\t\t\t\t\t<view class=\"tc f32 fb ww100\">{{userInfo.pay_password_status===1?'修改支付密码':'设置支付密码'}}</view>\r\n\t\t\t\t\t<template>\r\n\t\t\t\t\t\t<view class=\"pop-input\">\r\n\t\t\t\t\t\t\t<!-- #ifdef MP-WEIXIN -->\r\n\t\t\t\t\t\t\t<input style=\"background-color: none;\" v-if=\"userInfo.pay_password_status===1\" type=\"password\" :maxlength=\"max_length\" name=\"oldPsd\" placeholder=\"请输入旧密码\" :value=\"oldPsd\" @input=\"changeOldPsd\" />\r\n\t\t\t\t\t\t\t<input style=\"background-color: none;\" name=\"newPsd\" placeholder=\"请输入新密码\" type=\"password\" :maxlength=\"max_length\" :value=\"newPsd\" @input=\"changePsd\" />\r\n\t\t\t\t\t\t\t<input style=\"background-color: none;\" name=\"confirmPsd\" placeholder=\"请再次输入新密码\" type=\"password\" :maxlength=\"max_length\" :value=\"confirmPsd\" @input=\"changeConfirmPsd\" />\r\n\t\t\t\t\t\t\t<!-- #endif -->\r\n\t\t\t\t\t\t\t<!-- #ifndef MP-WEIXIN -->\r\n\t\t\t\t\t\t\t<input  style=\"background-color: none;\" v-if=\"userInfo.pay_password_status===1\" type=\"password\" name=\"oldPsd\" :maxlength=\"max_length\" placeholder=\"请输入旧密码\" :value=\"oldPsd\" @input=\"changeOldPsd\" />\r\n\t\t\t\t\t\t\t<input  style=\"background-color: none;\" type=\"password\" name=\"newPsd\" class=\"flex-1\" placeholder=\"请输入新密码\" :maxlength=\"max_length\" :value=\"newPsd\" @input=\"changePsd\" />\r\n\t\t\t\t\t\t\t<input  style=\"background-color: none;\" type=\"password\" name=\"confirmPsd\" class=\"flex-1\" placeholder=\"请再次输入新密码\" :maxlength=\"max_length\" :value=\"confirmPsd\" @input=\"changeConfirmPsd\" />\r\n\t\t\t\t\t\t\t<!-- #endif -->\r\n\t\t\t\t\t\t\t<!-- <view class=\"icon-guanbi icon iconfont\" @click=\"clearPsd\"></view> -->\r\n\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t<span style=\"font-size: 12px;margin-bottom: 30rpx;color: #999;\">注意：请输入{{max_length}}位数字组合</span>\r\n\t\t\t\t\t</template>\r\n\t\t\t\t\t<view class=\"d-a-c ww100\">\r\n\t\t\t\t\t\t<button class=\"btn-gray-border\" @click=\"handleClose\">取消</button>\r\n\t\t\t\t\t\t<button class=\"theme-btn\" form-type=\"submit\">确认</button>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t</view>\r\n\t\t\t</form>\r\n\t\t</Popup>\r\n\t\t<!-- 上传头像 -->\r\n\t\t<Upload v-if=\"isUpload\" @getImgs=\"getImgsFunc\"></Upload>\r\n\t</view>\r\n</template>\r\n\r\n<script>\r\nimport Upload from '@/components/upload/uploadOne.vue';\r\nimport Popup from '@/components/uni-popup.vue';\r\nexport default {\r\n\tcomponents: {\r\n\t\tUpload,\r\n\t\tPopup\r\n\t},\r\n\tdata() {\r\n\t\treturn {\r\n\t\t\tuserInfo: {},\r\n\t\t\tisUpload: false,\r\n\t\t\tisPopup: false,\r\n\t\t\tisOpen: false,\r\n\t\t\tisShow:false,\r\n\t\t\tnewName: '',\r\n\t\t\tnewPsd:'',\r\n\t\t\toldPsd:'',\r\n\t\t\tconfirmPsd: '',\r\n\t\t\thdPsd:'',\r\n\t\t\ttype: '',\r\n\t\t\tversion_no: '',\r\n\t\t\timageList: [],\r\n\t\t\tmax_length:6\r\n\t\t};\r\n\t},\r\n\tonShow() {\r\n\t\t/*获取个人中心数据*/\r\n\t\tthis.getData();\r\n\t},\r\n\tmethods: {\r\n\t\tonChooseAvatar(e) {\r\n\t\t\tlet self = this;\r\n\t\t\tconsole.log(e);\r\n\t\t\tself.uploadFile([e.detail.avatarUrl]);\r\n\t\t},\r\n\t\t/*获取数据*/\r\n\t\tgetData() {\r\n\t\t\tlet self = this;\r\n\t\t\tuni.showLoading({\r\n\t\t\t\ttitle: '加载中'\r\n\t\t\t});\r\n\t\t\tself._get('user.index/setting', {}, function(res) {\r\n\t\t\t\tself.userInfo = res.data.userInfo;\r\n\t\t\t\tuni.hideLoading();\r\n\t\t\t});\r\n\t\t\t// #ifdef APP-PLUS\r\n\t\t\tplus.runtime.getProperty(plus.runtime.appid, function(widgetInfo) {\r\n\t\t\t\tself.version_no = widgetInfo.version;\r\n\t\t\t});\r\n\t\t\t// #endif\r\n\t\t},\r\n\t\tgotoBind() {\r\n\t\t\tthis.gotoPage('/pages/user/modify-phone/modify-phone');\r\n\t\t},\r\n\t\tlogout() {\r\n\t\t\tuni.removeStorageSync('token');\r\n\t\t\tuni.removeStorageSync('user_id');\r\n\t\t\tthis.gotoPage('/pages/index/index');\r\n\t\t},\r\n\t\tchangeName(type) {\r\n\t\t\tlet self = this;\r\n\t\t\tif (type == 'mobile') {\r\n\t\t\t\tself.oldmobile = self.userInfo.mobile;\r\n\t\t\t}\r\n\t\t\tself.type = type;\r\n\t\t\tself.newName = self.userInfo[type];\r\n\t\t\tself.isPopup = true;\r\n\t\t},\r\n\t\thidePopupFunc() {\r\n\t\t\tthis.newName = '';\r\n\t\t\tthis.isShow = false;\r\n\t\t},\r\n\t\tchangeinput(e) {\r\n\t\t\tthis.newName = e.target.value;\r\n\t\t},\r\n\t\tclearName() {\r\n\t\t\tthis.newName = '';\r\n\t\t},\r\n\t\tclearPsd() {\r\n\t\t\tthis.newPsd = '';\r\n\t\t},\r\n\t\tclearHdPsd(){\r\n\t\t\tthis.hdPsd=''\r\n\t\t},\r\n\t\tsubName(e) {\r\n\t\t\tlet self = this;\r\n\t\t\tif (self.loading) {\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\t\t\tself.newName = e.detail.value.newName;\r\n\t\t\tself.userInfo[self.type] = this.newName;\r\n\t\t\tself.update();\r\n\t\t},\r\n\t\t/* 修改头像 */\r\n\t\tchangeAvatarUrl() {\r\n\t\t\tlet self = this;\r\n\t\t\tself.isUpload = true;\r\n\t\t},\r\n\t\t/*上传图片*/\r\n\t\tuploadFile: function(tempList) {\r\n\t\t\tlet self = this;\r\n\t\t\tlet i = 0;\r\n\t\t\tlet img_length = tempList.length;\r\n\t\t\tlet params = {\r\n\t\t\t\ttoken: uni.getStorageSync('token'),\r\n\t\t\t\tapp_id: self.getAppId()\r\n\t\t\t};\r\n\t\t\tuni.showLoading({\r\n\t\t\t\ttitle: '图片上传中'\r\n\t\t\t});\r\n\t\t\ttempList.forEach(function(filePath, fileKey) {\r\n\t\t\t\tuni.uploadFile({\r\n\t\t\t\t\turl: self.websiteUrl + '/index.php?s=/api/file.upload/image',\r\n\t\t\t\t\tfilePath: filePath,\r\n\t\t\t\t\tname: 'iFile',\r\n\t\t\t\t\tformData: params,\r\n\t\t\t\t\tsuccess: function(res) {\r\n\t\t\t\t\t\tlet result = typeof res.data === 'object' ? res.data : JSON.parse(res.data);\r\n\t\t\t\t\t\tif (result.code === 1) {\r\n\t\t\t\t\t\t\tself.imageList.push(result.data);\r\n\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\tself.showError(result.msg);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t},\r\n\t\t\t\t\tcomplete: function() {\r\n\t\t\t\t\t\ti++;\r\n\t\t\t\t\t\tif (img_length === i) {\r\n\t\t\t\t\t\t\tuni.hideLoading();\r\n\t\t\t\t\t\t\t// 所有文件上传完成\r\n\t\t\t\t\t\t\tself.getImgsFunc(self.imageList);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\t\t});\r\n\t\t},\r\n\t\t/*获取上传的图片*/\r\n\t\tgetImgsFunc(e) {\r\n\t\t\tlet self = this;\r\n\t\t\tif (e && typeof e != 'undefined') {\r\n\t\t\t\tlet self = this;\r\n\t\t\t\tself.userInfo.avatarUrl = e[0].file_path;\r\n\t\t\t\tself.update();\r\n\t\t\t\tself.isUpload = false;\r\n\t\t\t}\r\n\t\t},\r\n\t\tupdate() {\r\n\t\t\tlet self = this;\r\n\t\t\tif (self.loading) {\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\t\t\tuni.showLoading({\r\n\t\t\t\ttitle: '加载中'\r\n\t\t\t});\r\n\t\t\tlet params = self.userInfo;\r\n\t\t\tself.loading = true;\r\n\t\t\tself._post('user.user/updateInfo', params, function(res) {\r\n\t\t\t\tself.showSuccess(\r\n\t\t\t\t\t'修改成功',\r\n\t\t\t\t\tfunction() {\r\n\t\t\t\t\t\tself.loading = false;\r\n\t\t\t\t\t\tself.isPopup = false;\r\n\t\t\t\t\t\tuni.hideLoading();\r\n\t\t\t\t\t\tself.getData();\r\n\t\t\t\t\t},\r\n\t\t\t\t\tfunction(err) {\r\n\t\t\t\t\t\tuni.hideLoading();\r\n\t\t\t\t\t\tself.loading = false;\r\n\t\t\t\t\t\tself.isPopup = false;\r\n\t\t\t\t\t}\r\n\t\t\t\t);\r\n\t\t\t});\t\r\n\t\t},\r\n\t\tdeleteAccount() {\r\n\t\t\tlet  self = this;\r\n\t\t\tuni.showModal({\r\n\t\t\t\ttitle: '提示',\r\n\t\t\t\tcontent: '是否确认删除账号？删除后您将无法用此账号登录，此账户下的数据也将删除',\r\n\t\t\t\tsuccess: function(res) {\r\n\t\t\t\t\tif (res.confirm) {\r\n\t\t\t\t\t\tself._post('user.user/deleteAccount', {}, result => {\r\n\t\t\t\t\t\t\tself.showSuccess('删除成功', () => {\r\n\t\t\t\t\t\t\t\tuni.removeStorageSync('token');\r\n\t\t\t\t\t\t\t\tuni.removeStorageSync('user_id');\r\n\t\t\t\t\t\t\t\tself.gotoPage('/pages/index/index');\r\n\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t}, false, () => {\r\n\t\t\t\t\t\t\tuni.hideLoading();\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t})\r\n\t\t},\r\n\t\tsetpass(){\r\n\t\t\tthis.isOpen=true\r\n\t\t},\r\n\t\thedui(){\r\n\t\t\tthis.isShow=true\r\n\t\t},\r\n\t\thandleClose() {\r\n\t\t\tthis.newPsd = '';\r\n\t\t\tthis.oldPsd = '';\r\n\t\t\tthis.confirmPsd = '';\r\n\t\t\tthis.isOpen = false;\r\n\t\t},\r\n\t\theduiClose(){\r\n\t\t\tthis.hdPsd=''\r\n\t\t\tthis.isShow=false\r\n\t\t},\r\n\t\tchangePsd(e){\r\n\t\t\tthis.newPsd=e.detail.value\r\n\t\t},\r\n\t\tchangeOldPsd(e) {\r\n\t\t\tthis.oldPsd = e.detail.value;\r\n\t\t},\r\n\t\tchangeConfirmPsd(e) {\r\n\t\t\tthis.confirmPsd = e.detail.value;\r\n\t\t},\r\n\t\theduiPsd(e){\r\n\t\t\tthis.hdPsd=e.detail.value\r\n\t\t},\r\n\r\n\t\t getPrevRoute() {\r\n\t\t\tconst pages = getCurrentPages()          // 页面栈，数组，最后一个为当前页\r\n\t\t\tif (pages.length < 2) return null       // 没有上一页\r\n\t\t\tconst prevPage = pages[pages.length - 2] // 上一页实例\r\n\t\t\treturn {\r\n\t\t\t\troute : prevPage.route || prevPage.__route__, // 页面路径（不带参数）\r\n\t\t\t\toptions: prevPage.options || {}               // 页面 onLoad 接收的参数\r\n\t\t\t}\r\n\t\t},\r\n\r\n\t\tsubPsd() {\r\n\t\t\tlet self = this;\r\n\t\t\tif (self.newPsd == '') {\r\n\t\t\t\tself.showError('请输入密码');\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\t\t\tif (self.newPsd.length < self.max_length) {\r\n\t\t\t\tself.showError('请输入' + self.max_length + '位密码');\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\t\t\tif (self.newPsd != self.confirmPsd) {\r\n\t\t\t\tself.showError('两次输入的密码不一致');\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\t\t\tuni.showLoading({\r\n\t\t\t\ttitle: '加载中'\r\n\t\t\t});\r\n\t\t\tif (this.userInfo.pay_password_status === 0) {\r\n\t\t\t\tlet params = {\r\n\t\t\t\t\tpay_password: this.newPsd\r\n\t\t\t\t};\r\n\t\t\t\tself._post('user.user/setPayPassword', params, function(res) {\r\n\t\t\t\t\tself.showSuccess(\r\n\t\t\t\t\t\t'设置成功',\r\n\t\t\t\t\t\tfunction() {\r\n\t\t\t\t\t\t\tself.loading = false;\r\n\t\t\t\t\t\t\tself.isOpen = false;\r\n\t\t\t\t\t\t\tuni.hideLoading();\r\n\t\t\t\t\t\t\tself.userInfo.pay_password_status = 1;\r\n\t\t\t\t\t\t\tself.getData();\r\n\t\t\t\t\t\t\tconst prev = self.getPrevRoute()\r\n\t\t\t\t\t\t\tif (prev && prev.route === 'pages/order/cashier') {\r\n\t\t\t\t\t\t\t\tuni.navigateBack();\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t\tfunction(err) {\r\n\t\t\t\t\t\t\tuni.hideLoading();\r\n\t\t\t\t\t\t\tself.loading = false;\r\n\t\t\t\t\t\t\tself.isPopup = false;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t);\r\n\t\t\t\t});\r\n\t\t\t} else {\r\n\t\t\t\tlet params={\r\n\t\t\t\t\tpay_password_new:this.newPsd,\r\n\t\t\t\t\tpay_password_old:this.oldPsd\r\n\t\t\t\t}\r\n\t\t\t\tself._post('user.user/updatePayPassword', params, function(res) {\r\n\t\t\t\t\tself.showSuccess(\r\n\t\t\t\t\t\t'修改成功',\r\n\t\t\t\t\t\tfunction() {\r\n\t\t\t\t\t\t\tself.loading = false;\r\n\t\t\t\t\t\t\tself.isOpen = false;\r\n\t\t\t\t\t\t\tuni.hideLoading();\r\n\t\t\t\t\t\t\tself.getData();\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t\tfunction(err) {\r\n\t\t\t\t\t\t\tuni.hideLoading();\r\n\t\t\t\t\t\t\tself.loading = false;\r\n\t\t\t\t\t\t\tself.isOpen = false;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t);\r\n\t\t\t\t});\r\n\t\t\t}\r\n\t\t},\r\n\r\n\t\t\r\n\r\n\t}\r\n};\r\n</script>\r\n\r\n<style lang=\"scss\">\r\n.address-form .key-name {\r\n\twidth: 200rpx;\r\n}\r\n\r\n.address-form .btn-red {\r\n\theight: 88rpx;\r\n\tline-height: 88rpx;\r\n\tborder-radius: 44rpx;\r\n}\r\n\r\n.setup-btn {\r\n\tposition: fixed;\r\n\tbottom: 20rpx;\r\n\tleft: 5%;\r\n\twidth: 90%;\r\n\theight: 80rpx;\r\n\tline-height: 80rpx;\r\n\tborder-radius: 80rpx;\r\n\t@include background_color('background_color');\r\n\tcolor: #fff;\r\n\tfont-size: 30rpx;\r\n\tdisplay: flex;\r\n\tjustify-content: center;\r\n\tmargin: 0 auto;\r\n}\r\n\r\n.info-item.avatar {\r\n\theight: 162rpx;\r\n}\r\n\r\n.info-image {\r\n\twidth: 112rpx;\r\n\theight: 112rpx;\r\n\tborder-radius: 10rpx;\r\n\tmargin-right: 20rpx;\r\n\r\n\timage {\r\n\t\twidth: 112rpx;\r\n\t\theight: 112rpx;\r\n\t\tborder-radius: 10rpx;\r\n\t}\r\n}\r\n.make-item {\r\n\theight: 60rpx;\r\n}\r\n\r\n.btn-red.code-btn {\r\n\theight: 54rpx;\r\n\tline-height: 54rpx;\r\n}\r\n\r\n.btn-red.code-btn.issend {\r\n\tbackground: #666666;\r\n\tborder: none;\r\n\tcolor: #ffffff;\r\n\tbox-shadow: none;\r\n}\r\n\r\n.pop-input {\r\n\twidth: 100%;\r\n\tmargin: 26rpx 0;\r\n\tbox-sizing: border-box;\r\n\r\n}\r\n\r\n.pop-input input {\r\n\twidth: 100%;\r\n\tmargin:  0 20rpx;\r\n\tborder-bottom: 1px #dedede solid;\r\n\tfont-size: 26rpx;\r\n\tcolor: #333333;\r\n\tmargin: 16rpx 0;\r\n\ttext-align: left;\r\n\theight: 60rpx;\r\n\tline-height: 60rpx;\r\n}\r\n\r\n.pop-input .icon.icon-guanbi {\r\n\twidth: 38rpx;\r\n\theight: 38rpx;\r\n\tbackground-color: #999999;\r\n\tcolor: #ffffff;\r\n\tfont-size: 22rpx;\r\n\tdisplay: flex;\r\n\tjustify-content: center;\r\n\talign-items: center;\r\n\tborder-radius: 50%;\r\n\topacity: 0.8;\r\n}\r\n\r\n.sub-box {\r\n\tpadding: 40rpx 0;\r\n\r\n\t.setup-btn {\r\n\t\twidth: 686rpx;\r\n\t\theight: 84rpx;\r\n\t\t@include background_color('background_color');\r\n\t\tborder-radius: 6rpx;\r\n\t\tline-height: 84rpx;\r\n\t\tcolor: #fff;\r\n\t\tfont-size: 30rpx;\r\n\t\tdisplay: flex;\r\n\t\tjustify-content: center;\r\n\t\tmargin: 0 auto;\r\n\t}\r\n}\r\n</style>\r\n","import mod from \"-!../../../../../HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../../HBuilderX/plugins/uniapp-cli/node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-2!../../../../../HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-3!../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/sass-loader/dist/cjs.js??ref--8-oneOf-1-4!../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-5!../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./set.vue?vue&type=style&index=0&lang=scss&\"; export default mod; export * from \"-!../../../../../HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../../HBuilderX/plugins/uniapp-cli/node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-2!../../../../../HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-3!../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/sass-loader/dist/cjs.js??ref--8-oneOf-1-4!../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-5!../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./set.vue?vue&type=style&index=0&lang=scss&\""],"sourceRoot":""}