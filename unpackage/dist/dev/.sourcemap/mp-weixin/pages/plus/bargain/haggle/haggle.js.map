{"version":3,"sources":["uni-app:///main.js","webpack:///D:/working/舒服康/pages/plus/bargain/haggle/haggle.vue?b847","webpack:///D:/working/舒服康/pages/plus/bargain/haggle/haggle.vue?58f5","webpack:///D:/working/舒服康/pages/plus/bargain/haggle/haggle.vue?95f6","webpack:///D:/working/舒服康/pages/plus/bargain/haggle/haggle.vue?c124","uni-app:///pages/plus/bargain/haggle/haggle.vue","webpack:///D:/working/舒服康/pages/plus/bargain/haggle/haggle.vue?7dbd"],"names":["wx","__webpack_require_UNI_MP_PLUGIN__","__webpack_require__","createPage","Page","renderjs","component","options","__file","components","countdown","e","message","indexOf","console","error","render","_vm","this","_h","$createElement","m0","_self","_c","loadding","topBarTop","m1","topBarHeight","m2","$mp","data","Object","assign","$root","recyclableRender","staticRenderFns","_withStripped","Popup","Rule","share","AppShare","bargain_task_id","isRule","countdownConfig","startstamp","endstamp","title","task","product","active","setting","help_list","isMpShare","is_creater","is_cut","submitting","isPopup","my_cut_money","isAppShare","appParams","summary","path","onLoad","mounted","onShow","computed","is_bargain","is_buy","methods","getData","self","uni","url","bargainFunc","hidePopupFunc","buyNow","openRule","closeRule","gotoHome","createdOrder","bargain_product_id","product_sku_id","bargain_product_sku_id","goback","shareFunc","closeShare","closeAppShare","involvedFunc","onShareAppMessage"],"mappings":"2JAAA,MAGA,aACA,YAFAA,EAAGC,kCAAoCC,EAGvCC,EAAWC,a,gFCLX,oIACIC,EADJ,QASIC,EAAY,qBACd,aACA,YACA,sBACA,EACA,KACA,KACA,MACA,EACA,gBACAD,GAGFC,EAAUC,QAAQC,OAAS,uCACZ,aAAAF,E,0CCvBf,uQ,iCCAA,IAAIG,EAAJ,0LACA,IACEA,EAAa,CACXC,UAAW,WACT,OAAO,gEAKX,MAAOC,GACP,IAC+C,IAA7CA,EAAEC,QAAQC,QAAQ,wBACa,IAA/BF,EAAEC,QAAQC,QAAQ,QAWlB,MAAMF,EATNG,QAAQC,MAAMJ,EAAEC,SAChBE,QAAQC,MAAM,mBACdD,QAAQC,MACN,uFAEFD,QAAQC,MACN,mDAMN,IAAIC,EAAS,WACX,IAAIC,EAAMC,KACNC,EAAKF,EAAIG,eAETC,GADKJ,EAAIK,MAAMC,GACTN,EAAIO,SAA6B,KAAlBP,EAAIQ,aACzBC,EAAMT,EAAIO,SAAgC,KAArBP,EAAIU,eACzBC,EAAMX,EAAIO,UAAoB,GAANE,EAAgC,KAArBT,EAAIU,eAC3CV,EAAIY,IAAIC,KAAOC,OAAOC,OACpB,GACA,CACEC,MAAO,CACLZ,GAAIA,EACJK,GAAIA,EACJE,GAAIA,MAKRM,GAAmB,EACnBC,EAAkB,GACtBnB,EAAOoB,eAAgB,G,iCC9CvB,yHAAipB,eAAG,G,ktBC0HppB,CACA3B,YACA4B,QACAC,OACA5B,YACA6B,QACAC,YAEAV,gBACA,OAEAN,YAEAiB,kBAEAC,UAEAC,iBAEAC,aAEAC,WAIAC,eAGAC,QAEAC,WAEAC,UAEAC,WAEAC,aAEAC,aAEAC,cAEAC,UAEAC,cAEAC,WAEAC,eAEAC,cACAC,WACAb,SACAc,WACAC,WAIAC,mBACA,wCAOAC,qBAGAC,kBACA,mBAEA,gBAEAC,UAGAC,sBACA,uBAQAC,kBACA,wDACArD,sBACA,GACA,yEACAA,uBACA,KAMAsD,SAEAC,mBACA,WACAC,aACAC,eACAzB,cAEAwB,OACA,4BACA7B,kCACA+B,YAEA,YACA,sBACAF,uDAEAA,gDACAA,+BACAA,uBACAA,mBACAA,uBACAA,yBACAA,yBACAA,6BAUAA,cACAC,oBAMAE,uBACA3D,kBACA,WACAwD,gBACAA,QACA,yBACA7B,oCAEA,YACA6B,gCACAA,iBAMAI,yBACA,gBACA,eACA,oBAIAC,kBACA,qBAIAC,oBACA,gBAIAC,qBACA,gBAIAC,oBACA,qCAIAC,wBACA,WACA,+BACA,wBACA,gCACAT,4DACAU,EACA,mBACAC,EACA,2BACAC,EALAZ,uCAQAA,oBAEAa,kBACAZ,oBAKAa,qBAGA,mBAcAC,sBACA,mBAGAC,0BACA,oBAGAC,wBACA,6FACA,kBAGAC,6BACA,WAEA,uBACA/C,oCAEA,OACAK,yBACAe,gDAIA,c,6DC/WA,yHAAotC,eAAG,G","file":"pages/plus/bargain/haggle/haggle.js","sourcesContent":["import 'uni-pages';\n// @ts-ignore\nwx.__webpack_require_UNI_MP_PLUGIN__ = __webpack_require__;\nimport Vue from 'vue'\nimport Page from './pages/plus/bargain/haggle/haggle.vue'\ncreatePage(Page)","import { render, staticRenderFns, recyclableRender, components } from \"./haggle.vue?vue&type=template&id=58556576&\"\nvar renderjs\nimport script from \"./haggle.vue?vue&type=script&lang=js&\"\nexport * from \"./haggle.vue?vue&type=script&lang=js&\"\nimport style0 from \"./haggle.vue?vue&type=style&index=0&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null,\n  false,\n  components,\n  renderjs\n)\n\ncomponent.options.__file = \"pages/plus/bargain/haggle/haggle.vue\"\nexport default component.exports","export * from \"-!../../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!../../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--17-0!../../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/template.js!../../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-uni-app-loader/page-meta.js!../../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./haggle.vue?vue&type=template&id=58556576&\"","var components\ntry {\n  components = {\n    countdown: function () {\n      return import(\n        /* webpackChunkName: \"components/countdown/countdown\" */ \"@/components/countdown/countdown.vue\"\n      )\n    },\n  }\n} catch (e) {\n  if (\n    e.message.indexOf(\"Cannot find module\") !== -1 &&\n    e.message.indexOf(\".vue\") !== -1\n  ) {\n    console.error(e.message)\n    console.error(\"1. 排查组件名称拼写是否正确\")\n    console.error(\n      \"2. 排查组件是否符合 easycom 规范，文档：https://uniapp.dcloud.net.cn/collocation/pages?id=easycom\"\n    )\n    console.error(\n      \"3. 若组件不符合 easycom 规范，需手动引入，并在 components 中注册该组件\"\n    )\n  } else {\n    throw e\n  }\n}\nvar render = function () {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n  var m0 = !_vm.loadding ? _vm.topBarTop() : null\n  var m1 = !_vm.loadding ? _vm.topBarHeight() : null\n  var m2 = !_vm.loadding && !(m1 == 0) ? _vm.topBarHeight() : null\n  _vm.$mp.data = Object.assign(\n    {},\n    {\n      $root: {\n        m0: m0,\n        m1: m1,\n        m2: m2,\n      },\n    }\n  )\n}\nvar recyclableRender = false\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns, recyclableRender, components }","import mod from \"-!../../../../../../HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--13-1!../../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./haggle.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../../HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--13-1!../../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./haggle.vue?vue&type=script&lang=js&\"","<template>\r\n\t<view class=\"haggle\" v-if=\"!loadding\">\r\n\t\t<image class=\"bg_topimg\" src=\"/static/haggle.png\" mode=\"\"></image>\r\n\t\t<!-- #ifdef MP-WEIXIN || APP-PLUS -->\r\n\t\t<view class=\"ww100\" :style=\"'height:'+topBarTop()+'px;'\"></view>\r\n\t\t<view class=\"tc  head_top\" :style=\"topBarHeight() == 0 ? '': 'height:'+topBarHeight()+'px;'\">\r\n\t\t\t<view class=\"reg180\" @click=\"goback\"><text class=\"icon iconfont icon-jiantou\"></text></view>\r\n\t\t\t<view class=\"fb\">砍价购</view>\r\n\t\t</view>\r\n\t\t<!-- #endif -->\r\n\t\t<!--活动剩余时间-->\r\n\t\t<view class=\"ad-datetime p-40-0 d-c-c\" v-if=\"task.status==0\">\r\n\t\t\t<countdown ref=\"countdown\" :config=\"countdownConfig\"></countdown>\r\n\t\t</view>\r\n\t\t<view class=\"haggle-content\">\r\n\t\t\t<view class=\"goto-home d-c-c\" @click=\"gotoHome\"><text class=\"iconfont icon-Homehomepagemenu\"></text></view>\r\n\t\t\t<view class=\"rule\" @click=\"openRule\">活动规则 <text class=\"icon iconfont icon-jiantou\" style=\"color: #333333;font-size: 26rpx;\"></text></view>\r\n\t\t\t<!--用户信息-->\r\n\t\t\t<view class=\"user d-c-c d-c\">\r\n\t\t\t\t<image :src=\"task.user.avatarUrl\" mode=\"\"></image>\r\n\t\t\t\t<text class=\"gray3 mt20 mb30 f26\">{{ task.user.nickName }}</text>\r\n\t\t\t</view>\r\n\t\t\t<!-- <view class=\"tip p-20-0 d-c-c f30\">“拿好物好朋友帮，快去邀请吧”</view> -->\r\n\t\t\t<!--商品信息-->\r\n\t\t\t<view class=\"product o-h d-b-s p-20-0 pb60\" v-if=\"product\">\r\n\t\t\t\t<view class=\"pic\">\r\n\t\t\t\t\t<image :src=\"product.product.image[0].file_path\" mode=\"\"></image>\r\n\t\t\t\t</view>\r\n\t\t\t\t<view class=\"info flex-1 ml30\">\r\n\t\t\t\t\t<view class=\"text-ellipsis-2 f26 gray3\" style=\"width: 360rpx;\">{{ task.product_name }}</view>\r\n\t\t\t\t\t<view class=\"pt10\">\r\n\t\t\t\t\t\t<text class=\"gray9\">规格：</text>\r\n\t\t\t\t\t\t<text>{{ task.product_attr }}</text>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t\t<view class=\"\" style=\"margin: 20rpx 0; margin-bottom: 16rpx;\">\r\n\t\t\t\t\t\t<text class=\"gray9 f26\">剩余：</text>\r\n\t\t\t\t\t\t<text class=\"gray9 f26\">{{ product.stock }}件</text>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t\t<view class=\"d-s-c p-10-0\">\r\n\t\t\t\t\t\t<view class=\"d-c-c\">\r\n\t\t\t\t\t\t\t<view class=\"gray9 haggle_btn_l\">砍到底价</view>\r\n\t\t\t\t\t\t\t<view class=\"haggle_btn_r\"><text class=\"f20\">￥</text>{{ task.bargain_price }}</view>\r\n\t\t\t\t\t\t</view>\r\n\t\t\t\t\t</view>\r\n\r\n\t\t\t\t</view>\r\n\t\t\t</view>\r\n\t\t\t<!--砍价进度-->\r\n\t\t\t<view class=\"f26 ww100 tc\">已砍<text style=\"color: #723BFF;\">{{ task.cut_money }}</text>元，继续加油</view>\r\n\t\t\t<view class=\"progress pr\">\r\n\t\t\t\t<view class=\"progress-box\">\r\n\t\t\t\t\t<view class=\"progress-box-active\" :style=\"'width:' + task.bargain_rate + '%;'\"></view>\r\n\t\t\t\t</view>\r\n\t\t\t\t<view class=\"progressState\" :style=\"'left:' + task.bargain_rate + '%;'\">{{ task.bargain_rate + '%' }}</view>\r\n\t\t\t</view>\r\n\t\t\t<view class=\"d-b-c gray9\" style=\"width: 80%; margin: 0 auto;margin-top: 20rpx;\">\r\n\t\t\t\t<text>￥{{ task.product_price }}</text>\r\n\t\t\t\t<text class=\"f30 haggle-color fb\">￥{{ task.bargain_price }}</text>\r\n\t\t\t</view>\r\n\r\n\t\t\t<!--按钮-->\r\n\t\t\t<view class=\"btns mt30\" v-if=\"task.status == 0||task.status == 1\">\r\n\t\t\t\t<template v-if=\"is_bargain\">\r\n\t\t\t\t\t<button type=\"primary\" :disabled=\"submitting\" @click=\"bargainFunc\">\r\n\t\t\t\t\t\t{{is_creater?'我要砍价':'帮好友砍一刀'}}\r\n\t\t\t\t\t</button>\r\n\t\t\t\t</template>\r\n\t\t\t\t<template v-if=\"!is_bargain && task.is_floor != 1 && task.is_buy!=1\">\r\n\t\t\t\t\t<button type=\"primary\" open-type=\"share\" @click=\"shareFunc\">邀请好友帮忙砍价</button>\r\n\t\t\t\t</template>\r\n\t\t\t\t<template v-if=\"is_creater === true && active != null\">\r\n\t\t\t\t\t<button type=\"primary\" v-if=\"is_buy && active.conditions == 0\" class=\"mt20\" @click=\"buyNow\">\r\n\t\t\t\t\t\t<template v-if=\"task.is_floor == 0\">当前价购买</template>\r\n\t\t\t\t\t\t<template v-if=\"task.is_floor == 1\">砍价成功 立即购买</template>\r\n\t\t\t\t\t</button>\r\n\t\t\t\t\t<button type=\"primary\" v-if=\"is_buy && active.conditions == 1\" class=\"mt20\" @click=\"buyNow\">砍价成功 立即购买</button>\r\n\t\t\t\t\t<view class=\"mt20 f34 haggle-color tc\" v-if=\"task.is_buy==1\">砍价成功，已购买</view>\r\n\t\t\t\t</template>\r\n\t\t\t\t<template v-if=\"is_creater == false\">\r\n\t\t\t\t\t<button type=\"primary\" class=\"buy-btn mt20\" @click=\"involvedFunc\">我要参与</button>\r\n\t\t\t\t</template>\r\n\t\t\t</view>\r\n\r\n\t\t\t<!--砍价历史-->\r\n\t\t\t<view class=\"help-list mt30\">\r\n\t\t\t\t<view class=\"p-30-0 border-b fb f30\">砍价记录</view>\r\n\t\t\t\t<view class=\"d-b-c p-20-0 border-b-e\" v-for=\"(item, index) in help_list\" :key=\"index\">\r\n\t\t\t\t\t<view class=\"user d-s-c\">\r\n\t\t\t\t\t\t<image :src=\"item.user.avatarUrl\" mode=\"aspectFill\"></image>\r\n\t\t\t\t\t\t<text class=\"ml20\">{{ item.user.nickName }}</text>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t\t<view class=\"haggle-color\" :class=\"{ fb: item.is_creater == 0 }\">-{{ item.cut_money }}</view>\r\n\t\t\t\t</view>\r\n\t\t\t</view>\r\n\t\t</view>\r\n\r\n\t\t<!--规则-->\r\n\t\t<Rule :isRule=\"isRule\" :setting=\"setting\" @close=\"closeRule\"></Rule>\r\n\t\t<!--分享-->\r\n\t\t<share :isMpShare=\"isMpShare\" @close=\"closeShare\"></share>\r\n\t\t<!--app分享-->\r\n\t\t<AppShare :isAppShare=\"isAppShare\" :appParams=\"appParams\" @close=\"closeAppShare\"></AppShare>\r\n\t\t<!--弹出框-->\r\n\t\t<Popup :show=\"isPopup\" :width=\"400\" :height=\"300\" :padding=\"0\" @hidePopup=\"hidePopupFunc\">\r\n\t\t\t<view class=\"d-c-c d-c ww100 p-30-0\">\r\n\t\t\t\t<text>本次砍掉</text>\r\n\t\t\t\t<view class=\"pt10\">\r\n\t\t\t\t\t￥\r\n\t\t\t\t\t<text class=\"fb f34 haggle-color\">{{ my_cut_money }}</text>\r\n\t\t\t\t</view>\r\n\t\t\t\t<view class=\"pt30\"><button type=\"primary\" class=\"btn-gray\" @click=\"hidePopupFunc\">关闭</button></view>\r\n\t\t\t</view>\r\n\t\t</Popup>\r\n\t</view>\r\n</template>\r\n\r\n<script>\r\n\timport Popup from '@/components/uni-popup.vue';\r\n\timport countdown from '@/components/countdown/countdown.vue';\r\n\timport Rule from './popup/Rule.vue';\r\n\timport share from '@/components/mp-share.vue';\r\n\timport AppShare from '@/components/app-share.vue';\r\n\texport default {\r\n\t\tcomponents: {\r\n\t\t\tPopup,\r\n\t\t\tRule,\r\n\t\t\tcountdown,\r\n\t\t\tshare,\r\n\t\t\tAppShare\r\n\t\t},\r\n\t\tdata() {\r\n\t\t\treturn {\r\n\t\t\t\t/*是否加载完成*/\r\n\t\t\t\tloadding: true,\r\n\t\t\t\t/*砍价任务ID*/\r\n\t\t\t\tbargain_task_id: 0,\r\n\t\t\t\t/*是否显示规则*/\r\n\t\t\t\tisRule: false,\r\n\t\t\t\t/*倒计时配置*/\r\n\t\t\t\tcountdownConfig: {\r\n\t\t\t\t\t/*开始时间*/\r\n\t\t\t\t\tstartstamp: 0,\r\n\t\t\t\t\t/*结束时间*/\r\n\t\t\t\t\tendstamp: 0,\r\n\t\t\t\t\t// /*显示类别*/\r\n\t\t\t\t\t// type: 'text',\r\n\t\t\t\t\t/*文字*/\r\n\t\t\t\t\ttitle: '活动剩余：'\r\n\t\t\t\t},\r\n\t\t\t\t/*任务对象*/\r\n\t\t\t\ttask: {},\r\n\t\t\t\t/*商品对象*/\r\n\t\t\t\tproduct: {},\r\n\t\t\t\t/*活动*/\r\n\t\t\t\tactive: {},\r\n\t\t\t\t/*活动设置*/\r\n\t\t\t\tsetting: {},\r\n\t\t\t\t/*砍价历史*/\r\n\t\t\t\thelp_list: [],\r\n\t\t\t\t/*是否分享*/\r\n\t\t\t\tisMpShare: false,\r\n\t\t\t\t/*是否是自己的*/\r\n\t\t\t\tis_creater: false,\r\n\t\t\t\t/*是否已经砍过*/\r\n\t\t\t\tis_cut: false,\r\n\t\t\t\t/*是否正在提交*/\r\n\t\t\t\tsubmitting: false,\r\n\t\t\t\t/*是否显示弹出框*/\r\n\t\t\t\tisPopup: false,\r\n\t\t\t\t/*我的砍价*/\r\n\t\t\t\tmy_cut_money: 0,\r\n\t\t\t\t/*app分享*/\r\n\t\t\t\tisAppShare: false,\r\n\t\t\t\tappParams: {\r\n\t\t\t\t\ttitle: '',\r\n\t\t\t\t\tsummary: '',\r\n\t\t\t\t\tpath: ''\r\n\t\t\t\t}\r\n\t\t\t};\r\n\t\t},\r\n\t\tonLoad(e) {\r\n\t\t\tthis.bargain_task_id = e.bargain_task_id;\r\n\t\t\t//#ifdef H5\r\n\t\t\tif (this.isWeixin()) {\r\n\t\t\t\tthis.url = window.location.href;\r\n\t\t\t}\r\n\t\t\t//#endif\r\n\t\t},\r\n\t\tmounted() {\r\n\r\n\t\t},\r\n\t\tonShow() {\r\n\t\t\tthis.submitting = false;\r\n\t\t\t/*获取产品详情*/\r\n\t\t\tthis.getData();\r\n\t\t},\r\n\t\tcomputed: {\r\n\r\n\t\t\t/*是否允许砍价*/\r\n\t\t\tis_bargain: function() {\r\n\t\t\t\tif (this.is_cut == false) {\r\n\t\t\t\t\treturn true;\r\n\t\t\t\t} else {\r\n\t\t\t\t\treturn false;\r\n\t\t\t\t}\r\n\t\t\t},\r\n\r\n\t\t\t/*是否允许购买、砍价过程中可购买或者砍到底价，并且砍价成功可购买*/\r\n\t\t\tis_buy: function() {\r\n\t\t\t\tif (this.active.conditions === 0 && this.task.is_buy != 1) {\r\n\t\t\t\t\tconsole.log('aaaaa');\r\n\t\t\t\t\treturn true;\r\n\t\t\t\t} else if (this.active.conditions === 1 && this.task.is_floor == 1 && this.task.is_buy != 1) {\r\n\t\t\t\t\tconsole.log('bbbbbb');\r\n\t\t\t\t\treturn true;\r\n\t\t\t\t} else {\r\n\t\t\t\t\treturn false;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t},\r\n\t\tmethods: {\r\n\t\t\t/*获取数据*/\r\n\t\t\tgetData() {\r\n\t\t\t\tlet self = this;\r\n\t\t\t\tself.loading = true;\r\n\t\t\t\tuni.showLoading({\r\n\t\t\t\t\ttitle: '加载中'\r\n\t\t\t\t});\r\n\t\t\t\tself._get(\r\n\t\t\t\t\t'plus.bargain.task/detail', {\r\n\t\t\t\t\t\tbargain_task_id: self.bargain_task_id,\r\n\t\t\t\t\t\turl: self.url\r\n\t\t\t\t\t},\r\n\t\t\t\t\tfunction(res) {\r\n\t\t\t\t\t\tif (res.data.active != null) {\r\n\t\t\t\t\t\t\tself.countdownConfig.startstamp = res.data.active.start_time;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tself.countdownConfig.endstamp = res.data.task.end_time;\r\n\t\t\t\t\t\tself.is_creater = res.data.is_creater;\r\n\t\t\t\t\t\tself.is_cut = res.data.is_cut;\r\n\t\t\t\t\t\tself.task = res.data.task;\r\n\t\t\t\t\t\tself.active = res.data.active;\r\n\t\t\t\t\t\tself.product = res.data.product;\r\n\t\t\t\t\t\tself.setting = res.data.setting;\r\n\t\t\t\t\t\tself.help_list = res.data.help_list;\r\n\t\t\t\t\t\t// 配置微信分享参数\r\n\t\t\t\t\t\t//#ifdef H5\r\n\t\t\t\t\t\tif (self.url != '') {\r\n\t\t\t\t\t\t\tlet params = {\r\n\t\t\t\t\t\t\t\tbargain_task_id: self.bargain_task_id\r\n\t\t\t\t\t\t\t};\r\n\t\t\t\t\t\t\tself.configWx(res.data.share.signPackage, res.data.share.shareParams, params);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\t//#endif\r\n\t\t\t\t\t\tself.loadding = false;\r\n\t\t\t\t\t\tuni.hideLoading();\r\n\t\t\t\t\t}\r\n\t\t\t\t);\r\n\t\t\t},\r\n\r\n\t\t\t/*我要砍价*/\r\n\t\t\tbargainFunc() {\r\n\t\t\t\tconsole.log(1111);\r\n\t\t\t\tlet self = this;\r\n\t\t\t\tself.submitting = true;\r\n\t\t\t\tself._post(\r\n\t\t\t\t\t'plus.bargain.task/cut', {\r\n\t\t\t\t\t\tbargain_task_id: self.bargain_task_id\r\n\t\t\t\t\t},\r\n\t\t\t\t\tfunction(res) {\r\n\t\t\t\t\t\tself.my_cut_money = res.data.cut_money;\r\n\t\t\t\t\t\tself.isPopup = true;\r\n\t\t\t\t\t}\r\n\t\t\t\t);\r\n\t\t\t},\r\n\r\n\t\t\t/*关闭弹出框*/\r\n\t\t\thidePopupFunc() {\r\n\t\t\t\tthis.isPopup = false;\r\n\t\t\t\tthis.getData();\r\n\t\t\t\tthis.submitting = false;\r\n\t\t\t},\r\n\r\n\t\t\t/*确认提交*/\r\n\t\t\tbuyNow() {\r\n\t\t\t\tthis.createdOrder();\r\n\t\t\t},\r\n\r\n\t\t\t/*规则*/\r\n\t\t\topenRule() {\r\n\t\t\t\tthis.isRule = true;\r\n\t\t\t},\r\n\r\n\t\t\t/*关闭规则*/\r\n\t\t\tcloseRule() {\r\n\t\t\t\tthis.isRule = false;\r\n\t\t\t},\r\n\r\n\t\t\t/*跳转首页*/\r\n\t\t\tgotoHome() {\r\n\t\t\t\tthis.gotoPage('/pages/index/index')\r\n\t\t\t},\r\n\r\n\t\t\t/*创建订单*/\r\n\t\t\tcreatedOrder() {\r\n\t\t\t\tlet self = this;\r\n\t\t\t\tlet bargain_product_id = self.product.bargain_product_id;\r\n\t\t\t\tlet product_sku_id = self.task.product_sku_id;\r\n\t\t\t\tlet bargain_product_sku_id = self.task.bargain_product_sku_id;\r\n\t\t\t\tself.gotoPage('/pages/order/confirm-order?bargain_product_id=' +\r\n\t\t\t\t\t\tbargain_product_id +\r\n\t\t\t\t\t\t'&product_sku_id=' +\r\n\t\t\t\t\t\tproduct_sku_id +\r\n\t\t\t\t\t\t'&bargain_product_sku_id=' +\r\n\t\t\t\t\t\tbargain_product_sku_id +\r\n\t\t\t\t\t\t'&order_type=bargain' +\r\n\t\t\t\t\t\t'&bargain_task_id=' +\r\n\t\t\t\t\t\tself.bargain_task_id);\r\n\t\t\t},\r\n\t\t\tgoback() {\r\n\t\t\t\tuni.navigateBack({\r\n\r\n\t\t\t\t})\r\n\t\t\t},\r\n\t\t\t/*分享*/\r\n\t\t\tshareFunc() {\r\n\t\t\t\tlet self = this;\r\n\t\t\t\t//#ifndef APP-PLUS\r\n\t\t\t\tthis.isMpShare = true;\r\n\t\t\t\t//#endif\r\n\t\t\t\t//#ifdef APP-PLUS\r\n\t\t\t\tself.appParams.title = '发现了一个好物，快来帮我砍一刀吧';\r\n\t\t\t\tself.appParams.summary = self.product.product.product_name;\r\n\t\t\t\t// 构建页面参数\r\n\t\t\t\tlet params = self.getShareUrlParams({\r\n\t\t\t\t\tbargain_task_id: self.bargain_task_id\r\n\t\t\t\t});\r\n\t\t\t\tself.appParams.path = '/pages/plus/bargain/haggle/haggle?' + params;\r\n\t\t\t\tself.appParams.image = self.product.product.image[0].file_path;\r\n\t\t\t\tself.isAppShare = true;\r\n\t\t\t\t//#endif\r\n\t\t\t},\r\n\t\t\tcloseShare(){\r\n\t\t\t\tthis.isMpShare = false;\r\n\t\t\t},\r\n\t\t\t//关闭分享\r\n\t\t\tcloseAppShare(data) {\r\n\t\t\t\tthis.isAppShare = false;\r\n\t\t\t},\r\n\t\t\t/*我要参与*/\r\n\t\t\tinvolvedFunc() {\r\n\t\t\t\tlet url = 'pages/plus/bargain/detail/detail?bargain_product_id=' + this.product.bargain_product_id;\r\n\t\t\t\tthis.gotoPage(url);\r\n\t\t\t},\r\n\t\t\t/*小程序分享*/\r\n\t\t\tonShareAppMessage() {\r\n\t\t\t\tlet self = this;\r\n\t\t\t\t// 构建页面参数\r\n\t\t\t\tlet params = self.getShareUrlParams({\r\n\t\t\t\t\tbargain_task_id: self.bargain_task_id\r\n\t\t\t\t});\r\n\t\t\t\treturn {\r\n\t\t\t\t\ttitle: '发现了一个好物，快来帮我砍一刀吧',\r\n\t\t\t\t\tpath: '/pages/plus/bargain/haggle/haggle?' + params\r\n\t\t\t\t};\r\n\t\t\t},\r\n\t\t}\r\n\t};\r\n</script>\r\n\r\n<style lang=\"scss\">\r\n\t.haggle {\r\n\t\tmin-height: 100vh;\r\n\t\tbox-sizing: border-box;\r\n\t}\r\n\r\n\t.reg180 {\r\n\t\tpadding-right: 20rpx;\r\n\t\ttext-align: right;\r\n\t\ttransform: rotateY(180deg);\r\n\t\tposition: absolute;\r\n\t\tbottom: 0;\r\n\t}\r\n\r\n\t.icon-jiantou {\r\n\t\tcolor: #FFFFFF;\r\n\t\tfont-size: 30rpx;\r\n\t}\r\n\r\n\t.head_top {\r\n\t\tposition: relative;\r\n\t\theight: 30px;\r\n\t\tline-height: 30px;\r\n\t\tcolor: #FFFFFF;\r\n\t\tfont-size: 32rpx;\r\n\t}\r\n\r\n\t.bg_topimg {\r\n\t\tposition: fixed;\r\n\t\ttop: 0;\r\n\t\twidth: 100%;\r\n\t\theight: 400rpx;\r\n\t\tz-index: -1;\r\n\t}\r\n\r\n\t.haggle .goto-home {\r\n\t\tposition: absolute;\r\n\t\ttop: 10rpx;\r\n\t\tleft: 0;\r\n\t\twidth: 80rpx;\r\n\t\theight: 80rpx;\r\n\t\tline-height: 60rpx;\r\n\t\tborder-radius: 50%;\r\n\t\tbackground: #ffffff;\r\n\t\tz-index: 20;\r\n\t}\r\n\r\n\t.haggle .goto-home .iconfont {\r\n\t\tcolor: #333333;\r\n\t\tfont-weight: bold;\r\n\t\tfont-size: 36rpx;\r\n\t}\r\n\r\n\t.haggle-content {\r\n\t\tposition: relative;\r\n\t\tpadding: 30rpx;\r\n\t\tbox-sizing: border-box;\r\n\t\tborder-radius: 16rpx;\r\n\t\tbackground: #ffffff;\r\n\t\tmargin: 0 20rpx;\r\n\t\tmargin-top: 72rpx;\r\n\t}\r\n\r\n\t.haggle-content .rule {\r\n\t\tposition: absolute;\r\n\t\tfont-size: 26rpx;\r\n\t\tcolor: #333333;\r\n\t\ttop: 30rpx;\r\n\t\tright: 30rpx;\r\n\t}\r\n\r\n\t.haggle-content .user image {\r\n\t\twidth: 120rpx;\r\n\t\theight: 120rpx;\r\n\t\tborder-radius: 50%;\r\n\t\tborder: 6rpx solid #ffffff;\r\n\t\tmargin-top: -100rpx;\r\n\t}\r\n\r\n\t.help-list .user image {\r\n\t\tmargin-top: 0;\r\n\t}\r\n\r\n\t.haggle-content .product {\r\n\t\tbackground: #FFFFFF;\r\n\t}\r\n\r\n\t.haggle-content .product .pic,\r\n\t.haggle-content .product .pic image {\r\n\t\twidth: 240rpx;\r\n\t\theight: 240rpx;\r\n\t\tborder-radius: 12rpx;\r\n\t}\r\n\r\n\t.haggle-content .title-2 text::before,\r\n\t.haggle-content .title-2 text::after {\r\n\t\tdisplay: block;\r\n\t\tcontent: '';\r\n\t\tposition: absolute;\r\n\t\twidth: 100rpx;\r\n\t\theight: 2rpx;\r\n\t\ttop: 50%;\r\n\t\tbackground: #cccccc;\r\n\t}\r\n\r\n\t.haggle-content .title-2 text::before {\r\n\t\tleft: -120rpx;\r\n\t}\r\n\r\n\t.haggle-content .title-2 text::after {\r\n\t\tright: -120rpx;\r\n\t}\r\n\r\n\t.haggle-content .progress {\r\n\t\tpadding-top: 80rpx;\r\n\t\tmargin: 20rpx auto 0;\r\n\t\twidth: 80%;\r\n\t}\r\n\r\n\t.haggle-content .progress-box {\r\n\t\theight: 20rpx;\r\n\t\tbackground: #ECE4FF;\r\n\t\tborder-radius: 10rpx;\r\n\t\toverflow: hidden;\r\n\t}\r\n\r\n\t.haggle-content .progress-box-active {\r\n\t\theight: 20rpx;\r\n\t\tborder-radius: 10rpx;\r\n\t\tbackground: linear-gradient(90deg, #CEBBFF 0%, #723BFF 100%);\r\n\t}\r\n\r\n\t.haggle-content .progressState {\r\n\t\ttop: 0;\r\n\t\tleft: 0;\r\n\t\tpadding: 0 15rpx;\r\n\t\tposition: absolute;\r\n\t\twidth: 80rpx;\r\n\t\theight: 40rpx;\r\n\t\ttransform: translateX(-80rpx);\r\n\t\tline-height: 40rpx;\r\n\t\tborder-radius: 20rpx;\r\n\t\tfont-size: 26rpx;\r\n\t\ttext-align: center;\r\n\t\tbackground: #ECE4FF;\r\n\t\tcolor: #723BFF;\r\n\t}\r\n\r\n\t.haggle-content .progressState::after {\r\n\t\tposition: absolute;\r\n\t\tleft: 50%;\r\n\t\tmargin-left: -6rpx;\r\n\t\tdisplay: block;\r\n\t\tcontent: '';\r\n\t\tborder: 12rpx solid transparent;\r\n\t\tborder-top-color: #ECE4FF;\r\n\t}\r\n\r\n\r\n\t.haggle-content .btns button {\r\n\t\theight: 88rpx;\r\n\t\tline-height: 88rpx;\r\n\t\tborder-radius: 44rpx;\r\n\t\tbackground: #8D60FF;\r\n\t\tcolor: #ffffff;\r\n\t}\r\n\r\n\t.haggle-content .btns button.buy-btn {\r\n\t\tbackground: #F6AC0C;\r\n\t}\r\n\r\n\t.haggle-content .help-list .user image {\r\n\t\twidth: 60rpx;\r\n\t\theight: 60rpx;\r\n\t}\r\n\r\n\t.haggle .ad-datetime::v-deep .countdown {\r\n\t\tcolor: #FFFFFF;\r\n\t\tfont-size: 26rpx;\r\n\t\tmargin-top: 50rpx;\r\n\t}\r\n\r\n\t.haggle .ad-datetime::v-deep .box {\r\n\t\tpadding: 0 7rpx;\r\n\t\tmin-width: 50rpx;\r\n\t\tfont-size: 26rpx;\r\n\t\tborder-radius: 6rpx;\r\n\t\tbackground: #FFFFFF;\r\n\t\tcolor: #8207FF;\r\n\t}\r\n\r\n\t.haggle_btn_l {\r\n\t\twidth: 150rpx;\r\n\t\theight: 50rpx;\r\n\t\tline-height: 50rpx;\r\n\t\tborder: 1rpx solid #F6AC0C;\r\n\t\tfont-size: 26rpx;\r\n\t\tcolor: #E09900;\r\n\t\tborder-radius: 25rpx 0px 0px 25rpx;\r\n\t\ttext-align: center;\r\n\t}\r\n\r\n\t.haggle_btn_r {\r\n\t\t// width: 150rpx;\r\n\t\theight: 50rpx;\r\n\t\tpadding-right: 10rpx;\r\n\t\tline-height: 50rpx;\r\n\t\tborder: 1rpx solid #F6AC0C;\r\n\t\tbackground: #F6AC0C;\r\n\t\tborder-radius: 0px 25rpx 25rpx 0px;\r\n\t\tfont-size: 32rpx;\r\n\t\tcolor: #FFFFFF;\r\n\t\ttext-align: center;\r\n\t}\r\n\r\n\t.haggle-color {\r\n\t\tcolor: #723BFF;\r\n\t}\r\n</style>\n","import mod from \"-!../../../../../../HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../../../HBuilderX/plugins/uniapp-cli/node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!../../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-2!../../../../../../HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-3!../../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/sass-loader/dist/cjs.js??ref--8-oneOf-1-4!../../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-5!../../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./haggle.vue?vue&type=style&index=0&lang=scss&\"; export default mod; export * from \"-!../../../../../../HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../../../HBuilderX/plugins/uniapp-cli/node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!../../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-2!../../../../../../HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-3!../../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/sass-loader/dist/cjs.js??ref--8-oneOf-1-4!../../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-5!../../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./haggle.vue?vue&type=style&index=0&lang=scss&\""],"sourceRoot":""}