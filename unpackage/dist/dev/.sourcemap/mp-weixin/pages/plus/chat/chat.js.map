{"version":3,"sources":["webpack:///D:/working/舒服康/components/upload/upload.vue?c9fb","webpack:///D:/working/舒服康/components/upload/upload.vue?b13f","webpack:///D:/working/舒服康/components/upload/upload.vue?50db","webpack:///D:/working/舒服康/components/upload/upload.vue?3e3e","uni-app:///components/upload/upload.vue","uni-app:///main.js","webpack:///D:/working/舒服康/pages/plus/chat/chat.vue?00b3","webpack:///D:/working/舒服康/pages/plus/chat/chat.vue?0c24","webpack:///D:/working/舒服康/pages/plus/chat/chat.vue?67e0","webpack:///D:/working/舒服康/pages/plus/chat/chat.vue?8336","uni-app:///pages/plus/chat/chat.vue","webpack:///D:/working/舒服康/pages/plus/chat/chat.vue?b411"],"names":["renderjs","component","options","__file","components","render","_vm","this","_h","$createElement","_self","_c","recyclableRender","staticRenderFns","_withStripped","data","imageList","props","onLoad","mounted","methods","chooseImageFunc","uni","maxDuration","camera","success","console","arr","self","fail","count","sizeType","sourceType","complete","uploadFile","token","app_id","file_type","title","tempList","url","filePath","name","formData","i","wx","__webpack_require_UNI_MP_PLUGIN__","__webpack_require__","createPage","Page","l0","__map","content_list","item","index","$orig","__get_orig","m0","type","getJSON","content","m1","m2","m3","m4","m5","m6","m7","m8","m9","g0","is_order","order_chat","product","length","_isMounted","e0","$event","is_product","e1","$mp","Object","assign","$root","my_user_id","you_user_id","myavatarUrl","avatarUrl","phoneHeight","scrollviewHigh","style","pageHeight","contentViewHeight","footViewHeight","mitemHeight","isupload","scrollTop","img_path","product_id","productDetail","socketTask","is_open_socket","intervalId","page","nomore","scrollHeight","nickName","status","is_live","inputBottom","is_Ios","Upload","created","onShow","beforeDestroy","init","initData","socketInit","clearInterval","send","startHeart","supplier_user_id","user_id","shop_supplier_id","msg_type","closeSocket","send_content","icon","usertype","create_time","user","getNewcontent","client_id","getProduct","visitcode","getOrder","order_id","upload","getAvatarUrl","getImgsFunc","get_content_list","newquery","preview","image_path_arr","urls","current","indicator","scrollToBottom","query","res","setTimeout","sendProduct","product_name","product_img","product_price","params","sendOrder","order_num","order_price","order_no","newdata","inputFocus","inputBlur","isuserAgent","formatDate","hour","minute","second"],"mappings":"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ACA,oBAEA/F,mBACA,WACAU,wBACAA,sCACAA,yCACA,iBACAA,eAEAA,mCACAF,wBACA,eACAE,aAEAA,sBACAN,yBACAgB,0BAEA,yBAEA4E,yBACAxF,6BAEA,mBACA,iBAEAN,SAEA+F,gBACA,WACA7F,iBACAG,oBACAG,6BAEAA,mCAIAwF,oBACA,YACA,yBAEAC,sBACA,WACA,mBAGAzF,kBACAA,8BACAY,8EACAf,mBACAC,8BAIAE,iCACAF,oCACAE,oBAEAA,eAEAA,oCACAF,wBACAA,eACAE,yBAIAA,iCACAF,sBAEAE,kBACAA,oBACA0F,6BACA,+BAGAC,iBACA,WACA,iBACA3F,mBACAb,OACAU,wBAKAC,sBACAE,kBACAA,oBACA0F,4BACA1F,iBAGA4F,sBACA,WACA,kBACA9D,YACAtB,oBACAqF,+BACAC,qBACAC,oCACAC,aAEAhG,qCACAF,oBACAE,YACA,MAEAiG,uBACA,WACA,kBACAnE,aACAtB,oBACAqF,+BACAC,qBACAC,oCACAC,aAEAhG,UACAA,oBACAH,oBACAC,uBAEAG,iBACAH,yBAGAE,kBACAA,oBACA0F,6BAGAQ,wBACA,oBAKA,OAJAxG,aACAgB,kBACAyF,eAEA,EAEA,WACA,kBACAN,kCACAC,wBACAC,uCACAC,WACAI,gBACAtE,OACAE,qBACAxB,yBAEA,gBACA,GACAwF,WACAhE,kBACA8D,2BACAhE,YACAuE,2BACAC,MACA3C,0BAGA,kEACA,2BACA,yBAEA7D,eACAE,UACAA,cAEAuG,0BACA,yBAgBA,GAfA,gCACA,iBACAzG,oBACAJ,yBACAgB,8BAGA,+BACA,iBACAZ,oBACAJ,yBACAgB,8BAGAZ,eACA,iDACA,OACAkC,kBACA8D,2BACAhE,YACAkE,WACAM,MACA3C,2BAGA7D,oBACA,kEACA,2BACA,yBAIA,mBACA,WACAE,QACA,6BACAwG,sBACAX,iCAGA,YACA,qCAMA,sCACA7F,cACAF,oBACAJ,yBACAgB,4BATAV,cACAF,oBACAJ,yBACAgB,2BASAZ,iCAKA2G,sBACA,WACAzG,OACA,0BACAsE,wBACA1D,OACA8F,6BAEA,YACA1G,gBACAA,yDACA8B,UAEA9B,kCAIA2G,oBACA,WACA3G,OACA,qBACA4G,sBAEA,YACA5G,cACAA,yDACA8B,UAEA9B,8BAIA6G,mBACA,YACA,kBAEAC,wBACA,WACA9G,yCACAA,OACA,0BACA8F,qBACAC,sCAEA,YACA/F,6BACAA,oCACAA,sBACAA,wBACAA,sBAKA+G,wBACA,WACA,wBACA,6BACA,sBACAlB,kCACAC,wBACAC,uCACAC,WACAI,gBACAtE,OACAE,mBACAxB,yBAEA,gBACA,GACAwB,kBACA8D,2BACAhE,YACAkE,WACAK,2BACAC,MACA3C,0BAGA,kEACA3D,UACAA,wBACAA,sBAGA,kBAGAgH,4BACA,WACAtH,eACAgB,cAEAV,kCAEA2E,YACAkB,iCACA,YACA/F,4BACA,iCACAE,yEACAF,4BACA,gCACAE,aAEA,UACAA,wBACAA,sBAGAA,wBACA,oCACAiH,kEACAnH,eACAE,uCACA,UAGAN,oBAIAwH,sBACA,IACA,KACA,IACAC,UACA,UACAzH,gBACA0H,OACAC,UACAC,uBAGAC,0BACA,WACA,0BACAC,4CACAA,6CACAA,oBACAxH,sBACAyH,0BAAA,wDACA,MACAC,uBACA,oDACA1H,0DACA,OAEA,SAGA2H,uBACA,WACA3H,gBACA,OACA4H,0CACAC,0CACAC,6CAEAC,oBACA,sBACAlC,kCACAC,wBACAC,uCACAC,WACAI,gBACApE,UACAF,OACAtB,yBAEA,gBACA,GACAwB,kBACA8D,2BACAO,2BACAvE,YACAkE,WACAM,MACA3C,0BAGA,kEACA3D,UACAA,wBACAA,uBAGAgI,qBACA,WACAhI,gBACA,OACAiI,sCACAC,qCACAC,+BACA9B,qCACAO,+BACAgB,kDACAC,qDAEAE,oBACA,sBACAlC,kCACAC,wBACAC,uCACAC,WACAI,gBACApE,UACAF,OACAtB,yBAEA,gBACA,GACAwB,kBACA8D,2BACAO,2BACAvE,YACAkE,WACAM,MACA3C,0BAGA,kEACA3D,UACAA,wBACAA,uBAGA+B,oBACA,sBAEAqG,mBAAA,WAEA,YACA,uCACAZ,kEACA,2BACA,OACA,yBAEAa,uBACA,kCAEAC,qBACA,oBAEAC,uBACA,WACA,uCACA,cACAvI,YACAF,0BACA,MACA,UACAA,sBACA,MACA,QACAA,yBACA,QAGA0I,sBACA,eACA,kBACA,iBACA,cAGA,GAFA,WAEA,cACAC,eACA,qBACAC,eACA,qBAEA,OADAC,eACA,sFAGA,c,6DC/pBA,yHAAy5B,eAAG,G","file":"pages/plus/chat/chat.js","sourcesContent":["import { render, staticRenderFns, recyclableRender, components } from \"./upload.vue?vue&type=template&id=33ebcd24&\"\nvar renderjs\nimport script from \"./upload.vue?vue&type=script&lang=js&\"\nexport * from \"./upload.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null,\n  false,\n  components,\n  renderjs\n)\n\ncomponent.options.__file = \"components/upload/upload.vue\"\nexport default component.exports","export * from \"-!../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--17-0!../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/template.js!../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-uni-app-loader/page-meta.js!../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./upload.vue?vue&type=template&id=33ebcd24&\"","var components\nvar render = function () {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n}\nvar recyclableRender = false\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns, recyclableRender, components }","import mod from \"-!../../../../HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--13-1!../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./upload.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--13-1!../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./upload.vue?vue&type=script&lang=js&\"","<template>\r\n\t<view></view>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n\tdata() {\r\n\t\treturn {\r\n\t\t\t/*需要返回的图片*/\r\n\t\t\timageList: []\r\n\t\t};\r\n\t},\r\n\tprops: ['num', 'isVideo'],\r\n\tonLoad() {},\r\n\tmounted() {\r\n\t\tthis.chooseImageFunc();\r\n\t},\r\n\tmethods: {\r\n\t\t/*打开相机或者相册，选择图片*/\r\n\t\tchooseImageFunc() {\r\n\t\t\tlet self = this;\r\n\t\t\tif (this.isVideo) {\r\n\t\t\t\tuni.chooseVideo({\r\n\t\t\t\t\t// 来源相册或者拍摄\r\n\t\t\t\t\tmaxDuration: 60,\r\n\t\t\t\t\t// 设置最长时间60s\r\n\t\t\t\t\tcamera: 'back',\r\n\t\t\t\t\t// 后置摄像头\r\n\t\t\t\t\tsuccess: res => {\r\n\t\t\t\t\t\tconsole.log(res);\r\n\t\t\t\t\t\tif (res) {\r\n\t\t\t\t\t\t\tlet arr = [];\r\n\t\t\t\t\t\t\tarr.push(res.tempFilePath);\r\n\t\t\t\t\t\t\tconsole.log(arr);\r\n\t\t\t\t\t\t\tself.uploadFile(arr);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t},\r\n\t\t\t\t\tfail(err) {\r\n\t\t\t\t\t\tconsole.log(err);\r\n\t\t\t\t\t\tself.$emit('getImgs', null);\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\t\t} else {\r\n\t\t\t\tuni.chooseImage({\r\n\t\t\t\t\tcount: self.num || 9, //默认9\r\n\t\t\t\t\tsizeType: ['original', 'compressed'], //可以指定是原图还是压缩图，默认二者都有\r\n\t\t\t\t\tsourceType: ['album', 'camera'], //从相册选择\r\n\t\t\t\t\tsuccess: function(res) {\r\n\t\t\t\t\t\tself.uploadFile(res.tempFilePaths);\r\n\t\t\t\t\t},\r\n\t\t\t\t\tfail: function(res) {\r\n\t\t\t\t\t\tself.$emit('getImgs', null);\r\n\t\t\t\t\t},\r\n\t\t\t\t\tcomplete: function(res) {}\r\n\t\t\t\t});\r\n\t\t\t}\r\n\t\t},\r\n\r\n\t\t/*上传图片*/\r\n\t\tuploadFile: function(tempList) {\r\n\t\t\tlet self = this;\r\n\t\t\tlet i = 0;\r\n\t\t\tlet img_length = tempList.length;\r\n\t\t\tlet params = {\r\n\t\t\t\ttoken: uni.getStorageSync('token'),\r\n\t\t\t\tapp_id: self.getAppId(),\r\n\t\t\t\tfile_type: self.isVideo ? 'video' : 'image'\r\n\t\t\t};\r\n\t\t\tuni.showLoading({\r\n\t\t\t\ttitle: '上传中'\r\n\t\t\t});\r\n\t\t\ttempList.forEach(function(filePath, fileKey) {\r\n\t\t\t\tuni.uploadFile({\r\n\t\t\t\t\turl: self.websiteUrl + '/index.php?s=/api/file.upload/image',\r\n\t\t\t\t\tfilePath: filePath,\r\n\t\t\t\t\tname: 'iFile',\r\n\t\t\t\t\tformData: params,\r\n\t\t\t\t\tsuccess: function(res) {\r\n\t\t\t\t\t\tlet result = typeof res.data === 'object' ? res.data : JSON.parse(res.data);\r\n\t\t\t\t\t\tif (result.code === -1) {\r\n\t\t\t\t\t\t\t// 登录态失效, 重新登录\r\n\t\t\t\t\t\t\tconsole.log('登录态失效, 重新登录');\r\n\t\t\t\t\t\t\tself.doLogin();\r\n\t\t\t\t\t\t\treturn\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tif (result.code === 1) {\r\n\t\t\t\t\t\t\tself.imageList.push(result.data);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t},\r\n\t\t\t\t\tcomplete: function() {\r\n\t\t\t\t\t\ti++;\r\n\t\t\t\t\t\tif (img_length === i) {\r\n\t\t\t\t\t\t\tuni.hideLoading();\r\n\t\t\t\t\t\t\t// 所有文件上传完成\r\n\t\t\t\t\t\t\tself.$emit('getImgs', self.imageList);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\t\t});\r\n\t\t}\r\n\t}\r\n};\r\n</script>\r\n\r\n<style></style>\n","import 'uni-pages';\n// @ts-ignore\nwx.__webpack_require_UNI_MP_PLUGIN__ = __webpack_require__;\nimport Vue from 'vue'\nimport Page from './pages/plus/chat/chat.vue'\ncreatePage(Page)","import { render, staticRenderFns, recyclableRender, components } from \"./chat.vue?vue&type=template&id=2adcf533&\"\nvar renderjs\nimport script from \"./chat.vue?vue&type=script&lang=js&\"\nexport * from \"./chat.vue?vue&type=script&lang=js&\"\nimport style0 from \"./chat.vue?vue&type=style&index=0&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null,\n  false,\n  components,\n  renderjs\n)\n\ncomponent.options.__file = \"pages/plus/chat/chat.vue\"\nexport default component.exports","export * from \"-!../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--17-0!../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/template.js!../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-uni-app-loader/page-meta.js!../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./chat.vue?vue&type=template&id=2adcf533&\"","var components\nvar render = function () {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n  var l0 = _vm.__map(_vm.content_list, function (item, index) {\n    var $orig = _vm.__get_orig(item)\n    var m0 = item.type == 2 ? _vm.getJSON(item.content) : null\n    var m1 = item.type == 2 ? _vm.getJSON(item.content) : null\n    var m2 = item.type == 2 ? _vm.getJSON(item.content) : null\n    var m3 = item.type == 3 ? _vm.getJSON(item.content) : null\n    var m4 = item.type == 3 ? _vm.getJSON(item.content) : null\n    var m5 = item.type == 3 ? _vm.getJSON(item.content) : null\n    var m6 = item.type == 3 ? _vm.getJSON(item.content) : null\n    var m7 = item.type == 3 ? _vm.getJSON(item.content) : null\n    var m8 = item.type == 3 ? _vm.getJSON(item.content) : null\n    var m9 = item.type == 3 ? _vm.getJSON(item.content) : null\n    var g0 =\n      item.type == 5 && _vm.is_order ? _vm.order_chat.product.length : null\n    return {\n      $orig: $orig,\n      m0: m0,\n      m1: m1,\n      m2: m2,\n      m3: m3,\n      m4: m4,\n      m5: m5,\n      m6: m6,\n      m7: m7,\n      m8: m8,\n      m9: m9,\n      g0: g0,\n    }\n  })\n  if (!_vm._isMounted) {\n    _vm.e0 = function ($event) {\n      _vm.is_product = false\n    }\n    _vm.e1 = function ($event) {\n      _vm.is_order = false\n    }\n  }\n  _vm.$mp.data = Object.assign(\n    {},\n    {\n      $root: {\n        l0: l0,\n      },\n    }\n  )\n}\nvar recyclableRender = false\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns, recyclableRender, components }","import mod from \"-!../../../../../HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--13-1!../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./chat.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--13-1!../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./chat.vue?vue&type=script&lang=js&\"","<template>\r\n\t<view class=\"im_interface\">\r\n\t\t<scroll-view id=\"scrollview\" scroll-y=\"true\" :style=\"'height: '+scrollviewHigh + 'px'\" :scroll-with-animation=\"true\"\r\n\t\t :scroll-top=\"scrollTop\" @scrolltoupper='newdata'>\r\n\r\n\t\t\t<view class=\"im_interface_content\" ref='container'>\r\n\t\t\t\t<view :class=\"item.msg_type == 2?'im_text':'im_text2'\" class=\"m-item\" v-for=\"(item,index) in content_list\" :key=\"index\">\r\n\t\t\t\t\t<image v-if=\"item.type!=4&&item.type!='off'&&item.type!=3\" class=\"avatar\" :src=\"item.msg_type == 2?item.user.avatarUrl:avatarUrl\"\r\n\t\t\t\t\t mode=\"\"></image>\r\n\t\t\t\t\t<view>\r\n\t\t\t\t\t\t<view class=\"my_date\">{{item.create_time}}</view>\r\n\t\t\t\t\t\t<view v-if=\"item.type==0\" :class=\"item.msg_type == 2?'my_content my_text_content':'you_content you_text_content'\">\r\n\t\t\t\t\t\t\t{{item.content}}\r\n\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t<view v-if=\"item.type==1\" :class=\"item.msg_type == 2?'my_content':'you_content'\">\r\n\t\t\t\t\t\t\t<image @click=\"preview(item.content,0)\" class=\"cont_img\" :src=\"item.content\" mode=\"\">\r\n\t\t\t\t\t\t\t</image>\r\n\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t<view v-if=\"item.type==2\" :class=\"item.msg_type == 2?'my_content':'you_content'\">\r\n\t\t\t\t\t\t\t<view class=\"product_txtitem\">\r\n\t\t\t\t\t\t\t\t<view>\r\n\t\t\t\t\t\t\t\t\t<image class=\"pro_img\" :src=\"getJSON(item.content).product_img\" mode=\"\"></image>\r\n\t\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t\t<view>\r\n\t\t\t\t\t\t\t\t\t<view class=\"pro_txtname\">{{getJSON(item.content).product_name}}</view>\r\n\t\t\t\t\t\t\t\t\t<view class=\"pro_price\">￥{{getJSON(item.content).product_price}}</view>\r\n\t\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t<view v-if=\"item.type==3\" :class=\"item.msg_type == 2?'my_content':'you_content'\">\r\n\t\t\t\t\t\t\t<view class=\"o-h\">\r\n\t\t\t\t\t\t\t\t<view class=\"fb mb20\">\r\n\t\t\t\t\t\t\t\t\t你正在咨询的订单\r\n\t\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t\t<view class=\"product_txtitem mb20\">\r\n\t\t\t\t\t\t\t\t\t<view>\r\n\t\t\t\t\t\t\t\t\t\t<image class=\"pro_img\" :src=\"getJSON(item.content).product_img\" mode=\"\"></image>\r\n\t\t\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t\t\t<view>\r\n\t\t\t\t\t\t\t\t\t\t<view class=\"pro_txtname\">{{getJSON(item.content).product_name}}</view>\r\n\t\t\t\t\t\t\t\t\t\t<view class=\"f24 gray6\">\r\n\t\t\t\t\t\t\t\t\t\t\t共计{{getJSON(item.content).order_num}}件商品：合计￥{{getJSON(item.content).order_price}}\r\n\t\t\t\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t\t<view class=\"f24 gray6 \">订单号{{getJSON(item.content).order_no}}</view>\r\n\t\t\t\t\t\t\t\t<view class=\"f24 gray6 \">创建时间{{getJSON(item.content).create_time}}</view>\r\n\t\t\t\t\t\t\t\t<button class=\"orderdetail_btn\" @click=\"gotoPage('/pages/order/order-detail?order_id='+getJSON(item.content).order_id)\">查看</button>\r\n\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t<view v-if=\"item.type==4\">\r\n\t\t\t\t\t\t\t<view class=\"top_pro\">\r\n\t\t\t\t\t\t\t\t<view class=\"top_product\" v-if=\"is_product\">\r\n\t\t\t\t\t\t\t\t\t<view>\r\n\t\t\t\t\t\t\t\t\t\t<image class=\"pro_img\" :src=\"productDetail.product_image\" mode=\"\"></image>\r\n\t\t\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t\t\t<view>\r\n\t\t\t\t\t\t\t\t\t\t<view class=\"pro_name\">{{productDetail.product_name}}</view>\r\n\t\t\t\t\t\t\t\t\t\t<view class=\"pro_price sendpro_price\">￥{{productDetail.product_price}}</view>\r\n\t\t\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t\t\t<button class=\"pro_btn\" @click=\"sendProduct\">发送商家</button>\r\n\t\t\t\t\t\t\t\t\t<view class=\"close_pro\" @click=\"is_product=false\"><text class=\"icon iconfont icon-guanbi\"></text></view>\r\n\t\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t<view v-if=\"item.type==5\">\r\n\t\t\t\t\t\t\t<view class=\"top_pro\">\r\n\t\t\t\t\t\t\t\t<view class=\"top_order\" v-if=\"is_order\">\r\n\t\t\t\t\t\t\t\t\t<view>\r\n\t\t\t\t\t\t\t\t\t\t<image class=\"pro_img\" :src=\"order_chat.product[0].image.file_path\" mode=\"\">\r\n\t\t\t\t\t\t\t\t\t\t</image>\r\n\t\t\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t\t\t<view>\r\n\t\t\t\t\t\t\t\t\t\t<view class=\"pro_name mb20\">你可能想咨询该订单</view>\r\n\t\t\t\t\t\t\t\t\t\t<view class=\"f24 gray6 sendord_price\">\r\n\t\t\t\t\t\t\t\t\t\t\t共{{order_chat.product.length}}件商品:合计￥{{order_chat.order_price}}</view>\r\n\t\t\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t\t\t<button class=\"ord_btn\" @click=\"sendOrder\">发送订单</button>\r\n\t\t\t\t\t\t\t\t\t<view class=\"close_pro\" @click=\"is_order=false\"><text class=\"icon iconfont icon-guanbi\"></text></view>\r\n\t\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t</view>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t</view>\r\n\t\t\t</view>\r\n\t\t\t<view style=\"width: 100%;height: 130rpx;\"></view>\r\n\t\t</scroll-view>\r\n\r\n\t\t<view class=\"buttom\" :style=\"'bottom:' +inputBottom+'px;'\">\r\n\t\t\t<input type=\"text\" v-model=\"content\" @confirm=\"send_content()\" confirm-type=\"send\" @focus=\"inputFocus\" @blur=\"inputBlur\"\r\n\t\t\t :adjust-position=\"false\" placeholder=\"请输入.....\" />\r\n\t\t\t<view class=\"upload_box\">\r\n\t\t\t\t<view class=\"upload\" @click=\"upload('license')\"><text class=\"icon iconfont icon-jingmeihaibao\" style=\"color: #FFFFFF;\"></text></view>\r\n\t\t\t\t<!-- #ifdef APP-PLUS -->\r\n\t\t\t\t<button v-if=\"!is_Ios\" @click=\"send_content()\">发送</button>\r\n\t\t\t\t<!-- #endif -->\r\n\t\t\t</view>\r\n\t\t</view>\r\n\r\n\t\t<Upload v-if=\"isupload\" :isupload=\"isupload\" :type=\"type\" @getImgs=\"getImgsFunc\">上传图片</Upload>\r\n\t</view>\r\n</template>\r\n\r\n<script>\r\n\timport Upload from '@/components/upload/upload';\r\n\texport default {\r\n\t\tdata() {\r\n\t\t\treturn {\r\n\t\t\t\tmy_user_id: '', //我的user_id\r\n\t\t\t\tyou_user_id: '', //对方的supplier_user_id\r\n\t\t\t\tmyavatarUrl: '',\r\n\t\t\t\tavatarUrl: '',\r\n\t\t\t\tphoneHeight: 0,\r\n\t\t\t\t/*可滚动视图区域高度*/\r\n\t\t\t\tscrollviewHigh: 0,\r\n\t\t\t\tcontent: '', //用户输入的内容\r\n\t\t\t\tcontent_list: [], //聊天信息数据\r\n\t\t\t\tstyle: {\r\n\t\t\t\t\tpageHeight: 0,\r\n\t\t\t\t\tcontentViewHeight: 0,\r\n\t\t\t\t\tfootViewHeight: 90,\r\n\t\t\t\t\tmitemHeight: 0\r\n\t\t\t\t},\r\n\t\t\t\tisupload: false,\r\n\t\t\t\ttype: 'license',\r\n\t\t\t\tscrollTop: 0,\r\n\t\t\t\timg_path: '',\r\n\t\t\t\tis_product: false,\r\n\t\t\t\tproduct_id: 0,\r\n\t\t\t\tproductDetail: {},\r\n\t\t\t\tsocketTask: null,\r\n\t\t\t\t// 确保websocket是打开状态\r\n\t\t\t\tis_open_socket: false,\r\n\t\t\t\t// 心跳定时器\r\n\t\t\t\tintervalId: null,\r\n\t\t\t\tpage: 1,\r\n\t\t\t\tnomore: false,\r\n\t\t\t\tscrollHeight: 0,\r\n\t\t\t\tnickName: '',\r\n\t\t\t\turl: '',\r\n\t\t\t\tstatus: '离线',\r\n\t\t\t\t/* 初次进入 */\r\n\t\t\t\tis_live: false,\r\n\t\t\t\tinputBottom: 0,\r\n\t\t\t\tis_Ios: true,\r\n\t\t\t\torder_chat: {},\r\n\t\t\t\tis_order: false\r\n\t\t\t}\r\n\t\t},\r\n\t\tcomponents: {\r\n\t\t\t/*编辑组件*/\r\n\t\t\tUpload\r\n\t\t},\r\n\t\tcreated() {\r\n\t\t\tlet self = this;\r\n\t\t\tconst res = uni.getSystemInfoSync(); //获取手机可使用窗口高度     api为获取系统信息同步接口\r\n\t\t\tthis.style.pageHeight = res.windowHeight;\r\n\t\t\tthis.style.contentViewHeight = res.windowHeight - uni.getSystemInfoSync().screenWidth / 750 * (100) - 70; //像素\r\n\t\t},\r\n\t\tonShow() {\r\n\t\t\tthis.getAvatarUrl();\r\n\t\t\tthis.init();\r\n\t\t\tthis.isuserAgent();\r\n\t\t},\r\n\t\tonLoad(option) {\r\n\t\t\tlet self = this;\r\n\t\t\tself.you_user_id = option.user_id;\r\n\t\t\tself.shop_supplier_id = option.shop_supplier_id;\r\n\t\t\tself.product_id = option.product_id ? option.product_id : 0;\r\n\t\t\tif (self.product_id != 0) {\r\n\t\t\t\tself.getProduct()\r\n\t\t\t}\r\n\t\t\tself.order_id = option.order_id ? option.order_id : 0;\r\n\t\t\tconsole.log(self.order_id)\r\n\t\t\tif (self.order_id != 0) {\r\n\t\t\t\tself.getOrder()\r\n\t\t\t}\r\n\t\t\tself.nickName = option.nickName;\r\n\t\t\tuni.setNavigationBarTitle({\r\n\t\t\t\ttitle: self.nickName + '(离线)'\r\n\t\t\t})\r\n\t\t\tthis.get_content_list();\r\n\t\t},\r\n\t\tbeforeDestroy() {\r\n\t\t\tconsole.log('beforeDestroy');\r\n\t\t\t// 销毁监听\r\n\t\t\tthis.closeSocket();\r\n\t\t\tthis.is_live = true;\r\n\t\t},\r\n\t\tmethods: {\r\n\t\t\t/*初始化*/\r\n\t\t\tinit() {\r\n\t\t\t\tlet self = this;\r\n\t\t\t\tuni.getSystemInfo({\r\n\t\t\t\t\tsuccess(res) {\r\n\t\t\t\t\t\tself.phoneHeight = res.windowHeight;\r\n\t\t\t\t\t\t// 计算组件的高度\r\n\t\t\t\t\t\tself.scrollviewHigh = self.phoneHeight;\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\t\t},\r\n\t\t\tinitData() {\r\n\t\t\t\tthis.page++;\r\n\t\t\t\tthis.get_content_list();\r\n\t\t\t},\r\n\t\t\tsocketInit() {\r\n\t\t\t\tlet self = this;\r\n\t\t\t\tif(self.is_open_socket){\r\n\t\t\t\t\treturn;\r\n\t\t\t\t}\r\n\t\t\t\tself.socketTask = null;\r\n\t\t\t\tself.socketTask = uni.connectSocket({\r\n\t\t\t\t\turl: self.url + '/socket?user_id=' + self.getUserId() + '&usertype=user' + '&to=' + self.you_user_id,\r\n\t\t\t\t\tsuccess() {\r\n\t\t\t\t\t\tconsole.log('Socket连接成功！');\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\t\t\t// 消息的发送和接收必须在正常连接打开中,才能发送或接收【否则会失败】\r\n\t\t\t\tself.socketTask.onOpen((res) => {\r\n\t\t\t\t\tconsole.log(\"WebSocket连接正常打开中...！\");\r\n\t\t\t\t\tself.is_open_socket = true;\r\n\t\t\t\t\t// 开始发送心跳\r\n\t\t\t\t\tself.startHeart();\r\n\t\t\t\t\t// 注：只有连接正常打开中 ，才能正常收到消息\r\n\t\t\t\t\tself.socketTask.onMessage(function(res) {\r\n\t\t\t\t\t\tconsole.log(\"收到服务器内容：\");\r\n\t\t\t\t\t\tconsole.log(res);\r\n\t\t\t\t\t\tself.getNewcontent(res);\r\n\t\t\t\t\t});\r\n\t\t\t\t});\r\n\t\t\t\t// 这里仅是事件监听【如果socket关闭了会执行】\r\n\t\t\t\tself.socketTask.onClose(() => {\r\n\t\t\t\t\tconsole.log(\"已经被关闭了\");\r\n\t\t\t\t\t//重连机制\r\n\t\t\t\t\tself.socketTask = null;\r\n\t\t\t\t\tself.is_open_socket = false;\r\n\t\t\t\t\tclearInterval(self.intervalId);\r\n\t\t\t\t\t!self.is_live && self.socketInit();\r\n\t\t\t\t});\r\n\t\t\t},\r\n\t\t\tsend: function(data) {\r\n\t\t\t\tlet self = this;\r\n\t\t\t\tif (self.is_open_socket) {\r\n\t\t\t\t\tself.socketTask.send({\r\n\t\t\t\t\t\tdata: data,\r\n\t\t\t\t\t\tsuccess() {\r\n\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t});\r\n\t\t\t\t} else {\r\n\t\t\t\t\tconsole.log(\"处于离线状态\");\r\n\t\t\t\t\tself.socketTask = null;\r\n\t\t\t\t\tself.is_open_socket = false;\r\n\t\t\t\t\tclearInterval(self.intervalId);\r\n\t\t\t\t\tself.socketInit();\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\tstartHeart() {\r\n\t\t\t\tlet self = this;\r\n\t\t\t\tlet data = JSON.stringify({\r\n\t\t\t\t\ttype: 'ping',\r\n\t\t\t\t\tapp_id: self.getAppId(),\r\n\t\t\t\t\tsupplier_user_id: self.you_user_id,\r\n\t\t\t\t\tuser_id: self.my_user_id,\r\n\t\t\t\t\tshop_supplier_id: self.shop_supplier_id,\r\n\t\t\t\t\tmsg_type: 2\r\n\t\t\t\t});\r\n\t\t\t\tself.intervalId = setInterval(function() {\r\n\t\t\t\t\tconsole.log('发送心跳');\r\n\t\t\t\t\tself.send(data);\r\n\t\t\t\t}, 10000);\r\n\t\t\t},\r\n\t\t\tcloseSocket: function() {\r\n\t\t\t\tlet self = this;\r\n\t\t\t\tlet data = JSON.stringify({\r\n\t\t\t\t\ttype: 'close',\r\n\t\t\t\t\tapp_id: self.getAppId(),\r\n\t\t\t\t\tsupplier_user_id: self.you_user_id,\r\n\t\t\t\t\tuser_id: self.my_user_id,\r\n\t\t\t\t\tshop_supplier_id: self.shop_supplier_id,\r\n\t\t\t\t\tmsg_type: 2,\r\n\t\t\t\t});\r\n\t\t\t\tself.send(data);\r\n\t\t\t\tself.socketTask.close({\r\n\t\t\t\t\tsuccess(res) {\r\n\t\t\t\t\t\tconsole.log(\"关闭成功\", res)\r\n\t\t\t\t\t},\r\n\t\t\t\t\tfail(err) {\r\n\t\t\t\t\t\tconsole.log(\"关闭失败\", err)\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\t\t\tself.socketTask = null;\r\n\t\t\t\tself.is_open_socket = false;\r\n\t\t\t\tclearInterval(self.intervalId);\r\n\t\t\t},\r\n\t\t\t// 发送消息\r\n\t\t\tsend_content() {\r\n\t\t\t\tif (this.content == '') {\r\n\t\t\t\t\tuni.showToast({\r\n\t\t\t\t\t\ttitle: '发送内容不能为空！',\r\n\t\t\t\t\t\ticon: 'none'\r\n\t\t\t\t\t})\r\n\t\t\t\t\treturn false\r\n\t\t\t\t}\r\n\t\t\t\tlet self = this;\r\n\t\t\t\tlet data = JSON.stringify({\r\n\t\t\t\t\tsupplier_user_id: this.you_user_id,\r\n\t\t\t\t\tuser_id: this.my_user_id,\r\n\t\t\t\t\tshop_supplier_id: this.shop_supplier_id,\r\n\t\t\t\t\tmsg_type: 2,\r\n\t\t\t\t\tusertype: 'user',\r\n\t\t\t\t\ttype: 0,\r\n\t\t\t\t\tcontent: this.content,\r\n\t\t\t\t\tapp_id: this.getAppId()\r\n\t\t\t\t})\r\n\t\t\t\tlet newdata = JSON.parse(data)\r\n\t\t\t\tlet item = {\r\n\t\t\t\t\tmsg_type: 2,\r\n\t\t\t\t\tcontent: newdata.content,\r\n\t\t\t\t\tuser_id: newdata.supplier_user_id,\r\n\t\t\t\t\ttype: newdata.type,\r\n\t\t\t\t\tcreate_time: self.formatDate(),\r\n\t\t\t\t\tuser: {\r\n\t\t\t\t\t\tavatarUrl: self.myavatarUrl\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\tthis.content_list = [...this.content_list, item];\r\n\t\t\t\tthis.$nextTick(function() {\r\n\t\t\t\t\tthis.scrollToBottom()\r\n\t\t\t\t})\r\n\t\t\t\tconsole.log(data)\r\n\t\t\t\tself.send(data);\r\n\t\t\t\tself.content = '';\r\n\t\t\t},\r\n\t\t\tgetNewcontent(res) {\r\n\t\t\t\tlet newdata = JSON.parse(res.data);\r\n\t\t\t\tif (newdata.Online == 'off' && !this.is_live) {\r\n\t\t\t\t\tthis.status = '离线';\r\n\t\t\t\t\tconsole.log(\"对方离线\")\r\n\t\t\t\t\tuni.setNavigationBarTitle({\r\n\t\t\t\t\t\ttitle: this.nickName + '(离线)'\r\n\t\t\t\t\t})\r\n\t\t\t\t}\r\n\t\t\t\tif (newdata.Online == 'on' && !this.is_live) {\r\n\t\t\t\t\tthis.status = '在线';\r\n\t\t\t\t\tconsole.log(\"对方在线\")\r\n\t\t\t\t\tuni.setNavigationBarTitle({\r\n\t\t\t\t\t\ttitle: this.nickName + '(在线)'\r\n\t\t\t\t\t})\r\n\t\t\t\t}\r\n\t\t\t\tconsole.log(newdata)\r\n\t\t\t\tif (newdata.supplier_user_id == this.you_user_id && newdata.content) {\r\n\t\t\t\t\tlet item = {\r\n\t\t\t\t\t\tcontent: newdata.content,\r\n\t\t\t\t\t\tuser_id: newdata.supplier_user_id,\r\n\t\t\t\t\t\ttype: newdata.type,\r\n\t\t\t\t\t\tmsg_type: 1,\r\n\t\t\t\t\t\tuser: {\r\n\t\t\t\t\t\t\tavatarUrl: this.avatarUrl\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t\tconsole.log(\"解析数据\");\r\n\t\t\t\t\tthis.content_list = [...this.content_list, item];\r\n\t\t\t\t\tthis.$nextTick(function() {\r\n\t\t\t\t\t\tthis.scrollToBottom()\r\n\t\t\t\t\t})\r\n\t\t\t\t}\r\n\t\t\t\t//绑定用户\r\n\t\t\t\tif (newdata.type == 'init') {\r\n\t\t\t\t\tlet self = this;\r\n\t\t\t\t\tself._post(\r\n\t\t\t\t\t\t'plus.chat.chat/bindClient', {\r\n\t\t\t\t\t\t\tclient_id: newdata.client_id,\r\n\t\t\t\t\t\t\tsupplier_user_id: self.you_user_id,\r\n\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t\tfunction(res) {\r\n\t\t\t\t\t\t\tif (res.data.data.Online == 'off' && !self.is_live) {\r\n\t\t\t\t\t\t\t\tself.status = '离线';\r\n\t\t\t\t\t\t\t\tconsole.log(\"对方离线\")\r\n\t\t\t\t\t\t\t\tuni.setNavigationBarTitle({\r\n\t\t\t\t\t\t\t\t\ttitle: self.nickName + '(离线)'\r\n\t\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t} else if (res.data.data.Online == 'on' && !self.is_live) {\r\n\t\t\t\t\t\t\t\tself.status = '在线';\r\n\t\t\t\t\t\t\t\tconsole.log(\"对方在线\")\r\n\t\t\t\t\t\t\t\tuni.setNavigationBarTitle({\r\n\t\t\t\t\t\t\t\t\ttitle: self.nickName + '(在线)'\r\n\t\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\tconsole.log(\"init---绑定uid\")\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t);\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\tgetProduct() {\r\n\t\t\t\tlet self = this;\r\n\t\t\t\tself._get(\r\n\t\t\t\t\t'product.product/detail', {\r\n\t\t\t\t\t\tproduct_id: self.product_id,\r\n\t\t\t\t\t\turl: '',\r\n\t\t\t\t\t\tvisitcode: self.getVisitcode()\r\n\t\t\t\t\t},\r\n\t\t\t\t\tfunction(res) {\r\n\t\t\t\t\t\tself.is_product = true;\r\n\t\t\t\t\t\tself.content_list = [...self.content_list, {\r\n\t\t\t\t\t\t\ttype: 4\r\n\t\t\t\t\t\t}];\r\n\t\t\t\t\t\tself.productDetail = res.data.detail;\r\n\t\t\t\t\t}\r\n\t\t\t\t);\r\n\t\t\t},\r\n\t\t\tgetOrder() {\r\n\t\t\t\tlet self = this;\r\n\t\t\t\tself._get(\r\n\t\t\t\t\t'user.order/detail', {\r\n\t\t\t\t\t\torder_id: self.order_id\r\n\t\t\t\t\t},\r\n\t\t\t\t\tfunction(res) {\r\n\t\t\t\t\t\tself.is_order = true;\r\n\t\t\t\t\t\tself.content_list = [...self.content_list, {\r\n\t\t\t\t\t\t\ttype: 5\r\n\t\t\t\t\t\t}];\r\n\t\t\t\t\t\tself.order_chat = res.data.order;\r\n\t\t\t\t\t}\r\n\t\t\t\t);\r\n\t\t\t},\r\n\t\t\tupload(e) {\r\n\t\t\t\tthis.type = e;\r\n\t\t\t\tthis.isupload = true;\r\n\t\t\t},\r\n\t\t\tgetAvatarUrl() {\r\n\t\t\t\tlet self = this;\r\n\t\t\t\tself.my_user_id = uni.getStorageSync('user_id')\r\n\t\t\t\tself._get(\r\n\t\t\t\t\t'plus.chat.chat/getInfo', {\r\n\t\t\t\t\t\tuser_id: self.my_user_id,\r\n\t\t\t\t\t\tshop_supplier_id: self.shop_supplier_id\r\n\t\t\t\t\t},\r\n\t\t\t\t\tfunction(res) {\r\n\t\t\t\t\t\tself.avatarUrl = res.data.info.logo;\r\n\t\t\t\t\t\tself.myavatarUrl = res.data.info.avatarUrl;\r\n\t\t\t\t\t\tself.url = res.data.info.url;\r\n\t\t\t\t\t\tself.$nextTick(function() {\r\n\t\t\t\t\t\t\tself.socketInit();\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t}\r\n\t\t\t\t);\r\n\t\t\t},\r\n\t\t\tgetImgsFunc(e) {\r\n\t\t\t\tlet self = this;\r\n\t\t\t\tif (e != null && e.length > 0) {\r\n\t\t\t\t\tthis.img_path = e[0].file_path;\r\n\t\t\t\t\tlet data = JSON.stringify({\r\n\t\t\t\t\t\tsupplier_user_id: this.you_user_id,\r\n\t\t\t\t\t\tuser_id: this.my_user_id,\r\n\t\t\t\t\t\tshop_supplier_id: this.shop_supplier_id,\r\n\t\t\t\t\t\tmsg_type: 2,\r\n\t\t\t\t\t\tusertype: 'user',\r\n\t\t\t\t\t\ttype: 1,\r\n\t\t\t\t\t\tcontent: self.img_path,\r\n\t\t\t\t\t\tapp_id: this.getAppId()\r\n\t\t\t\t\t})\r\n\t\t\t\t\tlet newdata = JSON.parse(data)\r\n\t\t\t\t\tlet item = {\r\n\t\t\t\t\t\tcontent: newdata.content,\r\n\t\t\t\t\t\tuser_id: newdata.supplier_user_id,\r\n\t\t\t\t\t\ttype: newdata.type,\r\n\t\t\t\t\t\tmsg_type: 2,\r\n\t\t\t\t\t\tcreate_time: self.formatDate(),\r\n\t\t\t\t\t\tuser: {\r\n\t\t\t\t\t\t\tavatarUrl: self.myavatarUrl\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t\tthis.content_list = [...this.content_list, item];\r\n\t\t\t\t\tself.send(data)\r\n\t\t\t\t\tself.$nextTick(function() {\r\n\t\t\t\t\t\tself.scrollToBottom()\r\n\t\t\t\t\t})\r\n\t\t\t\t}\r\n\t\t\t\tthis.isupload = false;\r\n\t\t\t},\r\n\t\t\t//获取聊天记录\r\n\t\t\tget_content_list() {\r\n\t\t\t\tlet self = this;\r\n\t\t\t\tuni.showLoading({\r\n\t\t\t\t\ttitle: '加载中'\r\n\t\t\t\t})\r\n\t\t\t\tself._post('plus.chat.chat/message', {\r\n\t\t\t\t\t//被聊天人的user_id\r\n\t\t\t\t\tpage: self.page,\r\n\t\t\t\t\tsupplier_user_id: self.you_user_id,\r\n\t\t\t\t}, (res) => {\r\n\t\t\t\t\tconsole.log(self.content_list)\r\n\t\t\t\t\tlet list = res.data.list.data.reverse();\r\n\t\t\t\t\tself.content_list = [...list, ...self.content_list];\r\n\t\t\t\t\tconsole.log(self.content_list)\r\n\t\t\t\t\tif (res.data.list.last_page <= self.page) {\r\n\t\t\t\t\t\tself.nomore = true;\r\n\t\t\t\t\t}\r\n\t\t\t\t\tif (self.page == 1) {\r\n\t\t\t\t\t\tself.$nextTick(() => {\r\n\t\t\t\t\t\t\tself.scrollToBottom();\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tself.$nextTick(() => {\r\n\t\t\t\t\t\t\tconst newquery = uni.createSelectorQuery().in(self);\r\n\t\t\t\t\t\t\tnewquery.select('.im_interface_content').boundingClientRect(data => {\r\n\t\t\t\t\t\t\t\tconsole.log(data)\r\n\t\t\t\t\t\t\t\tself.scrollTop = data.height - self.scrollHeight;\r\n\t\t\t\t\t\t\t}).exec();\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t}\r\n\t\t\t\t\tuni.hideLoading()\r\n\t\t\t\t})\r\n\t\t\t},\r\n\t\t\t//打开图片预览\r\n\t\t\tpreview(e, index) {\r\n\t\t\t\tlet self = this;\r\n\t\t\t\tlet image_path_arr = [];\r\n\t\t\t\tlet image_path_list = e;\r\n\t\t\t\timage_path_arr.push(image_path_list)\r\n\t\t\t\tlet picnum = index * 1;\r\n\t\t\t\tuni.previewImage({\r\n\t\t\t\t\turls: image_path_arr,\r\n\t\t\t\t\tcurrent: picnum,\r\n\t\t\t\t\tindicator: 'default',\r\n\t\t\t\t});\r\n\t\t\t},\r\n\t\t\tscrollToBottom: function() {\r\n\t\t\t\tlet self = this;\r\n\t\t\t\tlet query = uni.createSelectorQuery();\r\n\t\t\t\tquery.selectAll('.m-item').boundingClientRect();\r\n\t\t\t\tquery.select('#scrollview').boundingClientRect();\r\n\t\t\t\tquery.exec((res) => {\r\n\t\t\t\t\tself.style.mitemHeight = 0;\r\n\t\t\t\t\tres[0].forEach((rect) => self.style.mitemHeight = self.style.mitemHeight + rect.height +\r\n\t\t\t\t\t\t40)\r\n\t\t\t\t\tsetTimeout(() => {\r\n\t\t\t\t\t\tif (self.style.mitemHeight > (self.style.contentViewHeight - 100)) {\r\n\t\t\t\t\t\t\tself.scrollTop = self.style.mitemHeight - self.style.contentViewHeight +\r\n\t\t\t\t\t\t\t\t150\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}, 300)\r\n\t\t\t\t})\r\n\t\t\t},\r\n\t\t\tsendProduct() {\r\n\t\t\t\tlet self = this;\r\n\t\t\t\tself.is_product = false;\r\n\t\t\t\tlet params = {\r\n\t\t\t\t\tproduct_name: self.productDetail.product_name,\r\n\t\t\t\t\tproduct_img: self.productDetail.product_image,\r\n\t\t\t\t\tproduct_price: self.productDetail.product_price\r\n\t\t\t\t}\r\n\t\t\t\tparams = JSON.stringify(params)\r\n\t\t\t\tlet data = JSON.stringify({\r\n\t\t\t\t\tsupplier_user_id: this.you_user_id,\r\n\t\t\t\t\tuser_id: this.my_user_id,\r\n\t\t\t\t\tshop_supplier_id: this.shop_supplier_id,\r\n\t\t\t\t\tmsg_type: 2,\r\n\t\t\t\t\tusertype: 'user',\r\n\t\t\t\t\tcontent: params,\r\n\t\t\t\t\ttype: 2,\r\n\t\t\t\t\tapp_id: this.getAppId()\r\n\t\t\t\t})\r\n\t\t\t\tlet newdata = JSON.parse(data)\r\n\t\t\t\tlet item = {\r\n\t\t\t\t\tcontent: newdata.content,\r\n\t\t\t\t\tuser_id: newdata.supplier_user_id,\r\n\t\t\t\t\tcreate_time: self.formatDate(),\r\n\t\t\t\t\ttype: newdata.type,\r\n\t\t\t\t\tmsg_type: 2,\r\n\t\t\t\t\tuser: {\r\n\t\t\t\t\t\tavatarUrl: self.myavatarUrl\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\tthis.content_list = [...this.content_list, item];\r\n\t\t\t\tself.send(data)\r\n\t\t\t\tself.$nextTick(function() {\r\n\t\t\t\t\tself.scrollToBottom()\r\n\t\t\t\t})\r\n\t\t\t},\r\n\t\t\tsendOrder() {\r\n\t\t\t\tlet self = this;\r\n\t\t\t\tself.is_product = false;\r\n\t\t\t\tlet params = {\r\n\t\t\t\t\torder_num: self.order_chat.product.length,\r\n\t\t\t\t\torder_price: self.order_chat.order_price,\r\n\t\t\t\t\torder_no: self.order_chat.order_no,\r\n\t\t\t\t\tcreate_time: self.order_chat.create_time,\r\n\t\t\t\t\torder_id: self.order_chat.order_id,\r\n\t\t\t\t\tproduct_name: self.order_chat.product[0].product_name,\r\n\t\t\t\t\tproduct_img: self.order_chat.product[0].image.file_path,\r\n\t\t\t\t}\r\n\t\t\t\tparams = JSON.stringify(params)\r\n\t\t\t\tlet data = JSON.stringify({\r\n\t\t\t\t\tsupplier_user_id: this.you_user_id,\r\n\t\t\t\t\tuser_id: this.my_user_id,\r\n\t\t\t\t\tshop_supplier_id: this.shop_supplier_id,\r\n\t\t\t\t\tmsg_type: 2,\r\n\t\t\t\t\tusertype: 'user',\r\n\t\t\t\t\tcontent: params,\r\n\t\t\t\t\ttype: 3,\r\n\t\t\t\t\tapp_id: this.getAppId()\r\n\t\t\t\t})\r\n\t\t\t\tlet newdata = JSON.parse(data)\r\n\t\t\t\tlet item = {\r\n\t\t\t\t\tcontent: newdata.content,\r\n\t\t\t\t\tuser_id: newdata.supplier_user_id,\r\n\t\t\t\t\tcreate_time: self.formatDate(),\r\n\t\t\t\t\ttype: newdata.type,\r\n\t\t\t\t\tmsg_type: 2,\r\n\t\t\t\t\tuser: {\r\n\t\t\t\t\t\tavatarUrl: self.myavatarUrl\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\tthis.content_list = [...this.content_list, item];\r\n\t\t\t\tself.send(data)\r\n\t\t\t\tself.$nextTick(function() {\r\n\t\t\t\t\tself.scrollToBottom()\r\n\t\t\t\t})\r\n\t\t\t},\r\n\t\t\tgetJSON(str) {\r\n\t\t\t\treturn JSON.parse(str)\r\n\t\t\t},\r\n\t\t\tnewdata() {\r\n\t\t\t\tlet self = this;\r\n\t\t\t\tthis.page++;\r\n\t\t\t\tconst query = uni.createSelectorQuery().in(this);\r\n\t\t\t\tquery.select('.im_interface_content').boundingClientRect(data => {\r\n\t\t\t\t\tthis.scrollHeight = data.height;\r\n\t\t\t\t}).exec();\r\n\t\t\t\tthis.get_content_list();\r\n\t\t\t},\r\n\t\t\tinputFocus(e) {\r\n\t\t\t\tthis.inputBottom = e.detail.height;\r\n\t\t\t},\r\n\t\t\tinputBlur() {\r\n\t\t\t\tthis.inputBottom = 0;\r\n\t\t\t},\r\n\t\t\tisuserAgent() {\r\n\t\t\t\tlet self = this;\r\n\t\t\t\tswitch (uni.getSystemInfoSync().platform) {\r\n\t\t\t\t\tcase 'android':\r\n\t\t\t\t\t\tself.is_Ios = false;\r\n\t\t\t\t\t\tconsole.log('运行Android上')\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t\tcase 'ios':\r\n\t\t\t\t\t\tconsole.log('运行iOS上')\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t\tdefault:\r\n\t\t\t\t\t\tconsole.log('运行在开发者工具上')\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\tformatDate() {\r\n\t\t\t\tlet date = new Date();\r\n\t\t\t\tlet year = date.getFullYear(); // 年\r\n\t\t\t\tlet month = date.getMonth() + 1; // 月\r\n\t\t\t\tlet day = date.getDate(); // 日\r\n\t\t\t\tlet week = date.getDay(); // 星期\r\n\t\t\t\tlet weekArr = [\"星期日\", \"星期一\", \"星期二\", \"星期三\", \"星期四\", \"星期五\", \"星期六\"];\r\n\t\t\t\tlet hour = date.getHours(); // 时\r\n\t\t\t\thour = hour < 10 ? \"0\" + hour : hour; // 如果只有一位，则前面补零\r\n\t\t\t\tlet minute = date.getMinutes(); // 分\r\n\t\t\t\tminute = minute < 10 ? \"0\" + minute : minute; // 如果只有一位，则前面补零\r\n\t\t\t\tlet second = date.getSeconds(); // 秒\r\n\t\t\t\tsecond = second < 10 ? \"0\" + second : second; // 如果只有一位，则前面补零\r\n\t\t\t\treturn `${year}-${month}-${day} ${hour}:${minute}:${second}`;\r\n\t\t\t},\r\n\t\t}\r\n\t}\r\n</script>\r\n\r\n<style>\r\n\tpage {\r\n\t\tbackground-color: #EDEDED;\r\n\t}\r\n\r\n\t.im_interface {\r\n\t\twidth: 750rpx;\r\n\t}\r\n\r\n\t.im_interface_content {\r\n\t\tpadding: 20rpx 50rpx;\r\n\t}\r\n\r\n\t.buttom {\r\n\t\twidth: 750rpx;\r\n\t\theight: 130rpx;\r\n\t\tbackground-color: #F7F7F7;\r\n\t\tborder-top: 1px #D2D2D2 solid;\r\n\t\tdisplay: flex;\r\n\t\tjustify-content: flex-start;\r\n\t\talign-items: flex-start;\r\n\t\tposition: fixed;\r\n\t\tbottom: 0;\r\n\t\tpadding-top: 20rpx;\r\n\t\tbox-sizing: border-box;\r\n\t}\r\n\r\n\t.buttom input {\r\n\t\twidth: 605rpx;\r\n\t\theight: 75rpx;\r\n\t\tline-height: 75rpx;\r\n\t\tbackground-color: white;\r\n\t\tdisplay: block;\r\n\t\tpadding: 5rpx;\r\n\t\tbox-sizing: border-box;\r\n\t\tmargin-left: 30rpx;\r\n\t\tborder-radius: 10rpx;\r\n\t\tvertical-align: middle;\r\n\t\tposition: relative;\r\n\t\tborder: 1rpx solid #CCCCCC;\r\n\r\n\t}\r\n\r\n\t.buttom button {\r\n\t\twidth: 125rpx;\r\n\t\theight: 50rpx;\r\n\t\tline-height: 200%;\r\n\t\tdisplay: block;\r\n\t\tmargin: 0 15rpx;\r\n\t\tvertical-align: middle;\r\n\t\tposition: relative;\r\n\t\tbackground-color: #05C160;\r\n\t\tcolor: white;\r\n\t}\r\n\r\n\t.im_text {\r\n\t\t/* width: 100%; */\r\n\t\tdisplay: flex;\r\n\t\tmargin-top: 75rpx;\r\n\t\tflex-direction: row-reverse;\r\n\t\tposition: relative;\r\n\t}\r\n\r\n\t.im_text2 {\r\n\t\t/* width: 100%; */\r\n\t\tdisplay: flex;\r\n\t\tmargin-top: 75rpx;\r\n\t\tposition: relative;\r\n\t}\r\n\r\n\t.im_text .avatar {\r\n\t\twidth: 84rpx;\r\n\t\theight: 84rpx;\r\n\t\tmargin-left: 3%;\r\n\t\tborder-radius: 10rpx;\r\n\t\tbackground-color: #000000;\r\n\t\talign-items: flex-start;\r\n\t}\r\n\r\n\t.im_text2 .avatar {\r\n\t\twidth: 84rpx;\r\n\t\theight: 84rpx;\r\n\t\tmargin-right: 3%;\r\n\t\tborder-radius: 10rpx;\r\n\t\tbackground-color: #000000;\r\n\t\talign-items: flex-start;\r\n\t}\r\n\r\n\t.im_text .my_content {\r\n\t\tmax-width: 550rpx;\r\n\t\talign-items: flex-start;\r\n\t\tborder-radius: 10rpx;\r\n\t\tpadding: 17rpx 20rpx;\r\n\t\tbox-sizing: border-box;\r\n\t\tword-break: break-all;\r\n\t}\r\n\r\n\t.im_text2 .my_content {\r\n\t\tmax-width: 450rpx;\r\n\t\talign-items: flex-start;\r\n\t\tborder-radius: 10rpx;\r\n\t\tpadding: 10rpx;\r\n\t\tbox-sizing: border-box;\r\n\t\tword-break: break-all;\r\n\t}\r\n\r\n\t.im_text .you_content {\r\n\t\tmax-width: 450rpx;\r\n\t\talign-items: flex-start;\r\n\t\tborder-radius: 10rpx;\r\n\t\tpadding: 17rpx 20rpx;\r\n\t\tbox-sizing: border-box;\r\n\t}\r\n\r\n\t.im_text2 .you_content {\r\n\t\tmax-width: 450rpx;\r\n\t\talign-items: flex-start;\r\n\t\tborder-radius: 10rpx;\r\n\t\tpadding: 10rpx;\r\n\t\tbox-sizing: border-box;\r\n\t}\r\n\r\n\t.my_content {\r\n\t\tbackground-color: #9EEA6A;\r\n\t\tmargin-top: 25rpx;\r\n\t}\r\n\r\n\t.you_content {\r\n\t\tbackground-color: white;\r\n\t\tmargin-top: 25rpx;\r\n\t}\r\n\r\n\t.im_icon {\r\n\t\tposition: absolute;\r\n\t\tbottom: -2rpx;\r\n\t\tright: 41px;\r\n\t\ttransform: rotate(270deg);\r\n\r\n\t}\r\n\r\n\t.im_icon2 {\r\n\t\tposition: absolute;\r\n\t\tbottom: 0;\r\n\t}\r\n\r\n\t.im_icon .icon-sanjiao1 {\r\n\t\tcolor: #9EEA6A;\r\n\t}\r\n\r\n\t.im_icon2 .icon-sanjiao1 {\r\n\t\tposition: absolute;\r\n\t\tbottom: 0;\r\n\t}\r\n\r\n\t.upload {\r\n\t\twidth: 50rpx;\r\n\t\theight: 50rpx;\r\n\t\tbackground-color: #007AFF;\r\n\t\tborder-radius: 50%;\r\n\t\tline-height: 50rpx;\r\n\t\ttext-align: center;\r\n\t}\r\n\r\n\t.cont_img {\r\n\t\twidth: 200rpx;\r\n\t\theight: 200rpx;\r\n\t\tborder-radius: 10rpx;\r\n\t}\r\n\r\n\t.top_pro {\r\n\t\t/* margin-left: 85rpx; */\r\n\t}\r\n\r\n\t.top_product {\r\n\t\twidth: 610rpx;\r\n\t\theight: 200rpx;\r\n\t\tborder-radius: 10rpx;\r\n\t\tmargin: 0 auto;\r\n\t\tdisplay: flex;\r\n\t\talign-items: flex-start;\r\n\t\tjustify-content: flex-start;\r\n\t\tbackground-color: #FFFFFF;\r\n\t\tpadding: 10rpx 20rpx;\r\n\t\tposition: relative;\r\n\t}\r\n\r\n\t.top_order {\r\n\t\twidth: 610rpx;\r\n\t\t/* height: 200rpx; */\r\n\t\tborder-radius: 10rpx;\r\n\t\tmargin: 0 auto;\r\n\t\tdisplay: flex;\r\n\t\talign-items: flex-start;\r\n\t\tjustify-content: flex-start;\r\n\t\tbackground-color: #FFFFFF;\r\n\t\tpadding: 10rpx 20rpx;\r\n\t\tposition: relative;\r\n\t}\r\n\r\n\t.pro_img {\r\n\t\theight: 150rpx;\r\n\t\twidth: 150rpx;\r\n\t\tborder-radius: 10rpx;\r\n\t\tmargin-right: 20rpx;\r\n\t\tbackground-color: #FFFFFF;\r\n\t}\r\n\r\n\t.pro_name {\r\n\t\tfont-size: 28rpx;\r\n\t\ttext-overflow: -o-ellipsis-lastline;\r\n\t\toverflow: hidden;\r\n\t\ttext-overflow: ellipsis;\r\n\t\tdisplay: -webkit-box;\r\n\t\t-webkit-line-clamp: 3;\r\n\t\tline-clamp: 3;\r\n\t\t-webkit-box-orient: vertical;\r\n\t\tmargin-bottom: 50rpx;\r\n\t\twidth: 400rpx;\r\n\t}\r\n\r\n\t.pro_price {\r\n\t\tfont-size: 24rpx;\r\n\t\tcolor: #E2231A;\r\n\t}\r\n\r\n\t.pro_btn {\r\n\t\tposition: absolute;\r\n\t\tbottom: 12rpx;\r\n\t\tright: 15rpx;\r\n\t\twidth: 180rpx;\r\n\t\theight: 50rpx;\r\n\t\tline-height: 50rpx;\r\n\t\tborder-radius: 25rpx;\r\n\t\ttext-align: center;\r\n\t\tfont-size: 24rpx;\r\n\t\tcolor: #FFFFFF;\r\n\t\tbackground-color: #FF6633;\r\n\t}\r\n\r\n\t.orderdetail_btn {\r\n\t\twidth: 180rpx;\r\n\t\theight: 50rpx;\r\n\t\tline-height: 50rpx;\r\n\t\tborder-radius: 25rpx;\r\n\t\ttext-align: center;\r\n\t\tfont-size: 24rpx;\r\n\t\tcolor: #FFFFFF;\r\n\t\tbackground-color: #FF6633;\r\n\t\tmargin-left: 270rpx;\r\n\t\tmargin-top: 20rpx;\r\n\t}\r\n\r\n\t.ord_btn {\r\n\t\tposition: absolute;\r\n\t\tbottom: 20rpx;\r\n\t\tright: 15rpx;\r\n\t\twidth: 180rpx;\r\n\t\theight: 50rpx;\r\n\t\tline-height: 50rpx;\r\n\t\tborder-radius: 25rpx;\r\n\t\ttext-align: center;\r\n\t\tfont-size: 24rpx;\r\n\t\tcolor: #FFFFFF;\r\n\t\tbackground-color: #FF6633;\r\n\t}\r\n\r\n\t.close_pro {\r\n\t\tposition: absolute;\r\n\t\ttop: 12rpx;\r\n\t\tright: 15rpx;\r\n\t}\r\n\r\n\t.product_item {\r\n\t\twidth: 400rpx;\r\n\t\theight: 200rpx;\r\n\t}\r\n\r\n\t.product_txtitem {\r\n\t\tdisplay: flex;\r\n\t\twidth: 550rpx;\r\n\t\t/* height: 150rpx; */\r\n\t}\r\n\r\n\t.pro_txtname {\r\n\t\tfont-size: 28rpx;\r\n\t\ttext-overflow: -o-ellipsis-lastline;\r\n\t\toverflow: hidden;\r\n\t\ttext-overflow: ellipsis;\r\n\t\tdisplay: -webkit-box;\r\n\t\t-webkit-line-clamp: 1;\r\n\t\tline-clamp: 1;\r\n\t\t-webkit-box-orient: vertical;\r\n\t\tmargin-bottom: 50rpx;\r\n\t}\r\n\r\n\t.my_text_content {\r\n\t\t/* height: 100%; */\r\n\t\tmax-width: 430rpx;\r\n\t}\r\n\r\n\t.you_text_content {\r\n\t\t/* height: 100%; */\r\n\t\tmax-width: 430rpx;\r\n\t}\r\n\r\n\t.my_date {\r\n\t\tcolor: #cccccc;\r\n\t\tfont-size: 24rpx;\r\n\t\tposition: absolute;\r\n\t\ttop: -10rpx;\r\n\t}\r\n\r\n\t.im_text .my_date {\r\n\t\tright: 100rpx;\r\n\t}\r\n\r\n\t.sendpro_price {\r\n\t\tposition: absolute;\r\n\t\tbottom: 25px;\r\n\t}\r\n\r\n\t.sendord_price {\r\n\t\tposition: absolute;\r\n\t\tbottom: 40px;\r\n\t}\r\n\r\n\t.upload_box {\r\n\t\t/* width: 50rpx; */\r\n\t\theight: 75rpx;\r\n\t\tdisplay: flex;\r\n\t\talign-items: center;\r\n\t\tmargin-left: 20rpx;\r\n\t\tjustify-content: space-around;\r\n\t\tflex: 1;\r\n\t}\r\n</style>\n","import mod from \"-!../../../../../HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../../../HBuilderX/plugins/uniapp-cli/node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--6-oneOf-1-2!../../../../../HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-3!../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./chat.vue?vue&type=style&index=0&lang=css&\"; export default mod; export * from \"-!../../../../../HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../../../HBuilderX/plugins/uniapp-cli/node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--6-oneOf-1-2!../../../../../HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-3!../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./chat.vue?vue&type=style&index=0&lang=css&\""],"sourceRoot":""}