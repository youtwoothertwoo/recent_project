{"version":3,"sources":["webpack:///D:/working/舒服康/pages/plus/seckill/detail/popup/Spec.vue?5083","webpack:///D:/working/舒服康/pages/plus/seckill/detail/popup/Spec.vue?95b5","webpack:///D:/working/舒服康/pages/plus/seckill/detail/popup/Spec.vue?e4a6","webpack:///D:/working/舒服康/pages/plus/seckill/detail/popup/Spec.vue?a486","uni-app:///pages/plus/seckill/detail/popup/Spec.vue","webpack:///D:/working/舒服康/pages/plus/seckill/detail/popup/Spec.vue?0bf6"],"names":["renderjs","component","options","__file","components","render","_vm","this","_h","$createElement","_self","_c","recyclableRender","staticRenderFns","_withStripped","data","Visible","phoneHeight","scrollviewHigh","form","detail","product_sku","show_sku","show_point_sku","seckill_price","sum","specData","stock","selectSpec","isAll","props","onLoad","mounted","computed","isadd","issub","watch","handler","select","i","str","n","deep","immediate","methods","init","_this","closePopup","initShowSku","confirmFunc","uni","title","icon","duration","selectAttr","curItem","self","items","isall","updateSpecProduct","skuItem","seckillSkuItem","createdOrder","num","seckill_product_id","product_sku_id","seckill_product_sku_id","add","sub"],"mappings":"sIAAA,uIACIA,EADJ,QASIC,EAAY,qBACd,aACA,YACA,sBACA,EACA,KACA,KACA,MACA,EACA,gBACAD,GAGFC,EAAUC,QAAQC,OAAS,2CACZ,aAAAF,E,2CCvBf,wQ,kCCAA,IAAIG,EAAJ,0LACA,IAAIC,EAAS,WACX,IAAIC,EAAMC,KACNC,EAAKF,EAAIG,eACJH,EAAII,MAAMC,IAEjBC,GAAmB,EACnBC,EAAkB,GACtBR,EAAOS,eAAgB,G,kCCRvB,0HAA8pB,eAAG,G,2IC4DjqB,U,EAGA,CACAC,gBACA,OAEAC,WAEAC,cAEAC,mBACAC,MACAC,QACAC,eACAC,YACAC,gBACAC,kBAGAF,UACAG,OAEAC,eAGAC,QAEAC,cAEAC,WAGAC,iCACAC,oBACAC,qBACAC,UAEAC,iBACA,+FAIAC,iBACA,mCAGAC,OACA,iCACA,OACA,eACA,kBACA,4BACA,mBACA,mBACA,oDACA,sBAGA,wCAIA,iBACAC,sBAAA,WACA,KACAC,KAEA,GADA,cACA,GACA,SACA,IADA,eACAC,GACA,gCACA,WACAC,kCAEAC,+CACA,sCACAH,8BAPA,kCAaA,WAGAA,WAFAE,YAIA,iCAKAE,QACAC,eAGAC,SAEAC,gBACA,WACAC,kCAGAC,sBACA,6CAEAC,uBACA,yEACA,gEACA,oCACA,0DACA,wDACA,yBACA,2CAGAC,uBACA,qCAQA,oBAPAC,aACAC,cACAC,YACAC,gBAQAC,yBACA,WACA,0CACA,OACA,aACAC,aACAC,kCACA,CACA,2BACAC,gBAEAF,aACAC,oCAIA,sFAGA,IADA,SACA,wCACA,+BACA,WAGA,OAFAE,UACAF,gBAKA,EAMAA,sBALAA,iBASAG,6BACA,WACA,kCAEA,4BACAC,sBACA,2BAIA,gCACA,+BACAC,sBACA,6CAGAL,wBACA,8BACAA,yCAEAA,qDACAA,6CACAA,8CACAA,gEACAA,8CACA,uBACAA,iDAEAA,qEAMAM,wBACA,WACAN,mBACA,uCACA,sBACA,iCACA,yCACAA,qDACAO,EACA,uBACAC,EACA,mBACAC,EACA,2BACAC,EACA,wBAIAC,eACA,oBAGA,2CACAjB,aACAC,gBACAC,YACAC,gBAEA,GAEA,oDACAH,aACAC,kBACAC,YACAC,gBAEA,QAEA,0BAIAe,eACA,oBAGA,iCACAlB,aACAC,iBACAC,YACAC,gBAEA,QAEA,4BAGA,c,8DChUA,0HAA6uC,eAAG,G","file":"pages/plus/seckill/detail/popup/Spec.js","sourcesContent":["import { render, staticRenderFns, recyclableRender, components } from \"./Spec.vue?vue&type=template&id=c292f000&\"\nvar renderjs\nimport script from \"./Spec.vue?vue&type=script&lang=js&\"\nexport * from \"./Spec.vue?vue&type=script&lang=js&\"\nimport style0 from \"./Spec.vue?vue&type=style&index=0&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null,\n  false,\n  components,\n  renderjs\n)\n\ncomponent.options.__file = \"pages/plus/seckill/detail/popup/Spec.vue\"\nexport default component.exports","export * from \"-!../../../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!../../../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--17-0!../../../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/template.js!../../../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-uni-app-loader/page-meta.js!../../../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./Spec.vue?vue&type=template&id=c292f000&\"","var components\nvar render = function () {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n}\nvar recyclableRender = false\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns, recyclableRender, components }","import mod from \"-!../../../../../../../HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--13-1!../../../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./Spec.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../../../HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--13-1!../../../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./Spec.vue?vue&type=script&lang=js&\"","<template>\r\n\t<view :class=\"Visible ? 'product-popup open' : 'product-popup close'\" @touchmove.stop.prevent=\"\" @click=\"closePopup\">\r\n\t\t<view class=\"popup-bg\"></view>\r\n\t\t<view class=\"main\" v-on:click.stop>\r\n\t\t\t<view class=\"header\">\r\n\t\t\t\t<image :src=\"form.show_sku.sku_image\" mode=\"aspectFit\" class=\"avt\"></image>\r\n\t\t\t\t<view class=\"price d-s-c\">\r\n\t\t\t\t\t<template v-if=\"form.specData == null||isAll\">\r\n\t\t\t\t\t\t<text>¥</text>\r\n\t\t\t\t\t\t<text class=\"num fb\">{{ form.show_sku.seckill_price }}</text>\r\n\t\t\t\t\t\t<text class=\"old-price\">¥{{ form.show_sku.line_price }}</text>\r\n\t\t\t\t\t</template>\r\n\t\t\t\t\t<template v-else>\r\n\t\t\t\t\t\t<text class=\"f22\">¥</text>\r\n\t\t\t\t\t\t<text class=\"f40 fb\">{{ form.detail.seckill_price }}</text>\r\n\t\t\t\t\t</template>\r\n\t\t\t\t</view>\r\n\t\t\t\t<view class=\"stock\">库存：{{ form.show_sku.seckill_stock }}</view>\r\n\t\t\t\t<view class=\"p-20-0 select_spec\">{{ selectSpec }}</view>\r\n\t\t\t\t<view class=\"close-btn\" @click=\"closePopup\"><text class=\"icon iconfont icon-guanbi\"></text></view>\r\n\t\t\t</view>\r\n\r\n\t\t\t<view class=\"body\">\r\n\r\n\t\t\t\t<view v-if=\"form.specData\">\r\n\t\t\t\t\t<scroll-view scroll-y=\"true\" class=\"specs mt20\" style=\"max-height: 600rpx;\" v-if=\"form.specData !=null\">\r\n\t\t\t\t\t\t<view class=\"specs mt20\" v-for=\"(item_attr,attr_index) in form.specData.spec_attr\" :key=\"attr_index\">\r\n\t\t\t\t\t\t\t<view class=\"specs-hd p-20-0\">\r\n\t\t\t\t\t\t\t\t<text class=\"f24 gray9\">{{item_attr.group_name}}</text>\r\n\t\t\t\t\t\t\t\t<text class=\"ml10 red\" v-if=\"form.productSpecArr[attr_index]==null\">\r\n\t\t\t\t\t\t\t\t\t请选择{{item_attr.group_name}}\r\n\t\t\t\t\t\t\t\t</text>\r\n\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t<view class=\"specs-list\">\r\n\t\t\t\t\t\t\t\t<button :class=\"item.checked ? 'btn-checked' : 'btn-checke'\" v-for=\"(item,item_index) in item_attr.spec_items\"\r\n\t\t\t\t\t\t\t\t :key=\"item_index\" @click=\"selectAttr(attr_index, item_index)\">{{item.spec_value}}\r\n\t\t\t\t\t\t\t\t</button>\r\n\t\t\t\t\t\t\t</view>\r\n\r\n\t\t\t\t\t\t</view>\r\n\t\t\t\t\t</scroll-view>\r\n\t\t\t\t</view>\r\n\t\t\t\t<!--选择数量-->\r\n\t\t\t\t<view class=\"level-box count_choose\">\r\n\t\t\t\t\t<text class=\"key\">数量</text>\r\n\t\t\t\t\t<view class=\"d-s-c\">\r\n\t\t\t\t\t\t<view class=\"icon-box minus d-c-c\" @click=\"sub()\" :class=\"{ 'num-wrap': !issub }\"><text class=\"icon iconfont icon-jian\"\r\n\t\t\t\t\t\t\t style=\"font-size: 20rpx;color: #333333;\"></text></view>\r\n\t\t\t\t\t\t<view class=\"text-wrap\"><input type=\"text\" v-model=\"form.show_sku.sum\" value=\"\" /></view>\r\n\t\t\t\t\t\t<view class=\"icon-box plus d-c-c\" :class=\"{ 'num-wrap': !isadd }\" @click=\"add()\"><text class=\"icon iconfont icon-jia\"\r\n\t\t\t\t\t\t\t style=\"font-size: 20rpx;color: #333333;\"></text></view>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t</view>\r\n\t\t\t</view>\r\n\t\t\t<view class=\"btns white\"><button class=\"confirm-btn\" @click=\"confirmFunc(form)\">确认</button></view>\r\n\t\t</view>\r\n\t</view>\r\n</template>\r\n\r\n<script>\r\n\timport {\r\n\t\tjudgeSelect\r\n\t} from '@/common/specSelect.js';\r\n\texport default {\r\n\t\tdata() {\r\n\t\t\treturn {\r\n\t\t\t\t/*是否可见*/\r\n\t\t\t\tVisible: false,\r\n\t\t\t\t/*手机高度*/\r\n\t\t\t\tphoneHeight: 0,\r\n\t\t\t\t/*可滚动视图区域高度*/\r\n\t\t\t\tscrollviewHigh: 400,\r\n\t\t\t\tform: {\r\n\t\t\t\t\tdetail: {\r\n\t\t\t\t\t\tproduct_sku: {},\r\n\t\t\t\t\t\tshow_sku: {},\r\n\t\t\t\t\t\tshow_point_sku: {\r\n\t\t\t\t\t\t\tseckill_price: 0\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t},\r\n\t\t\t\t\tshow_sku: {\r\n\t\t\t\t\t\tsum: 1\r\n\t\t\t\t\t},\r\n\t\t\t\t\tspecData: null\r\n\t\t\t\t},\r\n\t\t\t\t/*当前商品总库存*/\r\n\t\t\t\tstock: 0,\r\n\t\t\t\t/*选择提示*/\r\n\t\t\t\tselectSpec: '',\r\n\t\t\t\t/*规格是否选择完整*/\r\n\t\t\t\tisAll: false\r\n\t\t\t};\r\n\t\t},\r\n\t\tprops: ['isPopup', 'productModel'],\r\n\t\tonLoad() {},\r\n\t\tmounted() {},\r\n\t\tcomputed: {\r\n\t\t\t/*判断增加数量*/\r\n\t\t\tisadd: function() {\r\n\t\t\t\treturn this.form.show_sku.sum >= this.stock || this.form.show_sku.sum >= this.form.detail.limit_num;\r\n\t\t\t},\r\n\r\n\t\t\t/*判断减少数量*/\r\n\t\t\tissub: function() {\r\n\t\t\t\treturn this.form.show_sku.sum <= 1;\r\n\t\t\t}\r\n\t\t},\r\n\t\twatch: {\r\n\t\t\t'isPopup': function(n, o) {\r\n\t\t\t\tif (n != o) {\r\n\t\t\t\t\tthis.Visible = n;\r\n\t\t\t\t\tif (!this.isOpenSpec) {\r\n\t\t\t\t\t\tthis.form = this.productModel;\r\n\t\t\t\t\t\tthis.isOpenSpec = true;\r\n\t\t\t\t\t\tthis.initShowSku();\r\n\t\t\t\t\t\tthis.form.specData.spec_attr.forEach((item,index)=>{\r\n\t\t\t\t\t\t\tthis.selectAttr(index,0);\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t}\r\n\t\t\t\t\tthis.form.type = this.productModel.type;\r\n\t\t\t\t}\r\n\t\t\t},\r\n\r\n\t\t\t'form.specData': {\r\n\t\t\t\thandler(n, o) {\r\n\t\t\t\t\tlet str = '',\r\n\t\t\t\t\t\tselect = '';\r\n\t\t\t\t\tthis.isAll = true;\r\n\t\t\t\t\tif (n) {\r\n\t\t\t\t\t\tif (n != '') {\r\n\t\t\t\t\t\t\tfor (let i = 0; i < n.spec_attr.length; i++) {\r\n\t\t\t\t\t\t\t\tif (this.form.productSpecArr[i] == null) {\r\n\t\t\t\t\t\t\t\t\tthis.isAll = false;\r\n\t\t\t\t\t\t\t\t\tstr += n.spec_attr[i].group_name + ' ';\r\n\t\t\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t\t\tn.spec_attr[i].spec_items.forEach(item => {\r\n\t\t\t\t\t\t\t\t\t\tif (this.form.productSpecArr[i] == item.item_id) {\r\n\t\t\t\t\t\t\t\t\t\t\tselect += '\\\"' + item.spec_value + '\\\" ';\r\n\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tif (!this.isAll) {\r\n\t\t\t\t\t\t\tstr = '请选择: ' + str;\r\n\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\tselect = '已选: ' + select;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tthis.selectSpec = this.isAll ? select : str;\r\n\t\t\t\t\t} else {\r\n\r\n\t\t\t\t\t}\r\n\t\t\t\t},\r\n\t\t\t\tdeep: true,\r\n\t\t\t\timmediate: true\r\n\t\t\t}\r\n\t\t},\r\n\t\tmethods: {\r\n\t\t\t/*初始化*/\r\n\t\t\tinit() {\r\n\t\t\t\tlet _this = this;\r\n\t\t\t\t_this.phoneHeight = res.scrollviewHigh;\r\n\t\t\t},\r\n\t\t\t/*关闭弹窗*/\r\n\t\t\tclosePopup() {\r\n\t\t\t\tthis.$emit('close', this.form.specData, null);\r\n\t\t\t},\r\n\t\t\tinitShowSku() {\r\n\t\t\t\tthis.form.show_sku.sku_image = this.form.detail.product.image[0].file_path;\r\n\t\t\t\tthis.form.show_sku.seckill_price = this.form.detail.seckill_price;\r\n\t\t\t\tthis.form.show_sku.product_sku_id = 0;\r\n\t\t\t\tthis.form.show_sku.line_price = this.form.detail.line_price;\r\n\t\t\t\tthis.form.show_sku.seckill_stock = this.form.detail.stock;\r\n\t\t\t\tthis.form.show_sku.sum = 1;\r\n\t\t\t\tthis.stock = this.form.detail.product_stock;\r\n\t\t\t},\r\n\t\t\t/*确认提交*/\r\n\t\t\tconfirmFunc() {\r\n\t\t\t\tif (this.form.specData != null && !this.isAll) {\r\n\t\t\t\t\tuni.showToast({\r\n\t\t\t\t\t\ttitle: '请选择规格',\r\n\t\t\t\t\t\ticon: 'none',\r\n\t\t\t\t\t\tduration: 2000\r\n\t\t\t\t\t});\r\n\t\t\t\t\treturn;\r\n\t\t\t\t}\r\n\t\t\t\tthis.createdOrder();\r\n\t\t\t},\r\n\r\n\t\t\t/*选择属性*/\r\n\t\t\tselectAttr(attr_index, item_index) {\r\n\t\t\t\tlet self = this;\r\n\t\t\t\tlet items = self.form.specData.spec_attr[attr_index].spec_items;\r\n\t\t\t\tlet curItem = items[item_index];\r\n\t\t\t\tif (curItem.checked) {\r\n\t\t\t\t\tcurItem.checked = false;\r\n\t\t\t\t\tself.form.productSpecArr[attr_index] = null;\r\n\t\t\t\t} else {\r\n\t\t\t\t\tfor (let i = 0; i < items.length; i++) {\r\n\t\t\t\t\t\titems[i].checked = false;\r\n\t\t\t\t\t}\r\n\t\t\t\t\tcurItem.checked = true;\r\n\t\t\t\t\tself.form.productSpecArr[attr_index] = curItem.item_id;\r\n\t\t\t\t}\r\n\r\n\t\t\t\t/*判断哪些规格可以选*/\r\n\t\t\t\tjudgeSelect(self.form.specData.spec_attr, attr_index, self.form.productSpecArr, self.form.productSku);\r\n\r\n\t\t\t\tlet isall = true;\r\n\t\t\t\tfor (let i = 0; i < self.form.productSpecArr.length; i++) {\r\n\t\t\t\t\tlet item = self.form.productSpecArr[i];\r\n\t\t\t\t\tif (item == null) {\r\n\t\t\t\t\t\tisall = false;\r\n\t\t\t\t\t\tself.initShowSku();\r\n\t\t\t\t\t\treturn;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\r\n\t\t\t\tif (!isall) {\r\n\t\t\t\t\tself.initShowSku();\r\n\t\t\t\t\treturn;\r\n\t\t\t\t}\r\n\r\n\t\t\t\t// 更新商品规格信息\r\n\t\t\t\tself.updateSpecProduct();\r\n\t\t\t},\r\n\r\n\t\t\t/*更新商品规格信息*/\r\n\t\t\tupdateSpecProduct() {\r\n\t\t\t\tlet self = this;\r\n\t\t\t\tlet specSkuId = self.form.productSpecArr.join('_');\r\n\t\t\t\t// 查找skuItem\r\n\t\t\t\tlet spec_list = self.form.specData.spec_list,\r\n\t\t\t\t\tskuItem = spec_list.find(val => {\r\n\t\t\t\t\t\treturn val.spec_sku_id == specSkuId;\r\n\t\t\t\t\t});\r\n\t\t\t\t// 记录product_sku_id\r\n\t\t\t\t// 更新商品价格、划线价、库存\r\n\t\t\t\tif (typeof skuItem === 'object') {\r\n\t\t\t\t\tlet point_sku_list = self.form.detail.seckillSku,\r\n\t\t\t\t\t\tseckillSkuItem = point_sku_list.find(val => {\r\n\t\t\t\t\t\t\treturn val.product_sku_id == skuItem.product_sku_id;\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t/*保存当前规格*/\r\n\t\t\t\t\tself.stock = seckillSkuItem.seckill_stock;\r\n\t\t\t\t\tif (self.form.show_sku.sum > self.stock) {\r\n\t\t\t\t\t\tself.form.show_sku.sum = self.stock > 0 ? self.stock : 1;\r\n\t\t\t\t\t}\r\n\t\t\t\t\tself.form.show_sku.line_price = skuItem.spec_form.product_price;\r\n\t\t\t\t\tself.form.show_sku.product_sku_id = skuItem.spec_sku_id;\r\n\t\t\t\t\tself.form.show_sku.seckill_price = seckillSkuItem.seckill_price;\r\n\t\t\t\t\tself.form.show_sku.seckill_product_sku_id = seckillSkuItem.seckill_product_sku_id;\r\n\t\t\t\t\tself.form.show_sku.seckill_stock = seckillSkuItem.seckill_stock;\r\n\t\t\t\t\tif (skuItem.spec_form.image_id > 0) {\r\n\t\t\t\t\t\tself.form.show_sku.sku_image = skuItem.spec_form.image_path;\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tself.form.show_sku.sku_image = self.form.detail.product.image[0].file_path;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t},\r\n\r\n\t\t\t/*创建订单*/\r\n\t\t\tcreatedOrder() {\r\n\t\t\t\tlet self = this;\r\n\t\t\t\tself.$emit('confirm')\r\n\t\t\t\tlet seckill_product_id = self.form.detail.seckill_product_id;\r\n\t\t\t\tlet num = self.form.show_sku.sum;\r\n\t\t\t\tlet product_sku_id = self.form.show_sku.product_sku_id;\r\n\t\t\t\tlet seckill_product_sku_id = self.form.show_sku.seckill_product_sku_id;\r\n\t\t\t\tself.gotoPage('/pages/order/confirm-order?product_num=' +\r\n\t\t\t\t\t\tnum +\r\n\t\t\t\t\t\t'&seckill_product_id=' +\r\n\t\t\t\t\t\tseckill_product_id +\r\n\t\t\t\t\t\t'&product_sku_id=' +\r\n\t\t\t\t\t\tproduct_sku_id +\r\n\t\t\t\t\t\t'&seckill_product_sku_id=' +\r\n\t\t\t\t\t\tseckill_product_sku_id +\r\n\t\t\t\t\t\t'&order_type=seckill');\r\n\t\t\t},\r\n\r\n\t\t\t/*商品增加*/\r\n\t\t\tadd() {\r\n\t\t\t\tif (this.stock <= 0) {\r\n\t\t\t\t\treturn;\r\n\t\t\t\t}\r\n\t\t\t\tif (this.form.show_sku.sum >= this.stock) {\r\n\t\t\t\t\tuni.showToast({\r\n\t\t\t\t\t\ttitle: '数量超过了库存',\r\n\t\t\t\t\t\ticon: 'none',\r\n\t\t\t\t\t\tduration: 2000\r\n\t\t\t\t\t});\r\n\t\t\t\t\treturn false;\r\n\t\t\t\t}\r\n\t\t\t\tif (this.form.show_sku.sum >= this.form.detail.limit_num) {\r\n\t\t\t\t\tuni.showToast({\r\n\t\t\t\t\t\ttitle: '数量超过了限购数量',\r\n\t\t\t\t\t\ticon: 'none',\r\n\t\t\t\t\t\tduration: 2000\r\n\t\t\t\t\t});\r\n\t\t\t\t\treturn false;\r\n\t\t\t\t}\r\n\t\t\t\tthis.form.show_sku.sum++;\r\n\t\t\t},\r\n\r\n\t\t\t/*商品减少*/\r\n\t\t\tsub() {\r\n\t\t\t\tif (this.stock <= 0) {\r\n\t\t\t\t\treturn;\r\n\t\t\t\t}\r\n\t\t\t\tif (this.form.show_sku.sum < 2) {\r\n\t\t\t\t\tuni.showToast({\r\n\t\t\t\t\t\ttitle: '商品数量至少为1',\r\n\t\t\t\t\t\ticon: 'none',\r\n\t\t\t\t\t\tduration: 2000\r\n\t\t\t\t\t});\r\n\t\t\t\t\treturn false;\r\n\t\t\t\t}\r\n\t\t\t\tthis.form.show_sku.sum--;\r\n\t\t\t}\r\n\t\t}\r\n\t};\r\n</script>\r\n\r\n<style lang=\"scss\">\r\n\t.product-popup {}\r\n\r\n\t.product-popup .popup-bg {\r\n\t\tposition: fixed;\r\n\t\ttop: 0;\r\n\t\tright: 0;\r\n\t\tbottom: 0;\r\n\t\tleft: 0;\r\n\t\tbackground: rgba(0, 0, 0, .6);\r\n\t\tz-index: 99;\r\n\t}\r\n\r\n\t.product-popup .main {\r\n\t\tposition: fixed;\r\n\t\twidth: 100%;\r\n\t\t// bottom: 0;\r\n\t\tmin-height: 200rpx;\r\n\t\t// max-height: 900rpx;\r\n\t\tbackground-color: #fff;\r\n\t\ttransform: translate3d(0, 980rpx, 0);\r\n\t\ttransition: transform .2s cubic-bezier(0, 0, .25, 1);\r\n\t\tbottom: env(safe-area-inset-bottom);\r\n\t\tborder-radius: 12rpx;\r\n\t\tz-index: 99;\r\n\t}\r\n\r\n\t.product-popup.open .main {\r\n\t\ttransform: translate3d(0, 0, 0);\r\n\t\tz-index: 99;\r\n\t}\r\n\r\n\t.product-popup.close .popup-bg {\r\n\t\tdisplay: none;\r\n\t}\r\n\r\n\t.product-popup.close .main {\r\n\t\tdisplay: none;\r\n\t\tz-index: -1;\r\n\t}\r\n\r\n\r\n\t.product-popup .header {\r\n\t\tmin-height: 120rpx;\r\n\t\tpadding: 40rpx 0 40rpx 250rpx;\r\n\t\tposition: relative;\r\n\t\tborder-bottom: 1px solid #eeeeee;\r\n\t}\r\n\r\n\t.product-popup .header .avt {\r\n\t\tposition: absolute;\r\n\t\ttop: 10rpx;\r\n\t\tleft: 30rpx;\r\n\t\twidth: 180rpx;\r\n\t\theight: 180rpx;\r\n\t\tborder: 2px solid #ffffff;\r\n\t\tbackground: #ffffff;\r\n\t\tborder-radius: 12rpx;\r\n\t}\r\n\r\n\t.product-popup .header .stock {\r\n\t\tfont-size: 26rpx;\r\n\t\tcolor: #999999;\r\n\t}\r\n\r\n\t.product-popup .close-btn {\r\n\t\tposition: absolute;\r\n\t\twidth: 40rpx;\r\n\t\theight: 40rpx;\r\n\t\ttop: 40rpx;\r\n\t\tright: 30rpx;\r\n\t}\r\n\r\n\t.product-popup .price {\r\n\t\theight: 80rpx;\r\n\t\tcolor: $dominant-color;\r\n\t\tfont-size: 30rpx;\r\n\t}\r\n\r\n\t.product-popup .price .num {\r\n\t\tpadding: 0 4rpx;\r\n\t\tfont-size: 50rpx;\r\n\t}\r\n\r\n\t.product-popup .old-price {\r\n\t\tmargin-left: 10rpx;\r\n\t\tfont-size: 30rpx;\r\n\t\tcolor: #999999;\r\n\t\ttext-decoration: line-through;\r\n\t}\r\n\r\n\t.product-popup .body {\r\n\t\tpadding: 20rpx 30rpx 39rpx 30rpx;\r\n\t\t// max-height: 600rpx;\r\n\t\toverflow-y: auto;\r\n\t\tpadding-bottom: 88rpx;\r\n\t}\r\n\r\n\t.product-popup .level-box {\r\n\t\tdisplay: flex;\r\n\t\tjustify-content: space-between;\r\n\t\talign-items: center;\r\n\t}\r\n\r\n\t.product-popup .level-box .key {\r\n\t\tfont-size: 24rpx;\r\n\t\tcolor: #999999;\r\n\t}\r\n\r\n\t.product-popup .level-box .icon-box {\r\n\t\twidth: 48rpx;\r\n\t\theight: 40rpx;\r\n\t\tbackground: #e0e0e0;\r\n\t}\r\n\r\n\t.product-popup .num-wrap .iconfont {\r\n\t\tcolor: #666;\r\n\t}\r\n\r\n\t.product-popup .num-wrap.no-stock .iconfont {\r\n\t\tcolor: #cccccc;\r\n\t}\r\n\r\n\t.product-popup .level-box .text-wrap {\r\n\t\tmargin: 0 4rpx;\r\n\t\theight: 60rpx;\r\n\t\tborder: none;\r\n\t\tbackground: #ffffff;\r\n\t}\r\n\r\n\t.product-popup .level-box .text-wrap input {\r\n\t\tpadding: 0 10rpx;\r\n\t\theight: 60rpx;\r\n\t\tline-height: 60rpx;\r\n\t\twidth: 80rpx;\r\n\t\ttext-align: center;\r\n\t\tfont-size: 32rpx;\r\n\t}\r\n\r\n\t.specs .specs-list {\r\n\t\tdisplay: flex;\r\n\t\tjustify-content: flex-start;\r\n\t\talign-items: center;\r\n\t\tflex-wrap: wrap;\r\n\t}\r\n\r\n\t.specs .specs-list button {\r\n\t\tmargin-right: 10rpx;\r\n\t\tmargin-bottom: 10rpx;\r\n\t\tfont-size: 24rpx;\r\n\t}\r\n\r\n\t.specs .specs-list button:after,\r\n\t.product-popup .btns button,\r\n\t.product-popup .btns button:after {\r\n\t\tborder: 0;\r\n\t\tborder-radius: 0;\r\n\t\tmargin-bottom: 55rpx;\r\n\t}\r\n\r\n\t.product-popup .btns .confirm-btn {\r\n\t\twidth: 710rpx;\r\n\t\theight: 80rpx;\r\n\t\tbackground: linear-gradient(90deg, #FF6B6B 4%, #F6220C 100%);\r\n\t\tborder-radius: 40rpx;\r\n\t\tmargin: 0 auto;\r\n\t\tmargin-bottom: 55rpx;\r\n\t\tbackground-color: #FFFFFF;\r\n\t\tcolor: #FFFFFF;\r\n\t\tline-height: 80rpx;\r\n\t\tfont-size: 32rpx;\r\n\t}\r\n\r\n\t.select_spec {\r\n\t\toverflow: hidden;\r\n\t\ttext-overflow: ellipsis;\r\n\t\twhite-space: nowrap;\r\n\t}\r\n\r\n\t.btn-checked {\r\n\t\tborder: 1px solid #F6220C;\r\n\t\tborder-radius: 6px;\r\n\t\tcolor: #F6220C;\r\n\t\tfont-size: 26rpx;\r\n\t\tbackground-color: #FFFFFF;\r\n\t}\r\n\r\n\t.btn-checke {\r\n\t\tborder: 1rpx solid #D9D9D9;\r\n\t\tborder-radius: 6rpx;\r\n\t\tfont-size: 26rpx;\r\n\t\tcolor: #333333;\r\n\t\tbackground-color: #FFFFFF;\r\n\t}\r\n</style>\n","import mod from \"-!../../../../../../../HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../../../../HBuilderX/plugins/uniapp-cli/node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!../../../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-2!../../../../../../../HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-3!../../../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/sass-loader/dist/cjs.js??ref--8-oneOf-1-4!../../../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-5!../../../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./Spec.vue?vue&type=style&index=0&lang=scss&\"; export default mod; export * from \"-!../../../../../../../HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../../../../HBuilderX/plugins/uniapp-cli/node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!../../../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-2!../../../../../../../HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-3!../../../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/sass-loader/dist/cjs.js??ref--8-oneOf-1-4!../../../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-5!../../../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./Spec.vue?vue&type=style&index=0&lang=scss&\""],"sourceRoot":""}