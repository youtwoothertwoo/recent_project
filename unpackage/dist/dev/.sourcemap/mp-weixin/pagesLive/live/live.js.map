{"version":3,"sources":["uni-app:///main.js","webpack:///D:/working/舒服康/pagesLive/live/live.nvue?c9ec","webpack:///D:/working/舒服康/pagesLive/live/live.nvue?3fd0","webpack:///D:/working/舒服康/pagesLive/live/live.nvue?7703","webpack:///D:/working/舒服康/pagesLive/live/live.nvue?d360","uni-app:///pagesLive/live/live.nvue","webpack:///D:/working/舒服康/pagesLive/live/live.nvue?73a7","webpack:///D:/working/舒服康/pagesLive/live/live.nvue?e63e","webpack:///D:/working/舒服康/pagesLive/live/live.nvue?e7ca","webpack:///D:/working/舒服康/pagesLive/live/live.nvue?1127"],"names":["wx","__webpack_require_UNI_MP_PLUGIN__","__webpack_require__","createPage","Page","components","liveCart","liveGift","liveMsg","livePlan","liveOrder","liveAnchor","liveMore","liveShare","liveRank","Likes","share","Countdown","AppShare","preview","data","statusBarH","headerBarH","winHeight","winWidth","videoIndex","clickNum","giftipShowist","sence","room_id","shop_supplier_id","role","loading","commentsList","maxCommentSize","roomDetail","supplier","giftName","gift_num","hasFollow","giftList","isCaster","user","giftInfo","nickName","avatarUrl","giftImage","explain_product_id","explain_product","num","digg_num","digg_times","digg_timer","is_replay","replay_url","is_start","qrcode","toMsg","emojiData","countdownConfig","startstamp","endstamp","title","isAppShare","appParams","summary","path","zOrderMediaOverlay","zOrderOnTop","renderMode","mirrorMode","engine_load","enabled","contrastLevel","lightening","smoothness","redness","sharpness","beforeCreate","created","console","onLoad","uni","keepScreenOn","onReady","onUnload","onShow","mounted","permision","self","methods","getRequest","getRoomInfo","liveRoomStart","loginRoom","channel","appid","closePreview","switchCamera","setBeautyOptions","setDefinition","vd","startPreview","channelName","uid","rtmLogin","agoraRtm","token","addRtmListeners","globalEvent","addRtcListeners","enterRoom","openLive","agoraView","initRoom","showProduct","product_id","synRoomInfo","type","views","initProduct","product_image","product_price","gotoProduct","url","handleSlider","play","pause","handleAttention","vlist","handleLiveCart","handleLiveGift","handleRollMsg","sendChannelMsg","msg","registerLevel","closeMsg","removeComment","getGift","min","list","openPlan","closePlan","openOrder","closeOrder","setProduct","explain","isExplain","sendMsg","message","digg","showMsg","icon","setTimeout","followFunc","pid","openAnchor","changeFollow","openMore","openShare","liveSet","openRank","sendGift","getGiftName","name","getGiftImage","livePoster","source","closeShare","onShareAppMessage","imageUrl","initemoji","emoji","goBack","closeLive","content","success","status","onJoinChannelSuccess","onLeaveChannel","onRemoteVideoStateChanged","onUserJoined","onUserOffline","leaveChannel","clearInterval","channelId","onLoginSuccess","joinChannel","onLoginFailure","onLogoutSuccess","onLogoutFailure","onJoinSuccess","onJoinFailure","onChannelMessageReceived","changeVirtualBackground","backgroundSourceType","color","blur_degree","synRoomData","channelIds","res","ids"],"mappings":";;;;;;;;;;;;;AAAA;AAGA;AACA;AAHA;AACAA,EAAE,CAACC,iCAAiC,GAAGC,mBAAmB;AAG1DC,UAAU,CAACC,aAAI,CAAC,C;;;;;;;;;;;;;ACLhB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAA8H;AAC9H;AACyD;AACL;AACa;AACwB;;;AAGzF;AACmK;AACnK,gBAAgB,6KAAU;AAC1B,EAAE,2EAAM;AACR,EAAE,4FAAM;AACR,EAAE,qGAAe;AACjB;AACA;AACA;AACA;AACA;AACA,EAAE,gGAAU;AACZ;AACA;;AAEA;AACe,gF;;;;;;;;;;;;ACxBf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;;;;;;;;;;;;ACAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;ACRA;AAAA;AAAA;AAAA;AAAkmB,CAAgB,+mBAAG,EAAC,C;;;;;;;;;;;;;;;;;;;;ACiNtnB;AAaA;AAGA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAlBA;AACA;AAAA;EAAA;IAAA;EAAA;AAAA;AAAA;EAAA;IAAA;EAAA;AAAA;AAAA;EAAA;IAAA;EAAA;AAAA;AAAA;EAAA;IAAA;EAAA;AAAA;AAAA;EAAA;IAAA;EAAA;AAAA;AAAA;EAAA;IAAA;EAAA;AAAA;AAAA;EAAA;IAAA;EAAA;AAAA;AAAA;EAAA;IAAA;EAAA;AAAA;AAAA;EAAA;IAAA;EAAA;AAAA;AAAA;EAAA;IAAA;EAAA;AAAA;AAAA;EAAA;IAAA;EAAA;AAAA;AAAA;EAAA;IAAA;EAAA;AAAA;AAAA;EAAA;IAAA;EAAA;AAAA;AAAA;EAAA;IAAA;EAAA;AAAA;AAmBA;AAAA,eACA;EACAC;IACAC;IACAC;IACA;IACAC;IACAC;IACAC;IACAC;IACAC;IACAC;IACAC;IACAC;IACAC;IACAC;IACAC;IACAC;EACA;EACAC;IAAA;IACA;MACAC;MACAC;MACAC;MACAC;MACAC;MACAC;MAAA;MACAC;MACAC;MAAA;MACAC;MAAA;MACAC;MACAC;MACAC;MACA;MACAC;MACAC;MACAC;QACAC;UACAN;QACA;MACA;MACAO;MACA;MACAC;MACAC;MACAC;MACA;MACAC;MACA;MACAC;MACA;MACAC;QACAC;QACAC;QACAR;QACAS;MACA;MACA;MACAC;MACA;MACAC;MACAC;MACAC;MACAC;MACAC;MACAC;MACAC;MACAC;MACAC;MACAC;MACAC;MACA;MACAC;QACA;QACAC;QACA;QACAC;QACA;QACAC;MACA;MACA;MACAC;MACAC;QACAF;QACAG;QACAC;MACA;MACAC;MACAC;MACAC;MAAA;MACAC;MAAA;MACAC;IAAA,mDACA,yDAEA,kDACA,oDAEA,oDAEA,qDACA,qDACA,uDACA,uDACA,uDACA,kDACA,gDACA,0DACA,kDACA,qDACA,0DACA;MACAC;MACAC;MACAC;MACAC;MACAC;MACAC;IACA,sDACA,yDACA,uDACA,yDACA,wDACA;EAEA;EACAC,uCAQA;EACAC;IACAC;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;EACA;EACAC;IACAC;MACAC;IACA;IACA;IACA;IACA;IACA;IACA;IACA;EACA;EACAC;EACA;AACA;AACA;EACAC;IACA;EAAA,CACA;EACAC;IACA;IACA;IACA;EAAA,CACA;EACAC;IACA;IACAP;IACA;MACAQ;MACAA;MACAC;MACAA;IACA;MACA;MACA;MACAA;MACAA;IACA;IACAA;IACA;EACA;EACAC;IACA,QACAC;MACA;MAKA;IAEA;IACA,WACAC;MACA;MACAV;QACApB;MACA;MACA2B,wBACA,yBACA;QACA5D;MACA,GACA;QACAmD;QACAA;QACAE;QACAO;QACAA;QACAA;QACAA;QACAA;QACAA;QACAA;QACAA;QACA;QACA;UACAA;QACA;UACAA;QACA;QACAA;QACAA;UACAA;QACA;MACA,EACA;IACA;IACAI;MACA;MACAJ;MACAA;MACAA;MACAA;MACA;QACA;QACA;UACAA;QACA;QACA;QACA;UACAA;QACA;MACA;QACA;QACAT;MACA;MACAS;IACA;IACAK;MACA;MACAZ;QACApB;MACA;MACA2B,uBACA,6BACA;QACA5D;QACAkE;MACA,GACA;QACAf;QACAA;QACAS;QACAA;QACAA;QACAA;QACA;UACAA;YACAP;UACA;UACA;QACA;QACA;QACA;UACA;YACAO;cACAP;YACA;YACA;UACA;QACA;UACA;UACA;YACAO;cACAP;YACA;YACA;UACA;QACA;QACA;QACA;UACAO;YACAP;UACA;UACA;QACA;QACAO;QACAA,sBACA;UACAO;QACA,GACA;UACAP;UACAA;UACAT;UACA;UACA;YACAS;YACAT;YACA;YACA;YACA;cACAS;YACA;cACAA;YACA;UACA;YACA;YACAA;UACA;UACAA;QACA,EACA;MACA,EACA;IACA;IACA,UACAQ;MACAf;MACA;IACA;IACA,WACAgB;MACA;MACAT;QACAT;MACA;IACA;IACA,UACAmB;MACAnB;MACA;QACA;QACA;UACA;QACA;UACAE;QACA;QACA;QACA;UACA;QACA;UACAA;QACA;QACA;QACA;UACA;QACA;UACAA;QACA;QACA;QACA;UACA;QACA;UACAA;QACA;MACA;QACA;QACA;QACAA;QACA;QACAA;QACA;QACAA;QACA;QACAA;MACA;MACA;IACA;IACAkB;MACApB;MACA;MACAE;MACAO,4CACA;QACAY;MACA,GACA;QACArB;MACA,EACA;IACA;IACAsB;MACA;MACAb;MACA;QACAA,+BACA;UACAc;UACAC;QACA,GACA;UACAxB;QACA,EACA;MACA;MACAS;MACA;MACA;MACA;QACAY;MACA;MACAZ;MACAA;QACAT;MACA;IACA;IACA;IACAyB;MACA;MACA;MACAC,wBACA;QACAV;MACA,GACA;QACAhB;MACA,EACA;MACAS;MACAA,uBACA,gCACA;QACA5D;MACA,GACA;QACAmD;QACAA;QACA0B,eACA;UACAC;UACAH;QACA,GACA;UACAxB;QACA,EACA;MACA,GACA;QACAA;MACA,EACA;IACA;IACA4B;MACA;MACAC;QACA;UACApB;QACA;MACA;MACAoB;QACApB;MACA;IACA;IACA;IACAqB;MACA;MACAD;QACApB;MACA;MACAoB;QACApB;MACA;MACAoB;QACApB;MACA;MACAoB;QACApB;MACA;MACAoB;QACApB;MACA;IACA;IACAsB;MACA;MACAtB;MACAA;MACAA;MACAA;MACA;QACAA,gCACA;UACAc;UACAC;QACA,GACA,kBACA;MACA;MACAf,2BACA;QACAkB;QACAJ;QACAC;MACA,GACA;QACAxB;MACA,GACA;QACAA;MACA,EACA;IACA;IACAgC;MACA;MACA;MACA;MACA;QACAvB;QACAwB;UACAjC;QACA;MACA;MACAiC;MACAA;MACAA;MACAA;MACA;MACA;QACAA,0BACA;UACAV;UACAC;QACA,GACA;UACAxB;QACA,EACA;MACA;MACAiC,sBACA;QACAN;QACAJ;QACAC;MACA,GACA;QACAxB;QACAA;MACA,EACA;IACA;IACAkC;MACA;MACA;IACA;IACA,WACAC;MACA;MACA1B;MACAA,wBACA,iCACA;QACA2B;MACA,GACA;QACA3B;QACAT;MACA,EACA;IACA;IACA,WACAqC;MACA;MACA5B,wBACA,2BACA;QACA5D;MACA,GACA;QACA;QACA;UACAyF;UACAC;UACArE;QACA;QACAuC;MACA,EACA;IACA;IACA+B;MACA;QACA;UACAC;UACAC;UACAN;QACA;MACA;MACApC;MACAA;IACA;IACA,UACA2C;MACA;MACAzC;QACA0C;MACA;IACA;IACAC;MACA;MACA;QACA;QACA;MACA;MACA;QACA;MACA;QACA;MACA;MACA;IACA;IACAC;MACA;IACA;IACAC;MACA;IACA;IACAC;MACA;MACAC;MACA;IACA;IACAC;MACA;IACA;IACAC;MACA;IACA;IACAC;MACA;IACA;IACAC;MACA;QACAf;QACAgB;QACAC;QACA3F;MACA;MACA;IACA;IACA4F;MACA;MACA;QACAlB;QACAgB;QACA1F;MACA;MACA6C;IACA;IACAgD;MACA;MACA;MACA;QACA;UACAhD;QACA;MACA;MACAA;QACAA;MACA;IACA;IACA,UACAiD;MACA;MACAjD;QACAT;QACAA;QACA;UACA2D;UACA1F;QACA;UACAA;UACA0F;UACA;YACAC;YACAD;YACA1F;UACA;QACA;QACA;UACA2F;QACA;QACAnD;QACAT;MACA;IACA;IAEA6D;MACA;IACA;IACAC;MACA;IACA;IACAC;MACA;IACA;IACAC;MACA;IACA;IACAC;MACAjE;MACAA;MACA;QACA;QACA;MACA;QACA;QACA;MACA;MACA;QACAsC;QACA4B;QACAC;MACA;MACA;IACA;IACAC;MACA;MACA;MACA;MACA;MACA1C,qBACA;QACA2C;MACA,GACA;QACArE;QACAS;MACA,GACA;QACAT;MACA,EACA;IACA;IACAsE;MACAtE;MACA;QACA;MACA;MACA;MACAS;MACAT;MACAS,wBACA,uBACA;QACA5D;QACAoB;MACA,GACA;QACA+B;QACA;QACA;UACAsC;UACApE;QACA;QACAuC;MACA,EACA;IACA;IACA8D;MACA;MACA;MACAvE;MACA;MACA;QACAS;QACAA;MACA;QACAT;QACA;QACAS;QACAT;MACA;QACAS;QACA;QACAP;UACApB;UACA0F;QACA;QACA;MACA;QACA/D;MACA;QACAA;UACA7C;UACAC;UACAR;UACAS;QACA;QACA2G;UACAhE;YACA7C;UACA;QACA;MACA;QACA;QACAsC;UACApB;UACA0F;QACA;QACA/D;MACA;QACA;QACAP;UACApB;UACA0F;QACA;QACA/D;QACA;MACA;QACA;QACAP;UACApB;UACA0F;QACA;MACA;QACA;QACA;QACA;QACA;QACA;QACA;MACA;IACA;IACA,MACAE;MACA;MACAjE,wBACA,qBACA;QACA3D;QACA6H;QACArC;MACA,GACA;QACAtC;QACAS;MACA,EACA;IACA;IACAmE;MACA;IACA;IACAC;MACA;IACA;IACAC;MACA;IACA;IACAC;MACA;MAEAtE;IAcA;IACA,QACAuE;MACA;IACA;IAEAC;MACA;IACA;IACA,QACAC;MACA;MACA;MACA;QACA5C;QACAgB;QACA1F;QACAC;MACA;MACA4C;MACA;QACA6B;QACAgB;MACA;MACA7C;IACA;IACA,QACA0E;MACA;MACA;QACA;UACA;UACA;YACAC;YACApF;YACA;UACA;QACA;MACA;MACA;IACA;IACA,QACAqF;MACA;MACA;QACA;UACA;UACA;YACAzC;YACA;UACA;QACA;MACA;MACA;IACA;IACA0C;MACA;MACApF;QACApB;MACA;MACA;MAIA2B,uBACA,yBACA;QACA5D;QACA0I;MACA,GACA;QACA9E;MACA,GACA,MACA;QACAP;MACA,EACA;IACA;IACA,IACAsF;MACA;IACA;IACA,MACAC;MACA;MACA;MACA;QACA5I;QACAD;MACA;MACA;QACAkC;QACAI;QACAwG;MACA;IACA;IACAC;MACA;MACA;QACA;QACA;UACAC;QACA;MACA;MACA5F;IACA;IACA6F;MACA3F;QACA0C;MACA;IACA;IACAkD;MACA;MACA;MACA;QACA5F;UACApB;UACAiH;UACAC;YACA;cACA;cACAvF,uBACA,mCACA;gBACA5D;cACA,GACA;gBACAmD;cACA,EACA;cACA;;cAEAS,wBACA,6BACA;gBACA5D;gBACAoJ;cACA,GACA;gBACAjG;gBACAS;cACA,EACA;YACA;UACA;QACA;MACA;QACAA;MACA;IACA;IACAyF;MACA;MACAlG;MACA;MACAS;MACA;MACA;QACAA,wBACA,6BACA;UACA5D;UACAoJ;QACA,GACA,mBACA;UACAjG;QACA,EACA;QACAS,wBACA,sCACA;UACA5D;QACA,GACA;UACAmD;UACAA;UACAS,wBACA,oCACA;YACA5D;UACA,GACA;YACA4H;cACAhE,wBACA,oCACA;gBACA5D;cACA,GACA;gBACAmD;gBACAA;cACA,EACA;YACA;UACA,EACA;QACA,EACA;MACA;IACA;IACAmG;MACAnG;IACA;IACAoG;MACApG;IACA;IACAqG;MACArG;IACA;IACAsG;MACA;MACAtG;MACA;IACA;IACAuG;MACA;MACAvG;MACAwG;MACA;MACA;QACA/F;QACAA;UACAgG;QACA;MACA;MACAhG;QACAT;QACAS;MACA;MACA;MACA;MACAT;MACA;QACAE;UACA0C;QACA;MACA;QACA;UACA1C;QACA;UACAA;YACA0C;UACA;QACA;MACA;IACA;IACA8D;MACA;IACA;IACAC;MACA;MACA;MACAjF,uBACA;QACA+E;MACA,GACA;QACA/E;UACAjB;QACA;MACA,EACA;IACA;IACAmG;MACA5G;MACAA;IACA;IACA6G;MACA7G;MACAA;IACA;IACA8G;MACA9G;MACAA;IACA;IACA+G;MACA;MACA;QACAzE;QACAgB;QACAC;QACA3F;MACA;MACA6C;MACAA;MACA;MACAA;QACAA;MACA;IACA;IACAuG;MACAhH;MACAA;IACA;IACAiH;MACAjH;MACA;IACA;IACAkH;MACA;MACAlH;MACA;QACAS,uCACA;UACAjB;QACA,GACA;UACAQ;UACAA;QACA,EACA;QACA;MACA;MACAE;QACA0C;QACAoD;UACA;YACAhG;YACAS,uCACA;cACAjB;cACA+F;cACA4B;cACAC;cACAC;YACA,GACA;cACArH;cACAA;YACA,EACA;UACA;QACA;MACA;IACA;IACAsH;MACA;MACA;MACA;MACA;MACA5F,+BACA;QACA6F;MACA,GACA;QACA9G;MACA,EACA;MACA;MACA;MACAiB;QACA;QACAjB;QACA;QACA;UACA+G;YACA;cACAC;YACA;YACAhH;UACA;QACA;UACA+G;YACA;cACAC;YACA;YACAhH;UACA;QACA;;QAEA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;MACA;MACA;IACA;EACA;AACA;AAAA,2B;;;;;;;;;;;;;ACr9CA;AAAA;AAAA;AAAA;AAAq3B,CAAgB,o2BAAG,EAAC,C;;;;;;;;;;;ACAz4B;AACA,OAAO,KAAU,EAAE,kBAKd;;;;;;;;;;;;;ACNL;AAAA;AAAA;AAAA;AAA64B,CAAgB,43BAAG,EAAC,C;;;;;;;;;;;ACAj6B;AACA,OAAO,KAAU,EAAE,kBAKd","file":"pagesLive/live/live.js","sourcesContent":["import 'uni-pages';\n// @ts-ignore\nwx.__webpack_require_UNI_MP_PLUGIN__ = __webpack_require__;\nimport Vue from 'vue'\nimport Page from './pagesLive/live/live.nvue'\ncreatePage(Page)","import { render, staticRenderFns, recyclableRender, components } from \"./live.nvue?vue&type=template&id=4215c3cc&scoped=true&\"\nvar renderjs\nimport script from \"./live.nvue?vue&type=script&lang=js&\"\nexport * from \"./live.nvue?vue&type=script&lang=js&\"\nimport style0 from \"./live.nvue?vue&type=style&index=0&lang=css&\"\nimport style1 from \"./live.nvue?vue&type=style&index=1&id=4215c3cc&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"4215c3cc\",\n  null,\n  false,\n  components,\n  renderjs\n)\n\ncomponent.options.__file = \"pagesLive/live/live.nvue\"\nexport default component.exports","export * from \"-!../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--17-0!../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/template.js!../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-uni-app-loader/page-meta.js!../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./live.nvue?vue&type=template&id=4215c3cc&scoped=true&\"","var components\nvar render = function () {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n}\nvar recyclableRender = false\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns, recyclableRender, components }","import mod from \"-!../../../../HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--13-1!../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./live.nvue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--13-1!../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./live.nvue?vue&type=script&lang=js&\"","<style>\n  view,\n  label,\n  swiper-item,\n  scroll-view {\n    display:flex;\n    flex-direction:column;\n    flex-shrink: 0;\n    flex-grow: 0;\n    flex-basis: auto;\n    align-items: stretch;\n    align-content: flex-start;\n  }\n  view,\n  image,\n  input,\n  scroll-view,\n  swiper,\n  swiper-item,\n  text,\n  textarea,\n  video {\n    position: relative;\n    border: 0px solid #000000;\n    box-sizing: border-box;\n  }\n  swiper-item {\n    position: absolute;\n  }\n  button {\n    margin: 0;\n  }\n</style>\n<template>\r\n\t<div class=\"nlv__container\" :style=\"'height:' + winHeight + ' ;'\">\r\n\t\t<template>\r\n\t\t\t<preview\r\n\t\t\t\t:isShow=\"is_preview\"\r\n\t\t\t\t@switchCamera=\"switchCamera\"\r\n\t\t\t\t@setBeautyOptions=\"setBeautyOptions\"\r\n\t\t\t\t@changeVirtualBackground=\"changeVirtualBackground\"\r\n\t\t\t\t@setDefinition=\"setDefinition\"\r\n\t\t\t\t@openLive=\"openLive\"\r\n\t\t\t\t@close=\"closePreview\"\r\n\t\t\t></preview>\r\n\t\t</template>\r\n\t\t<template v-if=\"!is_preview\">\r\n\t\t\t<view class=\"nlv_main\" :style=\"'height:' + winHeight + ' ;'\">\r\n\t\t\t\t<view class=\"nlv-playerbox\">\r\n\t\t\t\t\t<view class=\"nlv_topbar\" :style=\"{ height: headerBarH, 'padding-top': statusBarH }\">\r\n\t\t\t\t\t\t<view class=\"topbar-info\">\r\n\t\t\t\t\t\t\t<view class=\"avator-box\">\r\n\t\t\t\t\t\t\t\t<image\r\n\t\t\t\t\t\t\t\t\tclass=\"ta-avator\"\r\n\t\t\t\t\t\t\t\t\t@tap=\"openAnchor\"\r\n\t\t\t\t\t\t\t\t\t:src=\"\r\n\t\t\t\t\t\t\t\t\t\t(roomDetail.supplier && roomDetail.supplier.logo && roomDetail.supplier.logo.file_path) ||\r\n\t\t\t\t\t\t\t\t\t\t\t(roomDetail.user && roomDetail.user.avatarUrl) ||\r\n\t\t\t\t\t\t\t\t\t\t\t''\r\n\t\t\t\t\t\t\t\t\t\"\r\n\t\t\t\t\t\t\t\t\tmode=\"aspectFill\"\r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t<view class=\"tabox\">\r\n\t\t\t\t\t\t\t\t\t<text class=\"ta-name\">{{ roomDetail.supplier && roomDetail.supplier.name }}</text>\r\n\t\t\t\t\t\t\t\t\t<text class=\"ta-num\">{{ online_count }}观看</text>\r\n\t\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t\t<text class=\"ta-gz\" :class=\"hasFollow ? 'ta-gz-on' : ''\" @tap=\"followFunc()\" v-if=\"!isCaster\">{{ hasFollow ? '已关注' : '关注' }}</text>\r\n\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t<view class=\"topbar-right\">\r\n\t\t\t\t\t\t\t<view class=\"\" v-if=\"isCaster\" @tap.stop=\"closeLive\"><image class=\"close-btn\" src=\"/static/live/close.png\" mode=\"\"></image></view>\r\n\t\t\t\t\t\t</view>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t\t<view class=\"nlv-rankbox\" :style=\"{ top: headerBarH }\">\r\n\t\t\t\t\t\t<view class=\"nlv-rkls\" @click=\"openRank\">\r\n\t\t\t\t\t\t\t<text class=\"rkitem\">{{ giftName }}：{{ roomDetail.gift_num }}</text>\r\n\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t<view class=\"nlv-rkls\">\r\n\t\t\t\t\t\t\t<text class=\"rkitem ml30\">人气值：{{ digg_num }}</text>\r\n\t\t\t\t\t\t</view>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t\t<view class=\"nlv-footToolbar\">\r\n\t\t\t\t\t\t<!-- 底部 -->\r\n\t\t\t\t\t\t<view class=\"nlv-infobox\">\r\n\t\t\t\t\t\t\t<view class=\"nlv-giftTipPanel\" v-if=\"giftInfo.nickName != ''\">\r\n\t\t\t\t\t\t\t\t<view class=\"giftip-item\">\r\n\t\t\t\t\t\t\t\t\t<image class=\"gt-avator\" :src=\"giftInfo.avatarUrl\" mode=\"aspectFill\" />\r\n\t\t\t\t\t\t\t\t\t<view class=\"gt-info\">\r\n\t\t\t\t\t\t\t\t\t\t<text class=\"gt-tit\">{{ giftInfo.nickName }}</text>\r\n\t\t\t\t\t\t\t\t\t\t<text class=\"gt-subtit\">送主播{{ giftInfo.giftName }}</text>\r\n\t\t\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t\t\t<image class=\"gt-gift\" :src=\"giftInfo.giftImage\" mode=\"aspectFill\" />\r\n\t\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t<!-- 弹幕 -->\r\n\t\t\t\t\t\t\t<scroll-view class=\"nlv-rollMsgPanel\" :scroll-into-view=\"toMsg\" scroll-y show-scrollbar=\"false\">\r\n\t\t\t\t\t\t\t\t<!-- <view class=\"nlv-msglist\"> -->\r\n\t\t\t\t\t\t\t\t<view class=\"msg_bg\" :id=\"'comment' + index\" v-for=\"(item, index) in commentsList\" :key=\"index\">\r\n\t\t\t\t\t\t\t\t\t<view class=\"msg_text pr\" v-if=\"item.type == 'text'\">\r\n\t\t\t\t\t\t\t\t\t\t<text class=\"msg_txt\">{{ ' ' + item.nickName }}:{{ item.msg }}</text>\r\n\t\t\t\t\t\t\t\t\t\t<view class=\" msg-text-name\">\r\n\t\t\t\t\t\t\t\t\t\t\t<text class=\"msg_name\">{{ ' ' + item.nickName }}:</text>\r\n\t\t\t\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t\t\t<view class=\"msg_text  pr\" v-if=\"item.type == 'enter'\">\r\n\t\t\t\t\t\t\t\t\t\t<text class=\"msg_txt\">{{ item.nickName }}来了</text>\r\n\t\t\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t\t\t<view class=\"msg_text  pr\" v-if=\"item.type == 'join'\">\r\n\t\t\t\t\t\t\t\t\t\t<text class=\"msg_txt\">{{ ' ' + item.nickName }}来了</text>\r\n\t\t\t\t\t\t\t\t\t\t<view class=\"msg-text-name \">\r\n\t\t\t\t\t\t\t\t\t\t\t<text class=\"msg_name\">{{ ' ' + item.nickName }}</text>\r\n\t\t\t\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t\t<!-- </view> -->\r\n\t\t\t\t\t\t\t</scroll-view>\r\n\t\t\t\t\t\t\t<view class=\"d-b-c f-d-i ww100\" style=\"width: 700rpx;\">\r\n\t\t\t\t\t\t\t\t<view class=\"nlv_reply d-b-c f-d-i\" @tap.stop=\"handleRollMsg()\">\r\n\t\t\t\t\t\t\t\t\t<text class=\"nlv_reply_text\">说点什么...</text>\r\n\t\t\t\t\t\t\t\t\t<!-- #ifdef APP-PLUS -->\r\n\t\t\t\t\t\t\t\t\t<text class=\"icon iconfont icon-fasong\">&#xe743;</text>\r\n\t\t\t\t\t\t\t\t\t<!-- #endif -->\r\n\t\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t\t<view class=\"nlv_btntool\">\r\n\t\t\t\t\t\t\t\t\t<!-- #ifdef APP-PLUS -->\r\n\t\t\t\t\t\t\t\t\t<button class=\"btn-toolitem\" @tap.stop=\"openShare\"><image class=\"btn-icon-img\" src=\"/static/live/fx.png\" mode=\"\"></image></button>\r\n\t\t\t\t\t\t\t\t\t<view class=\"btn-toolitem\" @tap.stop=\"handleLiveCart()\"><image class=\"btn-icon-img\" src=\"/static/live/gwc.png\" mode=\"\"></image></view>\r\n\t\t\t\t\t\t\t\t\t<view class=\"btn-toolitem\" v-if=\"isCaster\" @tap.stop=\"openMore\"><image class=\"btn-icon-img\" src=\"/static/live/gd.png\" mode=\"\"></image></view>\r\n\t\t\t\t\t\t\t\t\t<view class=\"btn-toolitem\" @tap=\"handleLiveGift\" v-if=\"!isCaster\"><image class=\"btn-icon-img\" src=\"/static/live/ax.png\" mode=\"\"></image></view>\r\n\t\t\t\t\t\t\t\t\t<!-- #endif -->\r\n\t\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t</view>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t</view>\r\n\t\t\t\t<!--商品-->\r\n\t\t\t\t<div class=\"product\" v-if=\"explain_product != null\" @tap=\"gotoProduct\">\r\n\t\t\t\t\t<div class=\"product-pic\"><image :src=\"explain_product.product_image\" class=\"product-img\"></image></div>\r\n\t\t\t\t\t<div class=\"product-price\">\r\n\t\t\t\t\t\t<text class=\"f24 rose\">￥</text>\r\n\t\t\t\t\t\t<text class=\"rose f28\">{{ explain_product.product_price }}</text>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t\t<share :winHeight=\"winHeight\" v-if=\"qrcode != null\" :qrcode=\"qrcode\" @close=\"closeShare\"></share>\r\n\t\t\t</view>\r\n\t\t</template>\r\n\t\t<Likes ref=\"likes\" v-if=\"engine_load && showLike\"></Likes>\r\n\t\t<live-cart\r\n\t\t\tref=\"liveCart\"\r\n\t\t\t:isCaster=\"isCaster\"\r\n\t\t\t:shop_supplier_id=\"roomDetail.supplier.shop_supplier_id\"\r\n\t\t\t:room_id=\"room_id\"\r\n\t\t\t@openOrder=\"openOrder\"\r\n\t\t\t@setProduct=\"setProduct\"\r\n\t\t/>\r\n\t\t<live-gift ref=\"liveGift\" :room_id=\"room_id\" :giftName=\"giftName\" :giftList=\"giftList\" @openPlan=\"openPlan\" @sendGift=\"sendGift\" />\r\n\t\t<live-msg ref=\"liveMsg\" :emojiData=\"emojiData\" @closeMsg=\"sendChannelMsg\" />\r\n\t\t<live-plan ref=\"livePlan\" @closePlan=\"closePlan\" :giftName=\"giftName\" />\r\n\t\t<live-order ref=\"liveOrder\" :shop_supplier_id=\"roomDetail.supplier.shop_supplier_id\" :room_id=\"room_id\" @closeOrder=\"closeOrder\" />\r\n\t\t<live-anchor ref=\"liveAnchor\" :room_id=\"room_id\" :shop_supplier_id=\"roomDetail.supplier.shop_supplier_id\" @changeFollow=\"changeFollow\" />\r\n\t\t<live-more ref=\"liveMore\" @liveSet=\"liveSet\" @switchCamera=\"switchCamera\" />\r\n\t\t<live-share ref=\"liveShare\" @livePoster=\"livePoster\" />\r\n\t\t<live-rank ref=\"liveRank\" :room_id=\"room_id\" />\r\n\t\t<!-- app分享 -->\r\n\t\t<AppShare ref=\"appShare\" :appParams=\"appParams\"></AppShare>\r\n\t\t<AgoraView\r\n\t\t\t@click.stop=\"digg\"\r\n\t\t\tv-if=\"platform == 'android'\"\r\n\t\t\tref=\"agoraView\"\r\n\t\t\t:style=\"'width:750rpx;height:' + winHeight\"\r\n\t\t\t@onJoinChannelSuccess=\"onJoinChannelSuccess\"\r\n\t\t\t@onLeaveChannel=\"onLeaveChannel\"\r\n\t\t\t@onRemoteVideoStateChanged=\"onRemoteVideoStateChanged\"\r\n\t\t\t@onUserJoined=\"onUserJoined\"\r\n\t\t\t@onUserOffline=\"onUserOffline\"\r\n\t\t></AgoraView>\r\n\t\t<Agora-RTC-SurfaceView\r\n\t\t\t@click.stop=\"digg\"\r\n\t\t\tv-if=\"engine_load && platform == 'ios'\"\r\n\t\t\t:style=\"'width:750rpx;height:' + winHeight\"\r\n\t\t\t:zOrderMediaOverlay=\"zOrderMediaOverlay\"\r\n\t\t\t:zOrderOnTop=\"zOrderOnTop\"\r\n\t\t\t:renderMode=\"renderMode\"\r\n\t\t\t:data=\"{ uid: view_uid, channelId: liveChannelId }\"\r\n\t\t\t:mirrorMode=\"mirrorMode\"\r\n\t\t></Agora-RTC-SurfaceView>\r\n\t\t<AgoraRtm\r\n\t\t\tstyle=\"width: 0px;height: 0px;\"\r\n\t\t\tv-if=\"platform == 'android'\"\r\n\t\t\tref=\"agoraRtm\"\r\n\t\t\t@onLoginSuccess=\"onLoginSuccess\"\r\n\t\t\t@onLoginFailure=\"onLoginFailure\"\r\n\t\t\t@onLogoutSuccess=\"onLogoutSuccess\"\r\n\t\t\t@onLogoutFailure=\"onLogoutFailure\"\r\n\t\t\t@onJoinSuccess=\"onJoinSuccess\"\r\n\t\t\t@onJoinFailure=\"onJoinFailure\"\r\n\t\t\t@onChannelMessageReceived=\"onChannelMessageReceived\"\r\n\t\t></AgoraRtm>\r\n\t</div>\r\n</template>\r\n\r\n<script>\r\n// #ifdef APP-PLUS\r\nimport agoraRtc from '@/common/agoraRtc.js';\r\nimport agoraRtm from '@/common/agoraRtm.js';\r\nconst globalEvent = uni.requireNativePlugin('globalEvent');\r\n// #endif\r\nconst Prefix_RTC = 'io.agora.rtc.';\r\nconst Prefix_RTM = 'io.agora.rtm.';\r\nimport utils from '@/common/utils.js';\r\nimport liveCart from './live-part/liveCart';\r\nimport liveGift from './live-part/liveGift';\r\n// import liveRoom from './live-part/liveRoom';\r\nimport liveMsg from './live-part/liveMsg';\r\nimport livePlan from './live-part/livePlan';\r\nimport liveOrder from './live-part/liveOrder';\r\nimport liveAnchor from './live-part/liveAnchor';\r\nimport liveMore from './live-part/liveMore';\r\nimport liveShare from './live-part/liveShare';\r\nimport liveRank from './live-part/liveRank';\r\nimport Likes from './live-part/likes/index';\r\nimport share from './live-part/dialog/share';\r\nimport emoji from './live-part/emoji.js';\r\nimport Countdown from './live-part/countdown_nvue';\r\nimport AppShare from './live-part/app-nvue-share';\r\nimport permision from '@/common/permission.js';\r\nimport preview from './preview.nvue';\r\nlet timer = null;\r\nexport default {\r\n\tcomponents: {\r\n\t\tliveCart,\r\n\t\tliveGift,\r\n\t\t// liveRoom,\r\n\t\tliveMsg,\r\n\t\tlivePlan,\r\n\t\tliveOrder,\r\n\t\tliveAnchor,\r\n\t\tliveMore,\r\n\t\tliveShare,\r\n\t\tliveRank,\r\n\t\tLikes,\r\n\t\tshare,\r\n\t\tCountdown,\r\n\t\tAppShare,\r\n\t\tpreview\r\n\t},\r\n\tdata() {\r\n\t\treturn {\r\n\t\t\tstatusBarH: '',\r\n\t\t\theaderBarH: '',\r\n\t\t\twinHeight: '',\r\n\t\t\twinWidth: '',\r\n\t\t\tvideoIndex: 0,\r\n\t\t\tclickNum: 0, //记录点击次数\r\n\t\t\tgiftipShowist: [],\r\n\t\t\tsence: '', //场景，create:主播，观众\r\n\t\t\troom_id: 0, //房间id,\r\n\t\t\tshop_supplier_id: 0,\r\n\t\t\trole: '',\r\n\t\t\tloading: true,\r\n\t\t\t/*消息列表*/\r\n\t\t\tcommentsList: [],\r\n\t\t\tmaxCommentSize: 100,\r\n\t\t\troomDetail: {\r\n\t\t\t\tsupplier: {\r\n\t\t\t\t\tshop_supplier_id: 0\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\tgiftName: '',\r\n\t\t\t/*礼物数*/\r\n\t\t\tgift_num: 0,\r\n\t\t\thasFollow: false,\r\n\t\t\tgiftList: [],\r\n\t\t\t//是否是主播\r\n\t\t\tisCaster: false,\r\n\t\t\t// 当前用户\r\n\t\t\tuser: {},\r\n\t\t\t// 礼物信息\r\n\t\t\tgiftInfo: {\r\n\t\t\t\tnickName: '',\r\n\t\t\t\tavatarUrl: '',\r\n\t\t\t\tgiftName: '',\r\n\t\t\t\tgiftImage: ''\r\n\t\t\t},\r\n\t\t\t/*当前讲解商品ID*/\r\n\t\t\texplain_product_id: '',\r\n\t\t\t/*当前讲解商品*/\r\n\t\t\texplain_product: null,\r\n\t\t\tnum: 0,\r\n\t\t\tdigg_num: 0,\r\n\t\t\tdigg_times: 5,\r\n\t\t\tdigg_timer: null,\r\n\t\t\tis_replay: false,\r\n\t\t\treplay_url: '',\r\n\t\t\tis_start: false,\r\n\t\t\tqrcode: null,\r\n\t\t\ttoMsg: '',\r\n\t\t\temojiData: [],\r\n\t\t\t/*倒计时配置*/\r\n\t\t\tcountdownConfig: {\r\n\t\t\t\t/*开始时间*/\r\n\t\t\t\tstartstamp: 0,\r\n\t\t\t\t/*结束时间*/\r\n\t\t\t\tendstamp: 0,\r\n\t\t\t\t/*标题*/\r\n\t\t\t\ttitle: ''\r\n\t\t\t},\r\n\t\t\t/*app分享*/\r\n\t\t\tisAppShare: false,\r\n\t\t\tappParams: {\r\n\t\t\t\ttitle: '',\r\n\t\t\t\tsummary: '',\r\n\t\t\t\tpath: ''\r\n\t\t\t},\r\n\t\t\tzOrderMediaOverlay: false,\r\n\t\t\tzOrderOnTop: false,\r\n\t\t\trenderMode: 1, //Hidden= 1, Fit = 2 ,Adaptive = 3, FILL = 4\r\n\t\t\tmirrorMode: 0, //Auto = 0, Enabled = 1, Disabled = 2\r\n\t\t\tengine_load: false,\r\n\t\t\tisCaster: false,\r\n\t\t\t/*美白*/\r\n\t\t\twhiteness: 5,\r\n\t\t\tbeauty: 5,\r\n\t\t\t// 用户信息\r\n\t\t\tuserInfo: {},\r\n\t\t\t// RTC房间频道\r\n\t\t\tchannel: '',\r\n\t\t\tview_uid: 0,\r\n\t\t\tagoraView: null,\r\n\t\t\tagoraRtm: null,\r\n\t\t\tplatform: '',\r\n\t\t\tagoraAppId: '',\r\n\t\t\tappId: '',\r\n\t\t\tuid: '',\r\n\t\t\tliveChannelId: '',\r\n\t\t\ttoken: '',\r\n\t\t\tnickName: '',\r\n\t\t\tbeautyOptions: {\r\n\t\t\t\tenabled: true,\r\n\t\t\t\tcontrastLevel: 1,\r\n\t\t\t\tlightening: 0.6,\r\n\t\t\t\tsmoothness: 0.5,\r\n\t\t\t\tredness: 0.1,\r\n\t\t\t\tsharpness: 0.3\r\n\t\t\t},\r\n\t\t\tis_preview: false,\r\n\t\t\tisExplain: false,\r\n\t\t\texplain: {},\r\n\t\t\tonline_count: 0,\r\n\t\t\tintervalTime: null\r\n\t\t};\r\n\t},\r\n\tbeforeCreate() {\r\n\t\t// #ifdef APP-PLUS\r\n\t\tconst domModule = weex.requireModule('dom');\r\n\t\tdomModule.addRule('fontFace', {\r\n\t\t\tfontFamily: 'iconfont',\r\n\t\t\tsrc: \"url('\" + getApp().font_url + \"')\"\r\n\t\t});\r\n\t\t// #endif\r\n\t},\r\n\tcreated() {\r\n\t\tconsole.log('------live created');\r\n\t\tthis.platform = uni.getSystemInfoSync().platform;\r\n\t\tlet _sH = uni.getSystemInfoSync().statusBarHeight;\r\n\t\tlet _hH = _sH + 50;\r\n\t\tlet _wH = uni.getSystemInfoSync().windowHeight;\r\n\t\tlet _wW = uni.getSystemInfoSync().windowWidth;\r\n\t\tthis.statusBarH = `${_sH}px`;\r\n\t\tthis.headerBarH = `${_hH}px`;\r\n\t\tthis.winHeight = `${_wH}px`;\r\n\t\tthis.winWidth = `${_wW}px`;\r\n\t},\r\n\tonLoad(options) {\r\n\t\tuni.setKeepScreenOn({\r\n\t\t\tkeepScreenOn: true\r\n\t\t});\r\n\t\tlet scene = utils.getSceneData(options);\r\n\t\tthis.room_id = options.room_id ? options.room_id : scene.rid;\r\n\t\tthis.role = options.sence == 'create' ? 'broadcaster' : 'audience';\r\n\t\t// if (this.role == 'broadcaster') {\r\n\t\t// \tthis.isCaster = true;\r\n\t\t// }\r\n\t},\r\n\tonReady() {},\r\n\t/**\r\n\t * 生命周期函数--监听页面卸载\r\n\t */\r\n\tonUnload: function() {\r\n\t\t// this.is_start && this.$refs.liveRoom.clear();\r\n\t},\r\n\tonShow() {\r\n\t\t// if (this.$refs.liveRoom) {\r\n\t\t// \tthis.$refs.liveRoom.show();\r\n\t\t// }\r\n\t},\r\n\tmounted() {\r\n\t\tlet self = this;\r\n\t\tconsole.log('-------agora-sdk---------------' + uni.getSystemInfoSync().platform);\r\n\t\tif (self.platform === 'android') {\r\n\t\t\tpermision.requestAndroidPermission('android.permission.RECORD_AUDIO');\r\n\t\t\tpermision.requestAndroidPermission('android.permission.CAMERA');\r\n\t\t\tself.agoraView = self.$refs.agoraView;\r\n\t\t\tself.agoraRtm = self.$refs.agoraRtm;\r\n\t\t} else if (self.platform === 'ios') {\r\n\t\t\t//permision.judgeIosPermission('camera');\r\n\t\t\t//permision.judgeIosPermission('record');\r\n\t\t\tself.agoraView = agoraRtc;\r\n\t\t\tself.agoraRtm = agoraRtm;\r\n\t\t}\r\n\t\tself.uid = self.getRequest().getUserId();\r\n\t\tthis.getRoomInfo();\r\n\t},\r\n\tmethods: {\r\n\t\t/*请求对象*/\r\n\t\tgetRequest() {\r\n\t\t\tlet self = this;\r\n\t\t\t// #ifdef APP-PLUS\r\n\t\t\treturn getApp().globalData.vueObj;\r\n\t\t\t// #endif\r\n\t\t\t// #ifndef APP-PLUS\r\n\t\t\treturn self;\r\n\t\t\t// #endif\r\n\t\t},\r\n\t\t/*获取直播间信息*/\r\n\t\tgetRoomInfo() {\r\n\t\t\tlet self = this;\r\n\t\t\tuni.showLoading({\r\n\t\t\t\ttitle: '正在进入'\r\n\t\t\t});\r\n\t\t\tself.getRequest()._post(\r\n\t\t\t\t'plus.live.room/detail',\r\n\t\t\t\t{\r\n\t\t\t\t\troom_id: self.room_id\r\n\t\t\t\t},\r\n\t\t\t\tfunction(res) {\r\n\t\t\t\t\tconsole.log('获取房间');\r\n\t\t\t\t\tconsole.log(res.data);\r\n\t\t\t\t\tuni.hideLoading();\r\n\t\t\t\t\tself.loading = false;\r\n\t\t\t\t\tself.roomDetail = res.data.model;\r\n\t\t\t\t\tself.giftName = res.data.gift_name;\r\n\t\t\t\t\tself.hasFollow = res.data.hasFollow;\r\n\t\t\t\t\tself.digg_num = res.data.model.digg_num;\r\n\t\t\t\t\tself.countdownConfig.endstamp = self.roomDetail.start_time;\r\n\t\t\t\t\tself.user = res.data.user;\r\n\t\t\t\t\tself.isCaster = res.data.isCaster;\r\n\t\t\t\t\t// self.isCaster = false;\r\n\t\t\t\t\tif (self.isCaster) {\r\n\t\t\t\t\t\tself.view_uid = 0;\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tself.view_uid = res.data.model.user_id;\r\n\t\t\t\t\t}\r\n\t\t\t\t\tself.liveRoomStart(self.roomDetail, self.user);\r\n\t\t\t\t\tself.$nextTick(() => {\r\n\t\t\t\t\t\tself.initProduct();\r\n\t\t\t\t\t});\r\n\t\t\t\t}\r\n\t\t\t);\r\n\t\t},\r\n\t\tliveRoomStart(roomDetail, userInfo) {\r\n\t\t\tlet self = this;\r\n\t\t\tself.roomDetail = roomDetail;\r\n\t\t\tself.userInfo = userInfo;\r\n\t\t\tself.channel = 'channel_' + roomDetail.supplier.shop_supplier_id; //shopSupplierId\r\n\t\t\tself.liveChannelId = 'channel_' + roomDetail.supplier.shop_supplier_id;\r\n\t\t\tif (self.isCaster) {\r\n\t\t\t\tlet whiteness = uni.getStorageSync('whiteness');\r\n\t\t\t\tif (whiteness) {\r\n\t\t\t\t\tself.whiteness = whiteness;\r\n\t\t\t\t}\r\n\t\t\t\tlet beauty = uni.getStorageSync('beauty');\r\n\t\t\t\tif (beauty) {\r\n\t\t\t\t\tself.beauty = beauty;\r\n\t\t\t\t}\r\n\t\t\t} else {\r\n\t\t\t\t//观众\r\n\t\t\t\tconsole.log('观众进入');\r\n\t\t\t}\r\n\t\t\tself.loginRoom();\r\n\t\t},\r\n\t\tloginRoom() {\r\n\t\t\tlet self = this;\r\n\t\t\tuni.showLoading({\r\n\t\t\t\ttitle: '正在进入'\r\n\t\t\t});\r\n\t\t\tself.getRequest()._get(\r\n\t\t\t\t'plus.live.agora.api/login',\r\n\t\t\t\t{\r\n\t\t\t\t\troom_id: self.roomDetail.room_id,\r\n\t\t\t\t\tchannel: self.channel\r\n\t\t\t\t},\r\n\t\t\t\tfunction(res) {\r\n\t\t\t\t\tconsole.log('进入房间');\r\n\t\t\t\t\tconsole.log(res.data);\r\n\t\t\t\t\tself.appId = res.data.appId;\r\n\t\t\t\t\tself.agoraAppId = res.data.appId;\r\n\t\t\t\t\tself.token = res.data.userSign;\r\n\t\t\t\t\tself.nickName = res.data.user.nickName;\r\n\t\t\t\t\tif (self.roomDetail.live_status == 0) {\r\n\t\t\t\t\t\tself.getRequest().showError('直播审核中', function() {\r\n\t\t\t\t\t\t\tuni.navigateBack();\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t\treturn;\r\n\t\t\t\t\t}\r\n\t\t\t\t\t// 判断是否是主播\r\n\t\t\t\t\tif (self.isCaster) {\r\n\t\t\t\t\t\tif (self.uid != self.roomDetail.user_id) {\r\n\t\t\t\t\t\t\tself.getRequest().showError('你不是此房间主播', function() {\r\n\t\t\t\t\t\t\t\tuni.navigateBack();\r\n\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\treturn;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\t// 直播未开始\r\n\t\t\t\t\t\tif (self.roomDetail.live_status == 102) {\r\n\t\t\t\t\t\t\tself.getRequest().showError('直播未开始', function() {\r\n\t\t\t\t\t\t\t\tuni.navigateBack();\r\n\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\treturn;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t\t// 已结束或已过期\r\n\t\t\t\t\tif (self.roomDetail.live_status == 103 || self.roomDetail.live_status == 107) {\r\n\t\t\t\t\t\tself.getRequest().showError('直播已结束', function() {\r\n\t\t\t\t\t\t\tuni.navigateBack();\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t\treturn;\r\n\t\t\t\t\t}\r\n\t\t\t\t\tself.initRoom();\r\n\t\t\t\t\tself.agoraView.create(\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\tappid: self.agoraAppId\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t\tres => {\r\n\t\t\t\t\t\t\tself.engine_load = true;\r\n\t\t\t\t\t\t\tself.showLike = true;\r\n\t\t\t\t\t\t\tconsole.log('create---------');\r\n\t\t\t\t\t\t\t// 预览\r\n\t\t\t\t\t\t\tif (self.isCaster) {\r\n\t\t\t\t\t\t\t\tself.is_preview = true;\r\n\t\t\t\t\t\t\t\tconsole.log(self.roomDetail.live_status);\r\n\t\t\t\t\t\t\t\t// self.startPreview();\r\n\t\t\t\t\t\t\t\t// 如果未开始，则预览，已开始直接进入房间\r\n\t\t\t\t\t\t\t\tif (self.roomDetail.live_status == 102) {\r\n\t\t\t\t\t\t\t\t\tself.startPreview();\r\n\t\t\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t\t\tself.openLive();\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t\t// 进入房间\r\n\t\t\t\t\t\t\t\tself.enterRoom();\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\tself.addRtcListeners();\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t);\r\n\t\t\t\t}\r\n\t\t\t);\r\n\t\t},\r\n\t\t/* 关闭预览 */\r\n\t\tclosePreview() {\r\n\t\t\tuni.navigateBack();\r\n\t\t\t// this.is_preview = false;\r\n\t\t},\r\n\t\t/* 摄像头切换 */\r\n\t\tswitchCamera() {\r\n\t\t\tlet self = this;\r\n\t\t\tself.agoraView.switchCamera(res => {\r\n\t\t\t\tconsole.log('--------------------switchCamera-------------------');\r\n\t\t\t});\r\n\t\t},\r\n\t\t/* 美颜设置 */\r\n\t\tsetBeautyOptions(e) {\r\n\t\t\tconsole.log('setBeautyOptions' + e);\r\n\t\t\tif (e == 'set') {\r\n\t\t\t\tlet lightening = uni.getStorageSync('lightening');\r\n\t\t\t\tif (lightening) {\r\n\t\t\t\t\tthis.beautyOptions.lightening = lightening;\r\n\t\t\t\t} else {\r\n\t\t\t\t\tuni.setStorageSync('smoothness', this.beautyOptions.lightening);\r\n\t\t\t\t}\r\n\t\t\t\tlet smoothness = uni.getStorageSync('smoothness');\r\n\t\t\t\tif (smoothness) {\r\n\t\t\t\t\tthis.beautyOptions.smoothness = smoothness;\r\n\t\t\t\t} else {\r\n\t\t\t\t\tuni.setStorageSync('smoothness', this.beautyOptions.smoothness);\r\n\t\t\t\t}\r\n\t\t\t\tlet redness = uni.getStorageSync('redness');\r\n\t\t\t\tif (redness) {\r\n\t\t\t\t\tthis.beautyOptions.redness = redness;\r\n\t\t\t\t} else {\r\n\t\t\t\t\tuni.setStorageSync('redness', this.beautyOptions.redness);\r\n\t\t\t\t}\r\n\t\t\t\tlet sharpness = uni.getStorageSync('sharpness');\r\n\t\t\t\tif (sharpness) {\r\n\t\t\t\t\tthis.beautyOptions.sharpness = sharpness;\r\n\t\t\t\t} else {\r\n\t\t\t\t\tuni.setStorageSync('sharpness', this.beautyOptions.sharpness);\r\n\t\t\t\t}\r\n\t\t\t} else {\r\n\t\t\t\t// 重置\r\n\t\t\t\tthis.beautyOptions.lightening = 0.6;\r\n\t\t\t\tuni.setStorageSync('lightening', this.beautyOptions.lightening);\r\n\t\t\t\tthis.beautyOptions.smoothness = 0.5;\r\n\t\t\t\tuni.setStorageSync('smoothness', this.beautyOptions.smoothness);\r\n\t\t\t\tthis.beautyOptions.redness = 0.1;\r\n\t\t\t\tuni.setStorageSync('redness', this.beautyOptions.redness);\r\n\t\t\t\tthis.beautyOptions.sharpness = 0.3;\r\n\t\t\t\tuni.setStorageSync('sharpness', this.beautyOptions.sharpness);\r\n\t\t\t}\r\n\t\t\tthis.agoraView.setBeautyEffectOptions(this.beautyOptions);\r\n\t\t},\r\n\t\tsetDefinition(e) {\r\n\t\t\tconsole.log('setDefinition=' + e);\r\n\t\t\tlet self = this;\r\n\t\t\tuni.setStorageSync('vd', e);\r\n\t\t\tself.agoraView.setVideoEncoderConfiguration(\r\n\t\t\t\t{\r\n\t\t\t\t\tvd: e\r\n\t\t\t\t},\r\n\t\t\t\tres => {\r\n\t\t\t\t\tconsole.log('setVideoEncoderConfiguration');\r\n\t\t\t\t}\r\n\t\t\t);\r\n\t\t},\r\n\t\tstartPreview() {\r\n\t\t\tlet self = this;\r\n\t\t\tself.agoraView.enableVideo(res => {});\r\n\t\t\tif (self.platform == 'android') {\r\n\t\t\t\tself.agoraView.setupLocalVideo(\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tchannelName: self.liveChannelId,\r\n\t\t\t\t\t\tuid: self.uid\r\n\t\t\t\t\t},\r\n\t\t\t\t\tres => {\r\n\t\t\t\t\t\tconsole.log('setupLocalVideo');\r\n\t\t\t\t\t}\r\n\t\t\t\t);\r\n\t\t\t}\r\n\t\t\tself.setBeautyOptions();\r\n\t\t\t// 清晰度\r\n\t\t\tlet vd = uni.getStorageSync('vd');\r\n\t\t\tif (!vd) {\r\n\t\t\t\tvd = 0;\r\n\t\t\t}\r\n\t\t\tself.setDefinition(vd);\r\n\t\t\tself.agoraView.startPreview(res => {\r\n\t\t\t\tconsole.log('--------------------startPreview-------------------');\r\n\t\t\t});\r\n\t\t},\r\n\t\t// 房主登录\r\n\t\trtmLogin() {\r\n\t\t\tlet self = this;\r\n\t\t\tlet agoraRtm = self.agoraRtm;\r\n\t\t\tagoraRtm.createInstance(\r\n\t\t\t\t{\r\n\t\t\t\t\tappid: self.agoraAppId\r\n\t\t\t\t},\r\n\t\t\t\tres => {\r\n\t\t\t\t\tconsole.log('-------------rtmLogin createInstance--------');\r\n\t\t\t\t}\r\n\t\t\t);\r\n\t\t\tself.addRtmListeners();\r\n\t\t\tself.getRequest()._get(\r\n\t\t\t\t'plus.live.agora.api/rtmToken',\r\n\t\t\t\t{\r\n\t\t\t\t\troom_id: self.roomDetail.room_id\r\n\t\t\t\t},\r\n\t\t\t\tfunction(res) {\r\n\t\t\t\t\tconsole.log('-------------rtmToken--------');\r\n\t\t\t\t\tconsole.log(res);\r\n\t\t\t\t\tagoraRtm.login(\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\ttoken: res.data.userSign,\r\n\t\t\t\t\t\t\tuid: '' + self.uid\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t\tres => {\r\n\t\t\t\t\t\t\tconsole.log('-------------agoraRtm login--------');\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t);\r\n\t\t\t\t},\r\n\t\t\t\terr => {\r\n\t\t\t\t\tconsole.log(err);\r\n\t\t\t\t}\r\n\t\t\t);\r\n\t\t},\r\n\t\taddRtmListeners() {\r\n\t\t\tlet self = this;\r\n\t\t\tglobalEvent.addEventListener(Prefix_RTM + 'ConnectionStateChanged', function(e) {\r\n\t\t\t\tif (e.data[0] == 3 && e.data[1] == 2) {\r\n\t\t\t\t\tself.onLoginSuccess();\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t\tglobalEvent.addEventListener(Prefix_RTM + 'MessageReceived', function(e) {\r\n\t\t\t\tself.showMsg(e.data[0]);\r\n\t\t\t});\r\n\t\t},\r\n\t\t// ios事件注册\r\n\t\taddRtcListeners() {\r\n\t\t\tlet self = this;\r\n\t\t\tglobalEvent.addEventListener(Prefix_RTC + 'JoinChannelSuccess', function(e) {\r\n\t\t\t\tself.onJoinChannelSuccess(e);\r\n\t\t\t});\r\n\t\t\tglobalEvent.addEventListener(Prefix_RTC + 'LeaveChannel', function(e) {\r\n\t\t\t\tself.onLeaveChannel(e);\r\n\t\t\t});\r\n\t\t\tglobalEvent.addEventListener(Prefix_RTC + 'RemoteVideoStateChanged', function(e) {\r\n\t\t\t\tself.onRemoteVideoStateChanged(e);\r\n\t\t\t});\r\n\t\t\tglobalEvent.addEventListener(Prefix_RTC + 'UserJoined', function(e) {\r\n\t\t\t\tself.onUserJoined(e);\r\n\t\t\t});\r\n\t\t\tglobalEvent.addEventListener(Prefix_RTC + 'UserOffline', function(e) {\r\n\t\t\t\tself.onUserOffline(e);\r\n\t\t\t});\r\n\t\t},\r\n\t\tenterRoom() {\r\n\t\t\tlet self = this;\r\n\t\t\tself.agoraView.setChannelProfile(1, res => {});\r\n\t\t\tself.agoraView.setClientRole(2, res => {});\r\n\t\t\tself.agoraView.enableAudio(res => {});\r\n\t\t\tself.agoraView.enableVideo(res => {});\r\n\t\t\tif (self.platform == 'android') {\r\n\t\t\t\tself.agoraView.setupRemoteVideo(\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tchannelName: self.liveChannelId,\r\n\t\t\t\t\t\tuid: self.view_uid\r\n\t\t\t\t\t},\r\n\t\t\t\t\tres => {}\r\n\t\t\t\t);\r\n\t\t\t}\r\n\t\t\tself.agoraView.joinChannel(\r\n\t\t\t\t{\r\n\t\t\t\t\ttoken: self.token,\r\n\t\t\t\t\tchannelName: self.liveChannelId,\r\n\t\t\t\t\tuid: self.uid\r\n\t\t\t\t},\r\n\t\t\t\tres => {\r\n\t\t\t\t\tconsole.log('--------------------joinChannel enterRoom-------------------');\r\n\t\t\t\t},\r\n\t\t\t\terr => {\r\n\t\t\t\t\tconsole.log('--------------------joinChannel enterRoom-------------------');\r\n\t\t\t\t}\r\n\t\t\t);\r\n\t\t},\r\n\t\topenLive() {\r\n\t\t\tlet self = this;\r\n\t\t\tlet agoraView = self.agoraView;\r\n\t\t\t// 可以开启成功后关闭\r\n\t\t\tif (self.is_preview) {\r\n\t\t\t\tself.is_preview = false;\r\n\t\t\t\tagoraView.stopPreview(res => {\r\n\t\t\t\t\tconsole.log('--------------------stopPreview-------------------');\r\n\t\t\t\t});\r\n\t\t\t}\r\n\t\t\tagoraView.setChannelProfile(1, res => {});\r\n\t\t\tagoraView.setClientRole(1, res => {});\r\n\t\t\tagoraView.enableAudio(res => {});\r\n\t\t\tagoraView.enableVideo(res => {});\r\n\t\t\t// 是否启用视频\r\n\t\t\tif (self.platform == 'android') {\r\n\t\t\t\tagoraView.setupLocalVideo(\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tchannelName: self.liveChannelId,\r\n\t\t\t\t\t\tuid: self.uid\r\n\t\t\t\t\t},\r\n\t\t\t\t\tres => {\r\n\t\t\t\t\t\tconsole.log('setupLocalVideo');\r\n\t\t\t\t\t}\r\n\t\t\t\t);\r\n\t\t\t}\r\n\t\t\tagoraView.joinChannel(\r\n\t\t\t\t{\r\n\t\t\t\t\ttoken: self.token,\r\n\t\t\t\t\tchannelName: self.liveChannelId,\r\n\t\t\t\t\tuid: self.uid\r\n\t\t\t\t},\r\n\t\t\t\tres => {\r\n\t\t\t\t\tconsole.log('--------------------joinChannel-------------------');\r\n\t\t\t\t\tconsole.log();\r\n\t\t\t\t}\r\n\t\t\t);\r\n\t\t},\r\n\t\tinitRoom() {\r\n\t\t\tthis.getGift();\r\n\t\t\tthis.initemoji();\r\n\t\t},\r\n\t\t/*显示讲解的商品*/\r\n\t\tshowProduct(product_id) {\r\n\t\t\tlet self = this;\r\n\t\t\tself.explain_product_id = product_id;\r\n\t\t\tself.getRequest()._post(\r\n\t\t\t\t'plus.live.room/product_detail',\r\n\t\t\t\t{\r\n\t\t\t\t\tproduct_id: self.explain_product_id\r\n\t\t\t\t},\r\n\t\t\t\tfunction(res) {\r\n\t\t\t\t\tself.explain_product = res.data.model;\r\n\t\t\t\t\tconsole.log(self.explain_product);\r\n\t\t\t\t}\r\n\t\t\t);\r\n\t\t},\r\n\t\t/*获取直播间信息*/\r\n\t\tsynRoomInfo(e) {\r\n\t\t\tlet self = this;\r\n\t\t\tself.getRequest()._post(\r\n\t\t\t\t'plus.live.room/syn_room',\r\n\t\t\t\t{\r\n\t\t\t\t\troom_id: self.roomDetail.room_id\r\n\t\t\t\t},\r\n\t\t\t\tfunction(res) {\r\n\t\t\t\t\t// 发送通知\r\n\t\t\t\t\tlet msg = {\r\n\t\t\t\t\t\ttype: 'views',\r\n\t\t\t\t\t\tviews: res.data.model.views,\r\n\t\t\t\t\t\tdigg_num: res.data.model.digg_num\r\n\t\t\t\t\t};\r\n\t\t\t\t\tself.sendMsg(JSON.stringify(msg));\r\n\t\t\t\t}\r\n\t\t\t);\r\n\t\t},\r\n\t\tinitProduct() {\r\n\t\t\tif (this.roomDetail.currentProduct) {\r\n\t\t\t\tthis.explain_product = {\r\n\t\t\t\t\tproduct_image: this.roomDetail.currentProduct.image[0].file_path,\r\n\t\t\t\t\tproduct_price: this.roomDetail.currentProduct.product_price,\r\n\t\t\t\t\tproduct_id: this.roomDetail.currentProduct.product_id\r\n\t\t\t\t};\r\n\t\t\t}\r\n\t\t\tconsole.log('--------explain_product-------------');\r\n\t\t\tconsole.log(this.explain_product);\r\n\t\t},\r\n\t\t/*跳转商品详情*/\r\n\t\tgotoProduct(e) {\r\n\t\t\tlet url = '/pages/product/detail/detail?product_id=' + this.explain_product.product_id + '&room_id=' + this.room_id;\r\n\t\t\tuni.navigateTo({\r\n\t\t\t\turl: url\r\n\t\t\t});\r\n\t\t},\r\n\t\thandleSlider(e) {\r\n\t\t\tlet curIndex = e.detail.current;\r\n\t\t\tif (this.videoIndex >= 0) {\r\n\t\t\t\tthis.videoContextList[this.videoIndex].pause();\r\n\t\t\t\tthis.videoContextList[this.videoIndex].seek(0);\r\n\t\t\t}\r\n\t\t\tif (curIndex === this.videoIndex + 1) {\r\n\t\t\t\tthis.videoContextList[this.videoIndex + 1].play();\r\n\t\t\t} else if (curIndex === this.videoIndex - 1) {\r\n\t\t\t\tthis.videoContextList[this.videoIndex - 1].play();\r\n\t\t\t}\r\n\t\t\tthis.videoIndex = curIndex;\r\n\t\t},\r\n\t\tplay(index) {\r\n\t\t\tthis.videoContextList[index].play();\r\n\t\t},\r\n\t\tpause(index) {\r\n\t\t\tthis.videoContextList[index].pause();\r\n\t\t},\r\n\t\thandleAttention(index) {\r\n\t\t\tlet vlist = this.vlist;\r\n\t\t\tvlist[index].attention = !vlist[index].attention;\r\n\t\t\tthis.vlist = vlist;\r\n\t\t},\r\n\t\thandleLiveCart() {\r\n\t\t\tthis.$refs.liveCart.show();\r\n\t\t},\r\n\t\thandleLiveGift() {\r\n\t\t\tthis.$refs.liveGift.show();\r\n\t\t},\r\n\t\thandleRollMsg() {\r\n\t\t\tthis.$refs.liveMsg.show();\r\n\t\t},\r\n\t\tsendChannelMsg(e) {\r\n\t\t\tlet msg = {\r\n\t\t\t\ttype: 'text',\r\n\t\t\t\tmsg: e,\r\n\t\t\t\tregisterLevel: this.registerLevel,\r\n\t\t\t\tnickName: this.nickName\r\n\t\t\t};\r\n\t\t\tthis.sendMsg(msg);\r\n\t\t},\r\n\t\tcloseMsg(e) {\r\n\t\t\tlet self = this;\r\n\t\t\tlet msg = {\r\n\t\t\t\ttype: 'text',\r\n\t\t\t\tmsg: e,\r\n\t\t\t\tnickName: self.user.nickName\r\n\t\t\t};\r\n\t\t\tself.sendMsg(JSON.stringify(msg));\r\n\t\t},\r\n\t\tremoveComment() {\r\n\t\t\tlet self = this;\r\n\t\t\tlet len = self.commentsList.length - self.maxCommentSize;\r\n\t\t\tif (len > 0) {\r\n\t\t\t\tfor (let i = 0; i < len; i++) {\r\n\t\t\t\t\tself.commentsList.shift();\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\tself.$nextTick(function() {\r\n\t\t\t\tself.toMsg = 'comment' + (self.commentsList.length - 1);\r\n\t\t\t});\r\n\t\t},\r\n\t\t/*获取礼物类别*/\r\n\t\tgetGift() {\r\n\t\t\tlet self = this;\r\n\t\t\tself.getRequest()._get('plus.live.room/gift', {}, function(res) {\r\n\t\t\t\tconsole.log('====gift=======');\r\n\t\t\t\tconsole.log(res);\r\n\t\t\t\tlet list = [],\r\n\t\t\t\t\tmin = [],\r\n\t\t\t\t\tnum = 0;\r\n\t\t\t\tfor (let i = 0; i < res.data.list.length; i++) {\r\n\t\t\t\t\tnum++;\r\n\t\t\t\t\tmin.push(res.data.list[i]);\r\n\t\t\t\t\tif (num >= 8) {\r\n\t\t\t\t\t\tlist.push(min);\r\n\t\t\t\t\t\tmin = [];\r\n\t\t\t\t\t\tnum = 0;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\tif (min.length > 0) {\r\n\t\t\t\t\tlist.push(min);\r\n\t\t\t\t}\r\n\t\t\t\tself.giftList = list;\r\n\t\t\t\tconsole.log(self.giftList);\r\n\t\t\t});\r\n\t\t},\r\n\r\n\t\topenPlan() {\r\n\t\t\tthis.$refs.livePlan.show();\r\n\t\t},\r\n\t\tclosePlan() {\r\n\t\t\tthis.$refs.liveGift.show();\r\n\t\t},\r\n\t\topenOrder() {\r\n\t\t\tthis.$refs.liveOrder.show();\r\n\t\t},\r\n\t\tcloseOrder() {\r\n\t\t\tthis.$refs.liveCart.show();\r\n\t\t},\r\n\t\tsetProduct(e) {\r\n\t\t\tconsole.log('explainProduct');\r\n\t\t\tconsole.log(e);\r\n\t\t\tif (e == null) {\r\n\t\t\t\tthis.isExplain = false;\r\n\t\t\t\tthis.explain = {};\r\n\t\t\t} else {\r\n\t\t\t\tthis.isExplain = true;\r\n\t\t\t\tthis.explain = e;\r\n\t\t\t}\r\n\t\t\tlet msg = {\r\n\t\t\t\ttype: 'explain',\r\n\t\t\t\texplain: this.explain,\r\n\t\t\t\tisExplain: this.isExplain\r\n\t\t\t};\r\n\t\t\tthis.sendMsg(msg);\r\n\t\t},\r\n\t\tsendMsg(msg) {\r\n\t\t\tlet self = this;\r\n\t\t\t// 发送去购买消息\r\n\t\t\tlet agoraRtm = self.agoraRtm;\r\n\t\t\tlet message = JSON.stringify(msg);\r\n\t\t\tagoraRtm.sendMessage(\r\n\t\t\t\t{\r\n\t\t\t\t\tmessage: message\r\n\t\t\t\t},\r\n\t\t\t\tres => {\r\n\t\t\t\t\tconsole.log(message);\r\n\t\t\t\t\tself.showMsg(message);\r\n\t\t\t\t},\r\n\t\t\t\tfail => {\r\n\t\t\t\t\tconsole.log(fail);\r\n\t\t\t\t}\r\n\t\t\t);\r\n\t\t},\r\n\t\tdigg() {\r\n\t\t\tconsole.log('点击屏幕');\r\n\t\t\tif (this.isCaster) {\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\t\t\tlet self = this;\r\n\t\t\tself.$refs.likes.handleClick();\r\n\t\t\tconsole.log('----------digg---------------');\r\n\t\t\tself.getRequest()._post(\r\n\t\t\t\t'plus.live.room/digg',\r\n\t\t\t\t{\r\n\t\t\t\t\troom_id: self.room_id,\r\n\t\t\t\t\tnum: 1\r\n\t\t\t\t},\r\n\t\t\t\tfunction(res) {\r\n\t\t\t\t\tconsole.log('----------digg---------------');\r\n\t\t\t\t\tlet digg_num = res.data;\r\n\t\t\t\t\tlet msg = {\r\n\t\t\t\t\t\ttype: 'digg',\r\n\t\t\t\t\t\tdigg_num: digg_num\r\n\t\t\t\t\t};\r\n\t\t\t\t\tself.sendMsg(msg);\r\n\t\t\t\t}\r\n\t\t\t);\r\n\t\t},\r\n\t\tshowMsg(msg) {\r\n\t\t\tlet self = this;\r\n\t\t\tlet json = JSON.parse(msg);\r\n\t\t\tconsole.log(json);\r\n\t\t\t// 文本消息\r\n\t\t\tif (json.type == 'text' || json.type == 'buy' || json.type == 'join' || json.type == 'enter') {\r\n\t\t\t\tself.commentsList.push(json);\r\n\t\t\t\tself.removeComment();\r\n\t\t\t} else if (json.type == 'digg') {\r\n\t\t\t\tconsole.log('digg');\r\n\t\t\t\t// 点赞\r\n\t\t\t\tself.digg_num = json.digg_num.digg_num;\r\n\t\t\t\tconsole.log(self.digg_num);\r\n\t\t\t} else if (json.type == 'banSay' && self.uid == json.user_id) {\r\n\t\t\t\tself.isbanSay = true;\r\n\t\t\t\t// 禁言\r\n\t\t\t\tuni.showToast({\r\n\t\t\t\t\ttitle: '您已被禁言',\r\n\t\t\t\t\ticon: 'none'\r\n\t\t\t\t});\r\n\t\t\t\treturn;\r\n\t\t\t} else if (json.type == 'gift_num') {\r\n\t\t\t\tself.roomDetail.gift_num = json.msg;\r\n\t\t\t} else if (json.type == 'gift') {\r\n\t\t\t\tself.giftInfo = {\r\n\t\t\t\t\tnickName: json.nickName,\r\n\t\t\t\t\tavatarUrl: json.avatarUrl,\r\n\t\t\t\t\tgiftName: self.getGiftName(json.msg),\r\n\t\t\t\t\tgiftImage: self.getGiftImage(json.msg)\r\n\t\t\t\t};\r\n\t\t\t\tsetTimeout(function() {\r\n\t\t\t\t\tself.giftInfo = {\r\n\t\t\t\t\t\tnickName: ''\r\n\t\t\t\t\t};\r\n\t\t\t\t}, 5000);\r\n\t\t\t} else if (json.type == 'kickPerson' && self.uid == json.user_id) {\r\n\t\t\t\t// 踢出\r\n\t\t\t\tuni.showToast({\r\n\t\t\t\t\ttitle: '您已被踢出直播间',\r\n\t\t\t\t\ticon: 'none'\r\n\t\t\t\t});\r\n\t\t\t\tself.closeLive();\r\n\t\t\t} else if (json.type == 'openSay' && self.uid == json.user_id) {\r\n\t\t\t\t// 踢出\r\n\t\t\t\tuni.showToast({\r\n\t\t\t\t\ttitle: '您已被取消禁言',\r\n\t\t\t\t\ticon: 'none'\r\n\t\t\t\t});\r\n\t\t\t\tself.isbanSay = false;\r\n\t\t\t\treturn;\r\n\t\t\t} else if (json.type == 'openPerson' && self.uid == json.user_id) {\r\n\t\t\t\t// 踢出\r\n\t\t\t\tuni.showToast({\r\n\t\t\t\t\ttitle: '您已被取消踢出直播间',\r\n\t\t\t\t\ticon: 'none'\r\n\t\t\t\t});\r\n\t\t\t} else if (json.type == 'explain') {\r\n\t\t\t\t// 显示讲解\r\n\t\t\t\tthis.explain = json.explain;\r\n\t\t\t\tthis.isExplain = json.isExplain;\r\n\t\t\t\tthis.showProduct(json.explain);\r\n\t\t\t\tthis.showLike = false;\r\n\t\t\t\tthis.showLike = true;\r\n\t\t\t}\r\n\t\t},\r\n\t\t/*关注*/\r\n\t\tfollowFunc() {\r\n\t\t\tlet self = this;\r\n\t\t\tself.getRequest()._post(\r\n\t\t\t\t'user.favorite/add',\r\n\t\t\t\t{\r\n\t\t\t\t\tshop_supplier_id: self.roomDetail.supplier.shop_supplier_id,\r\n\t\t\t\t\tpid: self.roomDetail.supplier.shop_supplier_id,\r\n\t\t\t\t\ttype: 10\r\n\t\t\t\t},\r\n\t\t\t\tfunction(res) {\r\n\t\t\t\t\tconsole.log(res);\r\n\t\t\t\t\tself.hasFollow = !self.hasFollow;\r\n\t\t\t\t}\r\n\t\t\t);\r\n\t\t},\r\n\t\topenAnchor() {\r\n\t\t\tthis.$refs.liveAnchor.show();\r\n\t\t},\r\n\t\tchangeFollow(e) {\r\n\t\t\tthis.hasFollow = e;\r\n\t\t},\r\n\t\topenMore() {\r\n\t\t\tthis.$refs.liveMore.show();\r\n\t\t},\r\n\t\topenShare(e) {\r\n\t\t\tlet self = this;\r\n\t\t\t//#ifndef APP-PLUS\r\n\t\t\tself.$refs.liveShare.show();\r\n\t\t\t//#endif\r\n\t\t\t//#ifdef APP-PLUS\r\n\t\t\tself.appParams.title = self.roomDetail.name;\r\n\t\t\tself.appParams.summary = self.roomDetail.name;\r\n\t\t\t// 构建页面参数\r\n\t\t\tlet params = self.getRequest().getShareUrlParams({\r\n\t\t\t\troom_id: self.room_id,\r\n\t\t\t\tsence: 'audience'\r\n\t\t\t});\r\n\t\t\tself.appParams.path = '/pagesLive/live/live?' + params;\r\n\t\t\tself.appParams.image = self.roomDetail.shareFilePath;\r\n\t\t\tself.$refs.appShare.show();\r\n\t\t\t//#endif\r\n\t\t},\r\n\t\t/*直播设置*/\r\n\t\tliveSet(e) {\r\n\t\t\tthis.$refs.liveRoom.liveSet(e);\r\n\t\t},\r\n\r\n\t\topenRank() {\r\n\t\t\tthis.$refs.liveRank.show();\r\n\t\t},\r\n\t\t/*发送礼物*/\r\n\t\tsendGift(e) {\r\n\t\t\tlet self = this;\r\n\t\t\tlet msg_arr = e.split(',');\r\n\t\t\tlet msg = {\r\n\t\t\t\ttype: 'gift',\r\n\t\t\t\tmsg: msg_arr[0],\r\n\t\t\t\tnickName: self.user.nickName,\r\n\t\t\t\tavatarUrl: self.user.avatarUrl\r\n\t\t\t};\r\n\t\t\tself.sendMsg(msg);\r\n\t\t\tlet show_msg = {\r\n\t\t\t\ttype: 'gift_num',\r\n\t\t\t\tmsg: msg_arr[1]\r\n\t\t\t};\r\n\t\t\tself.sendMsg(show_msg);\r\n\t\t},\r\n\t\t/*礼物转换*/\r\n\t\tgetGiftName(id) {\r\n\t\t\tlet name = '';\r\n\t\t\tfor (let key in this.giftList) {\r\n\t\t\t\tfor (let i = 0; i < this.giftList[key].length; i++) {\r\n\t\t\t\t\tlet item = this.giftList[key][i];\r\n\t\t\t\t\tif (parseInt(id) === item.gift_id) {\r\n\t\t\t\t\t\tname = item.gift_name;\r\n\t\t\t\t\t\tconsole.log(name);\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\treturn name;\r\n\t\t},\r\n\t\t/*礼物转换*/\r\n\t\tgetGiftImage(id) {\r\n\t\t\tlet url = '';\r\n\t\t\tfor (let key in this.giftList) {\r\n\t\t\t\tfor (let i = 0; i < this.giftList[key].length; i++) {\r\n\t\t\t\t\tlet item = this.giftList[key][i];\r\n\t\t\t\t\tif (parseInt(id) === item.gift_id) {\r\n\t\t\t\t\t\turl = item.file_path;\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\treturn url;\r\n\t\t},\r\n\t\tlivePoster() {\r\n\t\t\tlet self = this;\r\n\t\t\tuni.showLoading({\r\n\t\t\t\ttitle: '加载中'\r\n\t\t\t});\r\n\t\t\tlet source = 'wx';\r\n\t\t\t//#ifdef H5\r\n\t\t\tsource = 'mp';\r\n\t\t\t//#endif\r\n\t\t\tself.getRequest()._get(\r\n\t\t\t\t'plus.live.Room/poster',\r\n\t\t\t\t{\r\n\t\t\t\t\troom_id: self.room_id,\r\n\t\t\t\t\tsource: source\r\n\t\t\t\t},\r\n\t\t\t\tresult => {\r\n\t\t\t\t\tself.qrcode = result.data.qrcode;\r\n\t\t\t\t},\r\n\t\t\t\tnull,\r\n\t\t\t\t() => {\r\n\t\t\t\t\tuni.hideLoading();\r\n\t\t\t\t}\r\n\t\t\t);\r\n\t\t},\r\n\t\t/**/\r\n\t\tcloseShare() {\r\n\t\t\tthis.qrcode = null;\r\n\t\t},\r\n\t\t/*分享*/\r\n\t\tonShareAppMessage() {\r\n\t\t\tlet self = this;\r\n\t\t\t// 构建页面参数\r\n\t\t\tlet params = self.getRequest().getShareUrlParams({\r\n\t\t\t\troom_id: self.room_id,\r\n\t\t\t\tsence: 'audience'\r\n\t\t\t});\r\n\t\t\treturn {\r\n\t\t\t\ttitle: self.roomDetail.name,\r\n\t\t\t\tpath: '/pagesLive/live/live?' + params,\r\n\t\t\t\timageUrl: self.roomDetail.shareFilePath\r\n\t\t\t};\r\n\t\t},\r\n\t\tinitemoji() {\r\n\t\t\tlet page = Math.ceil(emoji.length / 21);\r\n\t\t\tfor (let i = 0; i < page; i++) {\r\n\t\t\t\tthis.emojiData[i] = [];\r\n\t\t\t\tfor (let k = 0; k < 21; k++) {\r\n\t\t\t\t\temoji[i * 21 + k] ? this.emojiData[i].push(emoji[i * 21 + k]) : '';\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\tconsole.log('initemoji:success');\r\n\t\t},\r\n\t\tgoBack() {\r\n\t\t\tuni.redirectTo({\r\n\t\t\t\turl: '/pagesLive/live/index'\r\n\t\t\t});\r\n\t\t},\r\n\t\tcloseLive() {\r\n\t\t\tlet self = this;\r\n\t\t\t// 结束录制、跳到直播结束页\r\n\t\t\tif (self.isCaster) {\r\n\t\t\t\tuni.showModal({\r\n\t\t\t\t\ttitle: '提示',\r\n\t\t\t\t\tcontent: '确定要结束当前直播吗?',\r\n\t\t\t\t\tsuccess: function(o) {\r\n\t\t\t\t\t\tif (o.confirm) {\r\n\t\t\t\t\t\t\t// 停止录制\r\n\t\t\t\t\t\t\tself.getRequest()._get(\r\n\t\t\t\t\t\t\t\t'plus.live.agora.api/record_stop',\r\n\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\troom_id: self.room_id\r\n\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\tfunction(res) {\r\n\t\t\t\t\t\t\t\t\tconsole.log('record_stop');\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t);\r\n\t\t\t\t\t\t\t// 结束\r\n\r\n\t\t\t\t\t\t\tself.getRequest()._post(\r\n\t\t\t\t\t\t\t\t'plus.live.room/set_status',\r\n\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\troom_id: self.room_id,\r\n\t\t\t\t\t\t\t\t\tstatus: 103\r\n\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\tfunction(res) {\r\n\t\t\t\t\t\t\t\t\tconsole.log('set_status');\r\n\t\t\t\t\t\t\t\t\tself.leaveChannel('auto');\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\t\t} else {\r\n\t\t\t\tself.leaveChannel('auto');\r\n\t\t\t}\r\n\t\t},\r\n\t\tonJoinChannelSuccess(e) {\r\n\t\t\tlet self = this;\r\n\t\t\tconsole.log('------------onJoinChannelSuccess---------------');\r\n\t\t\t// 登录IM\r\n\t\t\tself.rtmLogin();\r\n\t\t\t// 如果是主播，请求录制\r\n\t\t\tif (self.isCaster) {\r\n\t\t\t\tself.getRequest()._post(\r\n\t\t\t\t\t'plus.live.room/set_status',\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\troom_id: self.room_id,\r\n\t\t\t\t\t\tstatus: 101\r\n\t\t\t\t\t},\r\n\t\t\t\t\tfunction(res) {},\r\n\t\t\t\t\terr => {\r\n\t\t\t\t\t\tconsole.log(err);\r\n\t\t\t\t\t}\r\n\t\t\t\t);\r\n\t\t\t\tself.getRequest()._post(\r\n\t\t\t\t\t'plus.live.agora.api/record_acquire',\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\troom_id: self.roomDetail.room_id\r\n\t\t\t\t\t},\r\n\t\t\t\t\tfunction(res) {\r\n\t\t\t\t\t\tconsole.log('--------record_acquire-----------');\r\n\t\t\t\t\t\tconsole.log(res);\r\n\t\t\t\t\t\tself.getRequest()._post(\r\n\t\t\t\t\t\t\t'plus.live.agora.api/record_start',\r\n\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\troom_id: self.roomDetail.room_id\r\n\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\tfunction(res) {\r\n\t\t\t\t\t\t\t\tsetTimeout(function() {\r\n\t\t\t\t\t\t\t\t\tself.getRequest()._post(\r\n\t\t\t\t\t\t\t\t\t\t'plus.live.agora.api/record_query',\r\n\t\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\t\troom_id: self.roomDetail.room_id\r\n\t\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\t\tfunction(res) {\r\n\t\t\t\t\t\t\t\t\t\t\tconsole.log('--------record_query-----------');\r\n\t\t\t\t\t\t\t\t\t\t\tconsole.log(res);\r\n\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t);\r\n\t\t\t\t\t\t\t\t}, 30000);\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t);\r\n\t\t\t\t\t}\r\n\t\t\t\t);\r\n\t\t\t}\r\n\t\t},\r\n\t\tonLeaveChannel(e) {\r\n\t\t\tconsole.log('-------------onLeaveChannel---------------');\r\n\t\t},\r\n\t\tonRemoteVideoStateChanged(e) {\r\n\t\t\tconsole.log('-------------onRemoteVideoStateChanged---------------');\r\n\t\t},\r\n\t\tonUserJoined(e) {\r\n\t\t\tconsole.log('-------------onUserJoined---------------');\r\n\t\t},\r\n\t\tonUserOffline(e) {\r\n\t\t\t// 主播离线\r\n\t\t\tconsole.log('-------------onUserOffline---------------');\r\n\t\t\tthis.leaveChannel('over');\r\n\t\t},\r\n\t\tleaveChannel(type) {\r\n\t\t\tlet self = this;\r\n\t\t\tconsole.log('leaveChannel');\r\n\t\t\tclearInterval(self.intervalTime);\r\n\t\t\t// 资源释放\r\n\t\t\tif (self.platform == 'android') {\r\n\t\t\t\tself.agoraRtm.leave();\r\n\t\t\t\tself.agoraRtm.release({\r\n\t\t\t\t\tchannelId: self.liveChannelId\r\n\t\t\t\t});\r\n\t\t\t}\r\n\t\t\tself.agoraView.leaveChannel(res => {\r\n\t\t\t\tconsole.log('leaveChannel success');\r\n\t\t\t\tself.agoraView.destroy();\r\n\t\t\t});\r\n\t\t\tlet isCaster = self.isCaster ? '1' : '0';\r\n\t\t\tlet url = '/pagesLive/live/live-over?room_id=' + self.room_id + '&isCaster=' + isCaster;\r\n\t\t\tconsole.log('url:' + url);\r\n\t\t\tif (self.isCaster) {\r\n\t\t\t\tuni.redirectTo({\r\n\t\t\t\t\turl: url\r\n\t\t\t\t});\r\n\t\t\t} else {\r\n\t\t\t\tif (type == 'auto') {\r\n\t\t\t\t\tuni.navigateBack();\r\n\t\t\t\t} else {\r\n\t\t\t\t\tuni.redirectTo({\r\n\t\t\t\t\t\turl: url\r\n\t\t\t\t\t});\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t},\r\n\t\tonLoginSuccess(e) {\r\n\t\t\tthis.joinChannel();\r\n\t\t},\r\n\t\tjoinChannel() {\r\n\t\t\tlet self = this;\r\n\t\t\tlet agoraRtm = self.agoraRtm;\r\n\t\t\tagoraRtm.createChannel(\r\n\t\t\t\t{\r\n\t\t\t\t\tchannelId: self.liveChannelId\r\n\t\t\t\t},\r\n\t\t\t\tres => {\r\n\t\t\t\t\tagoraRtm.join(res => {\r\n\t\t\t\t\t\tself.onJoinSuccess();\r\n\t\t\t\t\t});\r\n\t\t\t\t}\r\n\t\t\t);\r\n\t\t},\r\n\t\tonLoginFailure(e) {\r\n\t\t\tconsole.log('onLoginFailure');\r\n\t\t\tconsole.log(e);\r\n\t\t},\r\n\t\tonLogoutSuccess(e) {\r\n\t\t\tconsole.log('onLogoutSuccess');\r\n\t\t\tconsole.log(e);\r\n\t\t},\r\n\t\tonLogoutFailure(e) {\r\n\t\t\tconsole.log('onLogoutFailure');\r\n\t\t\tconsole.log(e);\r\n\t\t},\r\n\t\tonJoinSuccess(e) {\r\n\t\t\tlet self = this;\r\n\t\t\tlet msg = {\r\n\t\t\t\ttype: 'join',\r\n\t\t\t\tmsg: '',\r\n\t\t\t\tregisterLevel: self.registerLevel,\r\n\t\t\t\tnickName: self.nickName\r\n\t\t\t};\r\n\t\t\tself.sendMsg(msg);\r\n\t\t\tself.synRoomData();\r\n\t\t\t// 10秒同步房间信息\r\n\t\t\tself.intervalTime = setInterval(function() {\r\n\t\t\t\tself.synRoomData();\r\n\t\t\t}, 10000);\r\n\t\t},\r\n\t\tonJoinFailure(e) {\r\n\t\t\tconsole.log('onJoinFailure');\r\n\t\t\tconsole.log(e);\r\n\t\t},\r\n\t\tonChannelMessageReceived(e) {\r\n\t\t\tconsole.log('onChannelMessageReceived');\r\n\t\t\tthis.showMsg(e.detail.messageData);\r\n\t\t},\r\n\t\tchangeVirtualBackground(e) {\r\n\t\t\tvar self = this;\r\n\t\t\tconsole.log('changeVirtualBackground e=' + e);\r\n\t\t\tif (e == '') {\r\n\t\t\t\tself.agoraView.enableVirtualBackground(\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tenabled: false\r\n\t\t\t\t\t},\r\n\t\t\t\t\tres => {\r\n\t\t\t\t\t\tconsole.log('changeVirtualBackground cancel');\r\n\t\t\t\t\t\tconsole.log(res);\r\n\t\t\t\t\t}\r\n\t\t\t\t);\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\t\t\tuni.downloadFile({\r\n\t\t\t\turl: e,\r\n\t\t\t\tsuccess: res => {\r\n\t\t\t\t\tif (res.statusCode === 200) {\r\n\t\t\t\t\t\tconsole.log('下载成功');\r\n\t\t\t\t\t\tself.agoraView.enableVirtualBackground(\r\n\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\tenabled: true,\r\n\t\t\t\t\t\t\t\tsource: plus.io.convertLocalFileSystemURL(res.tempFilePath),\r\n\t\t\t\t\t\t\t\tbackgroundSourceType: 2,\r\n\t\t\t\t\t\t\t\tcolor: 0xffffff,\r\n\t\t\t\t\t\t\t\tblur_degree: 1\r\n\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\tres => {\r\n\t\t\t\t\t\t\t\tconsole.log('changeVirtualBackground success');\r\n\t\t\t\t\t\t\t\tconsole.log(res);\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t);\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t},\r\n\t\tsynRoomData() {\r\n\t\t\t// console.log('---------------------synRoomData-------------');\r\n\t\t\tlet self = this;\r\n\t\t\tlet agoraRtm = self.agoraRtm;\r\n\t\t\t// 获取频道在线人数\r\n\t\t\tagoraRtm.getChannelMemberCount(\r\n\t\t\t\t{\r\n\t\t\t\t\tchannelIds: self.liveChannelId\r\n\t\t\t\t},\r\n\t\t\t\tres => {\r\n\t\t\t\t\tself.online_count = self.platform == 'ios' ? res[0]['memberCount'] : res.memberCount[0].memberCount;\r\n\t\t\t\t}\r\n\t\t\t);\r\n\t\t\treturn;\r\n\t\t\t// 获取频道在线用户\r\n\t\t\tagoraRtm.getMembers(res => {\r\n\t\t\t\tlet ids = [];\r\n\t\t\t\tself.user_ids = [];\r\n\t\t\t\tlet members = [];\r\n\t\t\t\tif (self.platform === 'android') {\r\n\t\t\t\t\tres.members.forEach((item, index) => {\r\n\t\t\t\t\t\tif (index <= 2) {\r\n\t\t\t\t\t\t\tids.push(item.user_id);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tself.user_ids.push(item.user_id);\r\n\t\t\t\t\t});\r\n\t\t\t\t} else if (self.platform === 'ios') {\r\n\t\t\t\t\tres.forEach((item, index) => {\r\n\t\t\t\t\t\tif (index <= 2) {\r\n\t\t\t\t\t\t\tids.push(item);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tself.user_ids.push(item);\r\n\t\t\t\t\t});\r\n\t\t\t\t}\r\n\r\n\t\t\t\t// getApp()._get(\r\n\t\t\t\t// \t'user.user/getUserInfo',\r\n\t\t\t\t// \t{\r\n\t\t\t\t// \t\tuser_id: ids.join(',')\r\n\t\t\t\t// \t},\r\n\t\t\t\t// \tres => {\r\n\t\t\t\t// \t\tself.topUser = res.data.list;\r\n\t\t\t\t// \t}\r\n\t\t\t\t// );\r\n\t\t\t\t// android {\"message\":\"getMembers成功\",\"members\":[{\"channelId\":\"channel_8\",\"user_id\":\"8\"}],\"code\":0}\r\n\t\t\t\t// ios ---BEGIN:JSON---[\"8\"]---END:JSON---\r\n\t\t\t});\r\n\t\t\t// 如果是主播，同步录制信息\r\n\t\t}\r\n\t}\r\n};\r\n</script>\r\n<style scoped>\r\n.iconfont {\r\n\tfont-family: iconfont;\r\n}\r\n\r\nimage {\r\n\tborder: 0;\r\n\tdisplay: inline-block;\r\n\tvertical-align: top;\r\n\tmax-width: 100%;\r\n\tposition: relative;\r\n}\r\n\r\n.avator-scrollbox .avator-scroll .mr_20 {\r\n\tmargin-right: -20rpx;\r\n}\r\n\r\n.nlv__container {\r\n\tflex: 1;\r\n\theight: 100%;\r\n\tbackground-color: #fff;\r\n}\r\n\r\n.nlv_topbar {\r\n\tflex: 1;\r\n\tflex-direction: row;\r\n\talign-items: center;\r\n\tjustify-content: space-between;\r\n\tposition: absolute;\r\n\tleft: 0;\r\n\tright: 0;\r\n\ttop: 0;\r\n\tz-index: 1001;\r\n}\r\n\r\n.topbar-info {\r\n\tflex-direction: row;\r\n\tpadding-left: 20rpx;\r\n\tflex-flow: column;\r\n\talign-items: center;\r\n\tjustify-content: space-between;\r\n\tpadding-top: 10rpx;\r\n}\r\n\r\n.avator-box {\r\n\tbackground-color: rgba(0, 0, 0, 0.4);\r\n\tpadding: 6rpx;\r\n\tborder-radius: 50rpx;\r\n\tflex-direction: row;\r\n\talign-items: center;\r\n\tpadding-right: 6rpx;\r\n\tmargin-bottom: 20rpx;\r\n}\r\n\r\n.ta-avator {\r\n\tborder-radius: 50%;\r\n\tmargin-right: 10upx;\r\n\theight: 68rpx;\r\n\twidth: 68rpx;\r\n}\r\n\r\n.tabox {\r\n\ttext-overflow: ellipsis;\r\n\twidth: 150rpx;\r\n\tline-height: 27rpx;\r\n}\r\n\r\n.ta-name {\r\n\tcolor: #fff;\r\n\tfont-size: 24rpx;\r\n}\r\n\r\n.ta-num {\r\n\tcolor: #fff;\r\n\tfont-size: 24rpx;\r\n}\r\n\r\n.ta-gz {\r\n\tbackground-image: linear-gradient(to right, #ff540a, #ff0f33);\r\n\tborder-radius: 40rpx;\r\n\tcolor: #fff;\r\n\tfont-size: 24rpx;\r\n\ttext-align: center;\r\n\tpadding: 8rpx 0;\r\n\twidth: 90rpx;\r\n}\r\n\r\n.ta-gz-on {\r\n\tbackground-color: rgba(255, 255, 255, 0.2);\r\n\tbackground-image: none;\r\n}\r\n\r\n.avator-scroll {\r\n\tpadding-left: 20rpx;\r\n\t/* #ifndef APP-PLUS-NVUE */\r\n\twhite-space: nowrap;\r\n\t/* #endif */\r\n\tflex-direction: row;\r\n\tpadding: 0 10rpx;\r\n\theight: 60rpx;\r\n\twidth: 230rpx;\r\n}\r\n\r\n.member-num {\r\n\tbackground-color: rgba(0, 0, 0, 0.4);\r\n\tborder-radius: 40rpx;\r\n\tcolor: #fff;\r\n\tfont-size: 24rpx;\r\n\ttext-align: center;\r\n\tpadding: 10rpx 14rpx;\r\n}\r\n\r\n.topbar-right {\r\n\tflex-direction: row;\r\n\tmargin-top: -10rpx;\r\n\tmargin-right: 40rpx;\r\n}\r\n\r\n.topbar_ico {\r\n\tcolor: #fff;\r\n\tfont-size: 40rpx;\r\n\tpadding: 15rpx;\r\n\tposition: relative;\r\n\tz-index: 1001;\r\n}\r\n\r\n.nlv-rankbox {\r\n\tposition: absolute;\r\n\tleft: 0;\r\n\tright: 0;\r\n\tz-index: 1001;\r\n\tdirection: ltr;\r\n\tflex-direction: row;\r\n}\r\n\r\n.nlv-rkls {\r\n\tflex-direction: row;\r\n\talign-items: center;\r\n}\r\n\r\n.rkitem {\r\n\tbackground-image: linear-gradient(to right, rgba(255, 56, 166, 0.5), rgba(57, 159, 255, 0.5));\r\n\tborder-radius: 40rpx;\r\n\tcolor: #fff;\r\n\tfont-size: 24rpx;\r\n\tmargin-left: 20rpx;\r\n\tpadding: 4rpx 10rpx;\r\n}\r\n\r\n.nlv-uid {\r\n\tcolor: rgba(255, 255, 255, 0.5);\r\n\tfont-size: 28rpx;\r\n\tposition: absolute;\r\n\tright: 20rpx;\r\n\ttop: 0;\r\n}\r\n\r\n.nlv_main {\r\n\tposition: fixed;\r\n\twidth: 750rpx;\r\n\tflex: 1;\r\n\theight: 100%;\r\n\tz-index: 99;\r\n}\r\n\r\n.nlv-swiper {\r\n\tflex: 1;\r\n}\r\n\r\n.nlv-playerbox {\r\n\tflex: 1;\r\n}\r\n\r\n.player-video {\r\n\theight: 100%;\r\n\twidth: 100%;\r\n}\r\n\r\n.nlv-footToolbar {\r\n\t/* position: absolute; */\r\n\t/* left: 0; */\r\n\t/* right: 0; */\r\n\t/* bottom: 0; */\r\n}\r\n\r\n.nlv-giftTipPanel {\r\n\tflex-direction: column;\r\n\tmargin-left: 20rpx;\r\n\tmargin-bottom: 180rpx;\r\n}\r\n\r\n.giftip-item {\r\n\tbackground-color: rgba(0, 0, 0, 0.3);\r\n\tborder-radius: 100rpx;\r\n\tpadding: 8rpx;\r\n\tpadding-right: 100rpx;\r\n\tflex-direction: row;\r\n\talign-items: center;\r\n\twidth: 410rpx;\r\n\tmargin-top: 10rpx;\r\n}\r\n\r\n.gt-avator {\r\n\tborder-radius: 50%;\r\n\theight: 72rpx;\r\n\twidth: 72rpx;\r\n}\r\n\r\n.gt-info {\r\n\tpadding: 0 20rpx;\r\n\toverflow: hidden;\r\n\twidth: 230rpx;\r\n}\r\n\r\n.gt-tit {\r\n\tcolor: #fff;\r\n\tfont-size: 28rpx;\r\n\toverflow: hidden;\r\n\theight: 40rpx;\r\n\tline-height: 40rpx;\r\n}\r\n\r\n.gt-subtit {\r\n\tcolor: rgba(255, 255, 255, 0.7);\r\n\tfont-size: 24rpx;\r\n\tletter-spacing: 4rpx;\r\n}\r\n\r\n.gt-gift {\r\n\theight: 100rpx;\r\n\twidth: 100rpx;\r\n\tposition: absolute;\r\n\ttop: -6rpx;\r\n\tright: 35rpx;\r\n}\r\n\r\n.nlv-msglist {\r\n\tmargin-top: 10rpx;\r\n\tflex-direction: column;\r\n\talign-items: flex-start;\r\n}\r\n\r\n.msg_bg {\r\n\tbackground-color: rgba(0, 0, 0, 0.3);\r\n\tborder-radius: 24rpx;\r\n\tpadding: 8rpx 14rpx;\r\n\tflex-direction: row;\r\n\tflex-wrap: wrap;\r\n}\r\n\r\n.msg_name {\r\n\tcolor: #72deed;\r\n\tfont-size: 24rpx;\r\n\tfont-weight: bold;\r\n\tline-height: 42rpx;\r\n}\r\n\r\n.msg_text {\r\n\tcolor: rgba(255, 255, 255, 1);\r\n\tfont-size: 28rpx;\r\n\tdisplay: flex;\r\n\tjustify-content: flex-start;\r\n\tflex-wrap: wrap;\r\n\tflex-wrap: wrap;\r\n\toverflow: hidden;\r\n\twidth: 450rpx;\r\n\tdirection: ltr;\r\n\tflex-direction: row;\r\n\t/* width: 476rpx; */\r\n}\r\n\r\n.msg_txtxt {\r\n\tcolor: rgba(255, 255, 255, 1);\r\n\tfont-size: 28rpx;\r\n\theight: 28rpx;\r\n}\r\n\r\n.nlv-infobox {\r\n\tposition: fixed;\r\n\twidth: 750rpx;\r\n\tpadding: 25rpx;\r\n\tbottom: 0;\r\n\tleft: 0;\r\n\tflex: 1;\r\n\tflex-direction: column;\r\n\talign-items: flex-start;\r\n}\r\n\r\n.nlv_reply {\r\n\tflex-direction: row;\r\n\tbackground-color: rgba(0, 0, 0, 0.3);\r\n\tborder-radius: 50rpx;\r\n\tpadding: 0 20rpx;\r\n\theight: 72rpx;\r\n\twidth: 420rpx;\r\n}\r\n\r\n.nlv_reply_text {\r\n\tcolor: #fff;\r\n\tfont-size: 22rpx;\r\n}\r\n\r\n.nlv_btntool {\r\n\tflex-direction: row;\r\n\tjustify-content: space-between;\r\n\tmargin-left: 20rpx;\r\n\tflex: 1;\r\n}\r\n\r\n.btn-toolitem {\r\n\tborder: 0;\r\n\toutline: none;\r\n\t/*清除默认背景 */\r\n\tbackground-color: transparent;\r\n\tdisplay: flex;\r\n\tborder-radius: 50%;\r\n\talign-items: center;\r\n\tjustify-content: center;\r\n\tmargin-left: 10rpx;\r\n\theight: 72rpx;\r\n\twidth: 72rpx;\r\n\tborder-width: 0;\r\n}\r\n\r\n.btn-toolitem-cart {\r\n\tbackground-image: linear-gradient(to right, #ff955d, #f93b37);\r\n}\r\n.btn-icon-img {\r\n\twidth: 72rpx;\r\n\theight: 72rpx;\r\n\tborder-radius: 50%;\r\n}\r\n\r\n.i-btntool {\r\n\tfont-size: 40rpx;\r\n\tcolor: #ffffff;\r\n}\r\n\r\n.nlv-rollMsgPanel {\r\n\tmargin-bottom: 80rpx;\r\n\tmax-height: 400rpx;\r\n\twidth: 480rpx;\r\n\t/* flex-direction: column-reverse; */\r\n}\r\n.avator-scrollbox {\r\n\tflex-direction: initial;\r\n\tmargin-left: -75rpx;\r\n}\r\n\r\n.nlv-msglist {\r\n\tflex-direction: column;\r\n\talign-items: flex-start;\r\n\tjustify-content: flex-end;\r\n}\r\n\r\n.msg_bg {\r\n\tmargin-top: 13rpx;\r\n\tbackground-color: rgba(0, 0, 0, 0.2);\r\n\tborder-radius: 35rpx;\r\n\tpadding: 6rpx 16rpx;\r\n\tline-height: 42rpx;\r\n\tflex-direction: row;\r\n\tflex-wrap: wrap;\r\n}\r\n\r\n.msg_name {\r\n\tcolor: #72deed;\r\n\tfont-size: 24rpx;\r\n\tfont-weight: bold;\r\n\tline-height: 42rpx;\r\n}\r\n\r\n.msg-text-name {\r\n\tcolor: #72deed;\r\n\tfont-size: 24rpx;\r\n\tposition: absolute;\r\n\tleft: 0;\r\n\ttop: 0;\r\n\tz-index: 2;\r\n\tfont-weight: bold;\r\n\tflex-direction: row;\r\n}\r\n\r\n.level-text {\r\n\tbackground-color: #72deed;\r\n\tfont-size: 20rpx;\r\n\tcolor: #ffffff;\r\n\tborder-radius: 12rpx;\r\n\tpadding: 0 6rpx;\r\n\tmargin-right: 12rpx;\r\n}\r\n\r\n.msg_level-text {\r\n\tbackground-color: #72deed;\r\n\tfont-size: 24rpx;\r\n\tcolor: #ffffff;\r\n\tborder-radius: 12rpx;\r\n\tfont-weight: bold;\r\n}\r\n\r\n.msg_text {\r\n\tfont-weight: bold;\r\n\tcolor: rgba(255, 255, 255, 1);\r\n\tfont-size: 24rpx;\r\n\tline-height: 42rpx;\r\n\tdisplay: flex;\r\n\tjustify-content: flex-start;\r\n\tflex-wrap: wrap;\r\n\toverflow: hidden;\r\n\twidth: 450rpx;\r\n\tdirection: ltr;\r\n\tflex-direction: row;\r\n\tposition: relative;\r\n\t/* width: 476rpx; */\r\n}\r\n\r\n.msg_level {\r\n\tpadding: 0 13rpx;\r\n\tpadding-left: 46rpx;\r\n\theight: 32rpx;\r\n\tborder-radius: 16rpx;\r\n\tbackground: linear-gradient(-65deg, rgba(114, 222, 237, 0.85), rgba(177, 232, 174, 0.85), rgba(177, 232, 174, 0.85));\r\n\tmargin-right: 6rpx;\r\n\tposition: relative;\r\n}\r\n\r\n.msg_level image {\r\n\tposition: absolute;\r\n\twidth: 24rpx;\r\n\theight: 17rpx;\r\n\ttop: 0;\r\n\tbottom: 0;\r\n\tmargin: auto;\r\n\tleft: 13rpx;\r\n}\r\n\r\n.msg_txt {\r\n\tcolor: rgba(255, 255, 255, 1);\r\n\tfont-size: 24rpx;\r\n\tfont-weight: bold;\r\n\twidth: 450rpx;\r\n\tline-height: 42rpx;\r\n}\r\n\r\n.product {\r\n\tposition: fixed;\r\n\tbottom: 140rpx;\r\n\tright: 20rpx;\r\n\tbackground-color: #fff;\r\n\tpadding: 10rpx;\r\n\tz-index: 99;\r\n\tborder-radius: 15rpx;\r\n}\r\n\r\n.product-pic {\r\n\twidth: 200rpx;\r\n\theight: 200rpx;\r\n}\r\n\r\n.product-img {\r\n\twidth: 100%;\r\n\theight: 100%;\r\n}\r\n\r\n.product-price {\r\n\tdisplay: flex;\r\n\tflex-direction: row;\r\n\talign-items: center;\r\n\tmargin-top: 10rpx;\r\n}\r\n\r\n.diggnum {\r\n\twidth: 74rpx;\r\n\theight: 22rpx;\r\n\tfont-size: 20rpx;\r\n\tbackground-color: #f93b37;\r\n\tcolor: #ffffff;\r\n\ttext-align: center;\r\n\tline-height: 22rpx;\r\n\tborder-radius: 11rpx;\r\n\tposition: absolute;\r\n\ttop: -28rpx;\r\n\tleft: 0;\r\n}\r\n\r\n.notice_back_image {\r\n\tposition: absolute;\r\n\ttop: 0;\r\n\tleft: 0;\r\n\twidth: 750rpx;\r\n}\r\n\r\n.notice_content {\r\n\ttext-align: center;\r\n\tpadding-top: 340rpx;\r\n\tbackground-color: rgba(0, 0, 0, 0.6);\r\n}\r\n\r\n.notice_content_img {\r\n\twidth: 200rpx;\r\n\theight: 200rpx;\r\n\tmargin: 0 auto;\r\n\tmargin-bottom: 44rxp;\r\n}\r\n\r\n.notice_content_imgbox {\r\n\tdisplay: flex;\r\n\tjustify-content: center;\r\n\talign-items: center;\r\n}\r\n\r\n.notice_btn {\r\n\twidth: 250rpx;\r\n\theight: 80rpx;\r\n\tborder-style: solid;\r\n\tborder-width: 1rpx;\r\n\tborder-color: #fb4b70;\r\n\tline-height: 80rpx;\r\n\ttext-align: center;\r\n\tborder-radius: 40rpx;\r\n\tbackground: none;\r\n}\r\n\r\n.notice_btn_txt {\r\n\tcolor: #fb4d70;\r\n}\r\n\r\n.notice_btns {\r\n\tflex-direction: row;\r\n}\r\n\r\n.notice_title_t {\r\n\ttext-align: center;\r\n\tcolor: #ffffff;\r\n\tfont-size: 34rpx;\r\n\theight: 120rpx;\r\n\tline-height: 120rpx;\r\n}\r\n\r\n.notice_title_c {\r\n\ttext-align: center;\r\n\tcolor: #ffffff;\r\n\tfont-size: 22rpx;\r\n\theight: 38rpx;\r\n\tline-height: 38rpx;\r\n}\r\n\r\n.notice_title_b {\r\n\ttext-align: center;\r\n\tcolor: #ffffff;\r\n\tfont-size: 26rpx;\r\n\theight: 120rpx;\r\n\tline-height: 120rpx;\r\n\tdisplay: flex;\r\n\tflex-direction: column;\r\n\talign-items: center;\r\n\tjustify-content: center;\r\n}\r\n\r\n.notice_share {\r\n\tposition: absolute;\r\n\ttop: 0;\r\n}\r\n\r\n.notice_jiantou {\r\n\ttransform: rotate(180deg);\r\n\tcolor: #ffffff;\r\n}\r\n\r\n.notice_back {\r\n\twidth: 750rpx;\r\n\tcolor: #ffffff;\r\n\tdisplay: flex;\r\n\tflex-direction: initial;\r\n\tposition: absolute;\r\n\ttop: 32px;\r\n\tz-index: 0;\r\n\tfont-size: 30rpx;\r\n\talign-items: center;\r\n\tjustify-content: center;\r\n}\r\n\r\n.notice_back_back {\r\n\ttext-align: left;\r\n\tposition: absolute;\r\n\ttop: 70rpx;\r\n\tleft: 45rpx;\r\n\tz-index: 1;\r\n}\r\n\r\n.icon-guanbi {\r\n\tcolor: #ffffff;\r\n}\r\n\r\n.icon-jiantou {\r\n\tcolor: #ffffff;\r\n}\r\n\r\n.red {\r\n\tcolor: #e22319;\r\n}\r\n.close-btn {\r\n\twidth: 48rpx;\r\n\theight: 48rpx;\r\n}\r\n</style>\n","import mod from \"-!../../../../HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../../HBuilderX/plugins/uniapp-cli/node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--6-oneOf-1-2!../../../../HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-3!../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./live.nvue?vue&type=style&index=0&lang=css&\"; export default mod; export * from \"-!../../../../HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../../HBuilderX/plugins/uniapp-cli/node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--6-oneOf-1-2!../../../../HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-3!../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./live.nvue?vue&type=style&index=0&lang=css&\"","// extracted by mini-css-extract-plugin\n    if(module.hot) {\n      // 1757908591254\n      var cssReload = require(\"D:/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/hmr/hotModuleReplacement.js\")(module.id, {\"hmr\":true,\"publicPath\":\"/\",\"locals\":false});\n      module.hot.dispose(cssReload);\n      module.hot.accept(undefined, cssReload);\n    }\n  ","import mod from \"-!../../../../HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../../HBuilderX/plugins/uniapp-cli/node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--6-oneOf-1-2!../../../../HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-3!../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./live.nvue?vue&type=style&index=1&id=4215c3cc&scoped=true&lang=css&\"; export default mod; export * from \"-!../../../../HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../../HBuilderX/plugins/uniapp-cli/node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--6-oneOf-1-2!../../../../HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-3!../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./live.nvue?vue&type=style&index=1&id=4215c3cc&scoped=true&lang=css&\"","// extracted by mini-css-extract-plugin\n    if(module.hot) {\n      // 1757908591231\n      var cssReload = require(\"D:/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/hmr/hotModuleReplacement.js\")(module.id, {\"hmr\":true,\"publicPath\":\"/\",\"locals\":false});\n      module.hot.dispose(cssReload);\n      module.hot.accept(undefined, cssReload);\n    }\n  "],"sourceRoot":""}