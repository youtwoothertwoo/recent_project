require('../../common/vendor.js');(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pagesLive/live/live-part/liveCart"],{"022f":function(t,o,i){"use strict";var e=i("594e"),n=i.n(e);n.a},"033e":function(t,o,i){"use strict";i.r(o);var e=i("c743"),n=i.n(e);for(var s in e)["default"].indexOf(s)<0&&function(t){i.d(o,t,(function(){return e[t]}))}(s);o["default"]=n.a},4837:function(t,o,i){"use strict";i.d(o,"b",(function(){return e})),i.d(o,"c",(function(){return n})),i.d(o,"a",(function(){}));var e=function(){var t=this,o=t.$createElement,i=(t._self._c,t.popupVisible&&t.open_addproduct?t.__map(t.listData,(function(o,i){var e=t.__get_orig(o),n=t.isrelation(o),s=t.isrelation(o);return{$orig:e,m0:n,m1:s}})):null),e=t.popupVisible&&t.open_addproduct?0==t.listData.length&&!t.loading:null;t.$mp.data=Object.assign({},{$root:{l0:i,g0:e}})},n=[]},"55a6":function(t,o,i){"use strict";i.r(o);var e=i("4837"),n=i("033e");for(var s in n)["default"].indexOf(s)<0&&function(t){i.d(o,t,(function(){return n[t]}))}(s);i("022f");var d=i("828b"),a=Object(d["a"])(n["default"],e["b"],e["c"],!1,null,"fe5071a6",null,!1,e["a"],void 0);o["default"]=a.exports},"594e":function(t,o,i){},c743:function(t,o,i){"use strict";(function(t){Object.defineProperty(o,"__esModule",{value:!0}),o.default=void 0;var e={components:{uniLoadMore:function(){i.e("components/uni-load-more").then(function(){return resolve(i("948a"))}.bind(null,i)).catch(i.oe)}},data:function(){return{popupVisible:!1,product_active:"",total:0,open_products:!1,relationIds:[],productList:[],open_order:!1,open_addproduct:!1,no_more:!1,listData:[],page:1,list_rows:10,productIds:[],open_Order:!1,loading:!1}},props:["isCaster","room_id","shop_supplier_id"],computed:{loadingType:function(){return this.loading?1:0!=this.listData.length&&this.no_more?2:0}},methods:{show:function(t){this.popupVisible=!0,this.getProduct()},getRequest:function(){return this},getProduct:function(){var o=this;o.open_addproduct=!1,o.relationIds=[],t.showLoading({title:"正在加载",mask:!0}),o.getRequest()._get("plus.live.RoomApply/liveproduct",{shop_supplier_id:o.shop_supplier_id},(function(i){if(t.hideLoading(),null!=i.data.list){o.productList=i.data.list.data;for(var e=0;e<o.productList.length;e++)o.relationIds.push(o.productList[e].product_id);o.total=i.data.list.total}}),!1,(function(){t.hideLoading()}))},addProductFunc:function(){var t=this;this.open_addproduct=!0,this.productIds=[],this.relationIds.forEach((function(o){t.productIds.push(o)})),this.start()},start:function(){this.loading=!0,this.no_more=!1,this.listData=[],this.page=1,this.list_rows=10,this.getData()},getData:function(){var t=this,o=t.page,i=t.list_rows;t.loading=!0,t.getRequest()._get("plus.live.RoomApply/product_list",{page:o||1,list_rows:i},(function(o){t.loading=!1,t.listData=t.listData.concat(o.data.list.data),t.last_page=o.data.list.last_page,o.data.list.last_page<=1&&(t.no_more=!0)}))},loadmoreFunc:function(){if(this.bottomRefresh=!0,this.page++,this.loading=!0,this.page>this.last_page)return this.loading=!1,void(this.no_more=!0);this.getData()},isrelation:function(t){return-1!=this.productIds.indexOf(t.product_id)},relationProduct:function(t){this.productIds.push(t.product_id)},confirmFunc:function(){var t=this,o=t.productIds;if(o.length>0){for(var i=0;i<o.length;i++)-1!=t.relationIds.indexOf(o[i])&&(o.splice(i,1),i--);0!=o.length?t.getRequest()._post("plus.live.RoomApply/addProduct",{productIds:o},(function(o){t.getProduct()})):t.getProduct()}else t.getProduct()},setProduct:function(o){var i=this;t.showLoading({title:"设置中",mask:!0}),i.getRequest()._post("plus.live.room/set_product",{room_id:i.room_id,product_id:o.product_id},(function(t){i.product_active=o.product_id,i.$emit("setProduct",o.product_id),i.close()}))},gotoProduct:function(t){var o="/pages/product/detail/detail?product_id="+t.product_id+"&room_id="+this.room_id;this.getRequest().gotoPage(o)},openOrder:function(){this.popupVisible=!1,this.$emit("openOrder")},close:function(){this.open_addproduct?this.open_addproduct=!1:this.popupVisible=!1}}};o.default=e}).call(this,i("df3c")["default"])}}]);
;(global["webpackJsonp"] = global["webpackJsonp"] || []).push([
    'pagesLive/live/live-part/liveCart-create-component',
    {
        'pagesLive/live/live-part/liveCart-create-component':(function(module, exports, __webpack_require__){
            __webpack_require__('df3c')['createComponent'](__webpack_require__("55a6"))
        })
    },
    [['pagesLive/live/live-part/liveCart-create-component']]
]);
