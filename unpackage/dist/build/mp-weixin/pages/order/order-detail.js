(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/order/order-detail"],{"0134":function(e,t,i){"use strict";i.r(t);var o=i("0f48"),s=i.n(o);for(var r in o)["default"].indexOf(r)<0&&function(e){i.d(t,e,(function(){return o[e]}))}(r);t["default"]=s.a},"0f48":function(e,t,i){"use strict";(function(e,o){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var s=i("2ac9"),r={data:function(){return{loadding:!0,indicatorDots:!0,autoplay:!0,interval:2e3,duration:500,isPayPopup:!1,order_id:0,detail:{order_status:[],address:{region:[]},product:[],pay_type:[],delivery_type:[],pay_status:[]},extractStore:{},source:"user",service_open:0,service_type:10,isMpservice:!1,showAlipay:!1,user_id:0,expressList:[],express_id:"",express_name:"",express_no:"",status:1,cancel_refuse:"",pay_type:10}},components:{Popup:function(){i.e("components/uni-popup").then(function(){return resolve(i("f89c"))}.bind(null,i)).catch(i.oe)},Mpservice:function(){i.e("components/mpservice/Mpservice").then(function(){return resolve(i("0315"))}.bind(null,i)).catch(i.oe)}},onLoad:function(t){this.order_id=t.order_id,this.user_id=e.getStorageSync("user_id"),t.source&&(this.source=t.source)},mounted:function(){e.showLoading({title:"加载中"}),this.getData()},methods:{getData:function(){var t=this,i=t.order_id,o="user.order/detail";"supplier"==this.source&&(o="supplier.order/detail"),t.loadding=!0,t._get(o,{order_id:i,pay_source:t.getPlatform()},(function(i){t.expressList=i.data.expressList,t.detail=i.data.order,t.extractStore=i.data.order.extractStore,t.service_open=i.data.setting.service_open,null==i.data.setting.mp_service?t.service_type=10:t.service_type=i.data.setting.mp_service.service_type,i.data.show_alipay&&(t.showAlipay=!0),t.loadding=!1,e.hideLoading()}))},hidePopupFunc:function(){this.isPayPopup=!1},cancelOrder:function(t){var i=this,s=t;o.showModal({title:"提示",content:"您确定要取消当前订单吗?",success:function(t){t.confirm&&(e.showLoading({title:"正在处理"}),i._get("user.order/cancel",{order_id:s},(function(t){e.hideLoading(),e.showToast({title:"操作成功",duration:2e3,icon:"success"}),i.getData()})))}})},orderReceipt:function(t){var i=this;o.showModal({title:"提示",content:"您确定要收货吗?",success:function(o){o.confirm&&(e.showLoading({title:"正在处理"}),i._post("user.order/receipt",{order_id:t},(function(t){e.hideLoading(),e.showToast({title:t.msg,duration:2e3,icon:"success"}),i.getData()})))}})},gotoExpress:function(e){this.gotoPage("/pages/order/express/express?order_id="+e)},onApplyRefund:function(e){this.gotoPage("/pages/order/refund/apply/apply?order_product_id="+e)},payTypeFunc:function(t){var i=this,o=i.order_id;i.isPayPopup=!1,e.showLoading({title:"加载中"}),i._post("user.order/pay",{payType:t,order_id:o,pay_source:i.getPlatform()},(function(t){e.hideLoading(),(0,s.pay)(t,i)}))},onPayOrder:function(e){this.gotoPage("/pages/order/cashier?order_type=1&order_id="+e)},gotoProduct:function(e){this.gotoPage("/pages/product/detail/detail?product_id="+e.product_id)},tochat:function(){10==this.service_type&&(this.isMpservice=!0),20==this.service_type&&this.gotoPage("/pages/plus/chat/chat?user_id="+this.detail.supplier.supplier_user_id+"&shop_supplier_id="+this.detail.supplier.shop_supplier_id+"&nickName="+this.detail.supplier.name+"&order_id="+this.order_id)},changeRadio:function(e){this.status=e.detail.value},Cancel:function(){var t=this;o.showModal({title:"提示",content:"您确定审核吗?",success:function(i){i.confirm&&(e.showLoading({title:"正在处理"}),t._post("supplier.order/confirmCancel",{order_id:t.detail.order_id,is_cancel:t.status,cancel_refuse:t.cancel_refuse},(function(i){e.hideLoading(),t.showSuccess(i.msg),t.getData()})))}})},changeSelect:function(e){console.log(e),this.express_name=this.expressList[e.detail.value].express_name,this.express_id=this.expressList[e.detail.value].express_id},sendPro:function(){var t=this;o.showModal({title:"提示",content:"您确定要发货吗?",success:function(i){i.confirm&&(e.showLoading({title:"正在处理"}),t._post("supplier.order/delivery",{order_id:t.detail.order_id,express_id:t.express_id,express_no:t.express_no},(function(i){e.hideLoading(),t.showSuccess(i.msg),t.getData()})))}})}}};t.default=r}).call(this,i("df3c")["default"],i("3223")["default"])},1181:function(e,t,i){"use strict";i.d(t,"b",(function(){return o})),i.d(t,"c",(function(){return s})),i.d(t,"a",(function(){}));var o=function(){var e=this,t=e.$createElement,i=(e._self._c,e.loadding?null:e.theme()),o=e.loadding?null:e.theme(),s=!e.loadding&&e.detail.points_money>0?e.points_name():null,r=e.loadding||70!=e.detail.order_source?null:(1*e.detail.pay_price+1*e.detail.advance.pay_price).toFixed(2);e.$mp.data=Object.assign({},{$root:{m0:i,m1:o,m2:s,g0:r}})},s=[]},"45f7":function(e,t,i){"use strict";(function(e,t){var o=i("47a9");i("c163");o(i("3240"));var s=o(i("beda"));e.__webpack_require_UNI_MP_PLUGIN__=i,t(s.default)}).call(this,i("3223")["default"],i("df3c")["createPage"])},"643f":function(e,t,i){},beda:function(e,t,i){"use strict";i.r(t);var o=i("1181"),s=i("0134");for(var r in s)["default"].indexOf(r)<0&&function(e){i.d(t,e,(function(){return s[e]}))}(r);i("ce0b");var n=i("828b"),a=Object(n["a"])(s["default"],o["b"],o["c"],!1,null,"0243952b",null,!1,o["a"],void 0);t["default"]=a.exports},ce0b:function(e,t,i){"use strict";var o=i("643f"),s=i.n(o);s.a}},[["45f7","common/runtime","common/vendor"]]]);