(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/shop/register"],{1187:function(t,e,i){"use strict";i.r(e);var n=i("8ad4"),a=i("f0d4");for(var s in a)["default"].indexOf(s)<0&&function(t){i.d(e,t,(function(){return a[t]}))}(s);i("d4ff");var o=i("828b"),c=Object(o["a"])(a["default"],n["b"],n["c"],!1,null,null,null,!1,n["a"],void 0);e["default"]=c.exports},"12c5":function(t,e,i){"use strict";(function(t){var n=i("47a9");Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var a=n(i("1727")),s={components:{Upload:a.default},data:function(){return{form:{image_frontid:0,business_id:0,mobile:"",password:""},isupload:!1,type:"frontid",image_frontid_path:"",business_id_path:"",bg_image:"",classify_data_name:"",classify_data_id:"",classify_data_name_active:"",classify_data_id_active:"",second:60,send_btn_txt:"获取验证码",is_send:!1,sms_open:0}},created:function(){this.getData(),this.get_classify()},methods:{changeMsg:function(){this.second>0?(this.send_btn_txt=this.second+"秒",this.second--,setTimeout(this.changeMsg,1e3)):(this.send_btn_txt="获取验证码",this.second=60,this.is_send=!1)},getData:function(){var t=this;t._get("user.index/detail",{},(function(e){t.bg_image=e.data.setting.supplier_image}))},getCode:function(t){var e=this;e._post("supplier.apply/sendCode",{mobile:t},(function(t){e.is_send=!0,e.changeMsg()}))},get_classify:function(){var t=this;t._post("supplier.apply/category",{},(function(e){for(var i=[],n=[],a=0;a<e.data.list.length;a++)i.push(e.data.list[a].name);for(var s=0;s<e.data.list.length;s++)n.push(e.data.list[s].category_id);t.classify_data_name=i,t.classify_data_id=n,t.sms_open=e.data.sms_open}))},select:function(){var e=this;t.showActionSheet({itemList:e.classify_data_name,success:function(t){e.classify_data_name_active=e.classify_data_name[t.tapIndex],e.classify_data_id_active=e.classify_data_id[t.tapIndex]},fail:function(t){}})},formSubmit:function(e){var i=this,n=e.detail.value;if(n.business_id=i.form.business_id,console.log(n),console.log(i.form),n.category_id=i.classify_data_id_active,""==i.classify_data_name_active)return t.showToast({title:"请填主营类别",duration:1e3,icon:"none"}),!1;if(""==n.store_name)return t.showToast({title:"请输入店铺名称",duration:1e3,icon:"none"}),!1;if(0==n.business_id)return t.showToast({title:"请上传营业执照",duration:1e3,icon:"none"}),!1;if(""==n.user_name)return t.showToast({title:"请输入真实姓名",duration:1e3,icon:"none"}),!1;if(""==n.mobile)return t.showToast({title:"请输入手机号码",duration:1e3,icon:"none"}),!1;if(""==n.code&&1==i.sms_open)return t.showToast({title:"请填写验证码",duration:1e3,icon:"none"}),!1;if(""==n.password)return t.showToast({title:"请填写登录密码",duration:1e3,icon:"none"}),!1;if(!/^((0\d{2,3}-\d{7,8})|(1[3456789]\d{9}))$/.test(n.mobile))return t.showToast({title:"手机号码格式不正确",duration:1e3,icon:"none"}),!1;t.showLoading({title:"正在提交",mask:!0}),i._post("supplier.apply/index",n,(function(e){i.showSuccess(e.msg,(function(){i.gotoPage("/pages/shop/application_status")}),null,(function(){t.hideLoading()}))}))},openUpload:function(t){this.type=t,this.isupload=!0},getImgsFunc:function(t){console.log(t),null!=t&&t.length>0&&("frontid"==this.type?(console.log(t[0].file_id),this.image_frontid_path=t[0].file_path,this.form.image_frontid=t[0].file_id):"license"==this.type&&(console.log(t[0].file_id),this.business_id_path=t[0].file_path,this.form.business_id=t[0].file_id)),this.isupload=!1},changeSelect:function(t){this.classify_data_id_active=this.classify_data_id[t.detail.value],this.classify_data_name_active=this.classify_data_name[t.detail.value]}}};e.default=s}).call(this,i("df3c")["default"])},1727:function(t,e,i){"use strict";i.r(e);var n=i("db94"),a=i("1fb8");for(var s in a)["default"].indexOf(s)<0&&function(t){i.d(e,t,(function(){return a[t]}))}(s);var o=i("828b"),c=Object(o["a"])(a["default"],n["b"],n["c"],!1,null,null,null,!1,n["a"],void 0);e["default"]=c.exports},"1fb8":function(t,e,i){"use strict";i.r(e);var n=i("6745"),a=i.n(n);for(var s in n)["default"].indexOf(s)<0&&function(t){i.d(e,t,(function(){return n[t]}))}(s);e["default"]=a.a},"2aed":function(t,e,i){},6745:function(t,e,i){"use strict";(function(t){var n=i("47a9");Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var a=n(i("3b2d")),s={data:function(){return{imageList:[]}},props:["num","isVideo"],onLoad:function(){},mounted:function(){this.chooseImageFunc()},methods:{chooseImageFunc:function(){var e=this;this.isVideo?t.chooseVideo({maxDuration:60,camera:"back",success:function(t){if(console.log(t),t){var i=[];i.push(t.tempFilePath),console.log(i),e.uploadFile(i)}},fail:function(t){console.log(t),e.$emit("getImgs",null)}}):t.chooseImage({count:e.num||9,sizeType:["original","compressed"],sourceType:["album","camera"],success:function(t){e.uploadFile(t.tempFilePaths)},fail:function(t){e.$emit("getImgs",null)},complete:function(t){}})},uploadFile:function(e){var i=this,n=0,s=e.length,o={token:t.getStorageSync("token"),app_id:i.getAppId(),file_type:i.isVideo?"video":"image"};t.showLoading({title:"上传中"}),e.forEach((function(e,c){t.uploadFile({url:i.websiteUrl+"/index.php?s=/api/file.upload/image",filePath:e,name:"iFile",formData:o,success:function(t){var e="object"===(0,a.default)(t.data)?t.data:JSON.parse(t.data);if(-1===e.code)return console.log("登录态失效, 重新登录"),void i.doLogin();1===e.code&&i.imageList.push(e.data)},complete:function(){n++,s===n&&(t.hideLoading(),i.$emit("getImgs",i.imageList))}})}))}}};e.default=s}).call(this,i("df3c")["default"])},"8ad4":function(t,e,i){"use strict";i.d(e,"b",(function(){return n})),i.d(e,"c",(function(){return a})),i.d(e,"a",(function(){}));var n=function(){var t=this.$createElement;this._self._c},a=[]},d4ff:function(t,e,i){"use strict";var n=i("2aed"),a=i.n(n);a.a},db94:function(t,e,i){"use strict";i.d(e,"b",(function(){return n})),i.d(e,"c",(function(){return a})),i.d(e,"a",(function(){}));var n=function(){var t=this.$createElement;this._self._c},a=[]},f0d4:function(t,e,i){"use strict";i.r(e);var n=i("12c5"),a=i.n(n);for(var s in n)["default"].indexOf(s)<0&&function(t){i.d(e,t,(function(){return n[t]}))}(s);e["default"]=a.a}}]);
;(global["webpackJsonp"] = global["webpackJsonp"] || []).push([
    'pages/shop/register-create-component',
    {
        'pages/shop/register-create-component':(function(module, exports, __webpack_require__){
            __webpack_require__('df3c')['createComponent'](__webpack_require__("1187"))
        })
    },
    [['pages/shop/register-create-component']]
]);
