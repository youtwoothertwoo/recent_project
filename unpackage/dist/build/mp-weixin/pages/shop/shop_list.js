(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/shop/shop_list"],{1666:function(t,e,o){"use strict";(function(t){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i={components:{uniLoadMore:function(){o.e("components/uni-load-more").then(function(){return resolve(o("948a"))}.bind(null,o)).catch(o.oe)}},data:function(){return{triggered:!0,phoneHeight:0,scrollviewHigh:0,state_active:-1,no_more:!1,loading:!0,last_page:0,page:1,list_rows:10,topRefresh:!1,type_active:"all",price_top:!1,shopData:[],searchtxt:"",keyWord:"",stateTab:!1}},computed:{loadingType:function(){return this.loading?1:0!=this.shopData.length&&this.no_more?2:0}},onShow:function(){this.getTabBarLinks()},mounted:function(){this.init(),this._freshing=!1,this.restoreData(),this.getData()},methods:{init:function(){var e=this;t.getSystemInfo({success:function(o){e.phoneHeight=o.windowHeight;var i=t.createSelectorQuery().in(e).select(".top-box");i.boundingClientRect((function(t){console.log(t);var o=e.phoneHeight-t.height;e.scrollviewHigh=o})).exec()}})},restoreData:function(){this.shopData=[],this.page=1,this.no_more=!1,this.loading=!0,this.category_id=0,this.searchtxt="",this.sortType="",this.sortPrice=0},tabTypeFunc:function(t){this.shopData=[],this.page=1,this.no_more=!1,this.loading=!0,this.type_active=t,this.getData()},getData:function(){var t=this,e=t.page,o=t.list_rows;t.loading=!0,t._post("supplier.index/list",{page:e||1,list_rows:o,sortType:t.type_active,name:t.keyWord},(function(e){t.loading=!1,t.last_page=e.data.list.last_page,t.shopData=t.shopData.concat(e.data.list.data),e.data.list.last_page<=1?t.no_more=!0:t.no_more=!1}))},onRefresh:function(){var t=this;this._freshing||(this._freshing=!0,this.restoreData(),this.getData(),setTimeout((function(){t.triggered=!1,t._freshing=!1}),2e3))},onRestore:function(){this.triggered="restore"},search:function(){this.keyWord=this.searchtxt,this.restoreData(),this.getData()},scrolltolowerFunc:function(){this.no_more||(this.page++,this.page<=this.last_page?this.getData():this.no_more=!0)},goto_shop:function(t){this.gotoPage("/pages/shop/shop?shop_supplier_id="+t)},goto_product:function(t){this.gotoPage("/pages/product/detail/detail?product_id="+t)}}};e.default=i}).call(this,o("df3c")["default"])},"67fc":function(t,e,o){"use strict";o.r(e);var i=o("f5ea"),n=o("ddfb");for(var a in n)["default"].indexOf(a)<0&&function(t){o.d(e,t,(function(){return n[t]}))}(a);o("793e");var s=o("828b"),r=Object(s["a"])(n["default"],i["b"],i["c"],!1,null,null,null,!1,i["a"],void 0);e["default"]=r.exports},"793e":function(t,e,o){"use strict";var i=o("c8ba"),n=o.n(i);n.a},"952e":function(t,e,o){"use strict";(function(t,e){var i=o("47a9");o("112d");i(o("3240"));var n=i(o("67fc"));t.__webpack_require_UNI_MP_PLUGIN__=o,e(n.default)}).call(this,o("3223")["default"],o("df3c")["createPage"])},c8ba:function(t,e,o){},ddfb:function(t,e,o){"use strict";o.r(e);var i=o("1666"),n=o.n(i);for(var a in i)["default"].indexOf(a)<0&&function(t){o.d(e,t,(function(){return i[t]}))}(a);e["default"]=n.a},f5ea:function(t,e,o){"use strict";o.d(e,"b",(function(){return i})),o.d(e,"c",(function(){return n})),o.d(e,"a",(function(){}));var i=function(){var t=this,e=t.$createElement,o=(t._self._c,t.theme()||""),i=t.theme(),n=t.__map(t.shopData,(function(e,o){var i=t.__get_orig(e),n=e.productList.length,a=n>0?e.productList.length:null;return{$orig:i,g0:n,g1:a}})),a=0==t.shopData.length&&!t.loading;t.$mp.data=Object.assign({},{$root:{m0:o,m1:i,l0:n,g2:a}})},n=[]}},[["952e","common/runtime","common/vendor"]]]);