(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/plus/signin/signin"],{"04c5":function(t,n,e){"use strict";e.r(n);var a=e("c596"),i=e("c5cc");for(var o in i)["default"].indexOf(o)<0&&function(t){e.d(n,t,(function(){return i[t]}))}(o);e("aaa2");var u=e("828b"),r=Object(u["a"])(i["default"],a["b"],a["c"],!1,null,null,null,!1,a["a"],void 0);n["default"]=r.exports},4118:function(t,n,e){},aaa2:function(t,n,e){"use strict";var a=e("4118"),i=e.n(a);i.a},c596:function(t,n,e){"use strict";e.d(n,"b",(function(){return a})),e.d(n,"c",(function(){return i})),e.d(n,"a",(function(){}));var a=function(){var t=this,n=t.$createElement,e=(t._self._c,t.loading?null:t.theme()||""),a=t.loading?null:t.theme(),i=t.loading?null:t.reward.length>0&&t.reward[0]>=1,o=!t.loading&&i?t.points_name():null,u=t.loading?null:t.reward.length>0&&1==t.reward[0]&&!t.is_sign,r=t.loading?null:t.__map(t.daylist,(function(n,e){var a=t.__get_orig(n),i=t.list.indexOf(n.day)>-1&&0==n.type,o=t.list.indexOf(n.day),u=-1==o?t.reward.indexOf(n.day-t.today)>-1&&0==n.type:null,r=-1==o?0==n.type&&-1==t.reward.indexOf(n.day-t.today):null;return{$orig:a,g2:i,g3:o,g4:u,g5:r}}));t.$mp.data=Object.assign({},{$root:{m0:e,m1:a,g0:i,m2:o,g1:u,l0:r}})},i=[]},c5cc:function(t,n,e){"use strict";e.r(n);var a=e("cfd0"),i=e.n(a);for(var o in a)["default"].indexOf(o)<0&&function(t){e.d(n,t,(function(){return a[t]}))}(o);n["default"]=i.a},cfd0:function(t,n,e){"use strict";(function(t){var a=e("47a9");Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var i=a(e("2bb2")),o={data:function(){return{loading:!0,weeklist:["日","一","二","三","四","五","六"],daylist:[],year:null,today_year:null,month:null,today_month:null,day:null,today_day:null,list:[],reward:[],days:0,today:0,is_sign:!1,point:[],rule:""}},mounted:function(){this.init()},onShow:function(){this.getData(),this.getRule()},methods:{getRule:function(){var t=this;t._get("plus.sign.sign/getSign",{},(function(n){n.data.detail=i.default.format_content(n.data.detail),t.rule=n.data.detail}))},getData:function(){var n=this;t.showLoading({title:"加载中"}),n._get("plus.sign.sign/index",{},(function(e){n.list=e.data.list[0],n.days=e.data.list[1],n.today=e.data.list[2],n.reward=e.data.arr,n.point=e.data.point,n.list.indexOf(n.day)>=0&&(n.is_sign=!0),n.loading=!1,t.hideLoading()}))},onSign:function(){var n=this;if(n.is_sign)return t.showToast({title:"今天已签到",duration:2e3}),!1;t.showLoading({title:"正在提交",mask:!0}),n._get("plus.sign.sign/add",{},(function(e){t.hideLoading(),n.showSuccess(e.data.msg,(function(){n.getData()}))}))},init:function(){if(null===this.year&&null===this.month&&null===this.day){var t=new Date;this.year=t.getFullYear(),this.today_year=t.getFullYear(),this.month=t.getMonth(),this.today_month=t.getMonth()+1,this.day=t.getDate(),this.today_day=t.getDate()}this.joinDay()},joinDay:function(){var t,n=this.getMonthCount(this.year,this.month),e=this.getPreMonthCount(this.year,this.month),a=this.getNextMonthCount(this.year,this.month),i=this.getWeekday(this.year,this.month),o=[];0!=i&&(o=e.slice(-1*i));var u=a.slice(0,42-n.length-i),r=this.numConvertNode(o,"pre"),l=this.numConvertNode(n,null),s=this.numConvertNode(u,"next");t=[].concat(r,l,s),this.daylist=t},numConvertNode:function(t,n){var e=0,a=[],i=t.length;null!=n&&("pre"==n?e=-1:(e=1,i>7&&(i-=7)));for(var o=0;o<i;o++){var u={type:e,day:t[o]};a.push(u)}return a},isLeapYear:function(t){return t%400===0||t%100!==0&&t%4===0},getMonthCount:function(t,n){var e=[31,null,31,30,31,30,31,31,30,31,30,31][n]||(this.isLeapYear(t)?29:28);return Array.from(new Array(e),(function(t,n){return n+1}))},getWeekday:function(t,n){var e=new Date(t,n,1);return e.getDay()},getPreMonthCount:function(t,n){return 0===n?this.getMonthCount(t-1,11):this.getMonthCount(t,n-1)},getNextMonthCount:function(t,n){return 11===n?this.getMonthCount(t+1,0):this.getMonthCount(t,n+1)},gotoRuleFunc:function(){this.gotoPage("/pages/plus/signin/rule/rule")}}};n.default=o}).call(this,e("df3c")["default"])},eeb3:function(t,n,e){"use strict";(function(t,n){var a=e("47a9");e("c163");a(e("3240"));var i=a(e("04c5"));t.__webpack_require_UNI_MP_PLUGIN__=e,n(i.default)}).call(this,e("3223")["default"],e("df3c")["createPage"])}},[["eeb3","common/runtime","common/vendor"]]]);