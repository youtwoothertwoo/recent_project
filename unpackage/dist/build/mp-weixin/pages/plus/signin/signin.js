(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/plus/signin/signin"],{"1e7d":function(t,n,e){"use strict";(function(t,n){var i=e("47a9");e("112d");i(e("3240"));var a=i(e("494f"));t.__webpack_require_UNI_MP_PLUGIN__=e,n(a.default)}).call(this,e("3223")["default"],e("df3c")["createPage"])},"240c":function(t,n,e){"use strict";(function(t){var i=e("47a9");Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var a=i(e("dcf5")),o={data:function(){return{loading:!0,weeklist:["日","一","二","三","四","五","六"],daylist:[],year:null,today_year:null,month:null,today_month:null,day:null,today_day:null,list:[],reward:[],days:0,today:0,is_sign:!1,point:[],rule:""}},mounted:function(){this.init()},onShow:function(){this.getData(),this.getRule()},methods:{getRule:function(){var t=this;t._get("plus.sign.sign/getSign",{},(function(n){n.data.detail=a.default.format_content(n.data.detail),t.rule=n.data.detail}))},getData:function(){var n=this;t.showLoading({title:"加载中"}),n._get("plus.sign.sign/index",{},(function(e){n.list=e.data.list[0],n.days=e.data.list[1],n.today=e.data.list[2],n.reward=e.data.arr,n.point=e.data.point,n.list.indexOf(n.day)>=0&&(n.is_sign=!0),n.loading=!1,t.hideLoading()}))},onSign:function(){var n=this;if(n.is_sign)return t.showToast({title:"今天已签到",duration:2e3}),!1;t.showLoading({title:"正在提交",mask:!0}),n._get("plus.sign.sign/add",{},(function(e){t.hideLoading(),n.showSuccess(e.data.msg,(function(){n.getData()}))}))},init:function(){if(null===this.year&&null===this.month&&null===this.day){var t=new Date;this.year=t.getFullYear(),this.today_year=t.getFullYear(),this.month=t.getMonth(),this.today_month=t.getMonth()+1,this.day=t.getDate(),this.today_day=t.getDate()}this.joinDay()},joinDay:function(){var t,n=this.getMonthCount(this.year,this.month),e=this.getPreMonthCount(this.year,this.month),i=this.getNextMonthCount(this.year,this.month),a=this.getWeekday(this.year,this.month),o=[];0!=a&&(o=e.slice(-1*a));var u=i.slice(0,42-n.length-a),r=this.numConvertNode(o,"pre"),l=this.numConvertNode(n,null),s=this.numConvertNode(u,"next");t=[].concat(r,l,s),this.daylist=t},numConvertNode:function(t,n){var e=0,i=[],a=t.length;null!=n&&("pre"==n?e=-1:(e=1,a>7&&(a-=7)));for(var o=0;o<a;o++){var u={type:e,day:t[o]};i.push(u)}return i},isLeapYear:function(t){return t%400===0||t%100!==0&&t%4===0},getMonthCount:function(t,n){var e=[31,null,31,30,31,30,31,31,30,31,30,31][n]||(this.isLeapYear(t)?29:28);return Array.from(new Array(e),(function(t,n){return n+1}))},getWeekday:function(t,n){var e=new Date(t,n,1);return e.getDay()},getPreMonthCount:function(t,n){return 0===n?this.getMonthCount(t-1,11):this.getMonthCount(t,n-1)},getNextMonthCount:function(t,n){return 11===n?this.getMonthCount(t+1,0):this.getMonthCount(t,n+1)},gotoRuleFunc:function(){this.gotoPage("/pages/plus/signin/rule/rule")}}};n.default=o}).call(this,e("df3c")["default"])},3788:function(t,n,e){"use strict";e.d(n,"b",(function(){return i})),e.d(n,"c",(function(){return a})),e.d(n,"a",(function(){}));var i=function(){var t=this,n=t.$createElement,e=(t._self._c,t.loading?null:t.theme()||""),i=t.loading?null:t.theme(),a=t.loading?null:t.reward.length>0&&t.reward[0]>=1,o=!t.loading&&a?t.points_name():null,u=t.loading?null:t.reward.length>0&&1==t.reward[0]&&!t.is_sign,r=t.loading?null:t.__map(t.daylist,(function(n,e){var i=t.__get_orig(n),a=t.list.indexOf(n.day)>-1&&0==n.type,o=t.list.indexOf(n.day),u=-1==o?t.reward.indexOf(n.day-t.today)>-1&&0==n.type:null,r=-1==o?0==n.type&&-1==t.reward.indexOf(n.day-t.today):null;return{$orig:i,g2:a,g3:o,g4:u,g5:r}}));t.$mp.data=Object.assign({},{$root:{m0:e,m1:i,g0:a,m2:o,g1:u,l0:r}})},a=[]},"494f":function(t,n,e){"use strict";e.r(n);var i=e("3788"),a=e("fe0c");for(var o in a)["default"].indexOf(o)<0&&function(t){e.d(n,t,(function(){return a[t]}))}(o);e("c4a41");var u=e("828b"),r=Object(u["a"])(a["default"],i["b"],i["c"],!1,null,null,null,!1,i["a"],void 0);n["default"]=r.exports},bc7e:function(t,n,e){},c4a41:function(t,n,e){"use strict";var i=e("bc7e"),a=e.n(i);a.a},fe0c:function(t,n,e){"use strict";e.r(n);var i=e("240c"),a=e.n(i);for(var o in i)["default"].indexOf(o)<0&&function(t){e.d(n,t,(function(){return i[t]}))}(o);n["default"]=a.a}},[["1e7d","common/runtime","common/vendor"]]]);